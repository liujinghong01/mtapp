{"version":3,"sources":["webpack:///static/js/69.1155c282cb60522e67db.js","webpack:///./src/views/storage/applyMatBill/matList.vue","webpack:///./src/api/storage/baseInfo.js?a176*****************","webpack:///matList.vue?c810","webpack:///./src/views/storage/applyMatBill/matList.vue?2139","webpack:///./src/views/storage/applyMatBill/matList.vue?1b37","webpack:///./src/views/storage/applyMatBill/matList.vue?e38e"],"names":["webpackJsonp","299","module","exports","__webpack_require__","Component","333","__webpack_exports__","storageNew","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","storageList","storageDetail","storageDel","storageRoomDel","storageMats","storageMatModify","queryMats","456","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3__utils_sess__","name","matSearch","matList","chosenMats","action","methods","searchMats","a","debounce","_this","this","query","is_include_process_type","mat_desc","then","res","store_mat_list","length","$toast","show","catch","error","description","addCount","item","quantity","$set","push","minCount","_this2","$dialog","confirm","theme","title","okText","cancelText","apply_mat_info","apply_detail_list","filter","o","mat_id","ok","console","log","set","history","go","computed","totalCount","sumCount","watch","536","version","sources","names","mappings","file","sourcesContent","sourceRoot","637","content","locals","746","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","$router","_v","staticStyle","height","display","width","margin","justify-content","align-items","flex","border-radius","attrs","type","domProps","input","target","composing","text-align","position","_l","_s","mat_no","mat_model","store_house_name","stock_qty","countChange","disabled","background-color","color","padding","staticRenderFns"],"mappings":"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","file":"static/js/69.1155c282cb60522e67db.js","sourcesContent":["webpackJsonp([69],{\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(637)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(456),\n  /* template */\n  __webpack_require__(746),\n  /* scopeId */\n  \"data-v-51140e58\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 333:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = storageNew;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = storageList;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = storageDetail;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = storageDel;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = storageRoomDel;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = storageMats;\n/* unused harmony export storageMatDel */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = storageMatModify;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = queryMats;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(7);\n\n\n\n\nfunction storageNew(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/modify',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageDetail(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/detail',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageRoomDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storeroom/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageMats(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/mat_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageMatDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/mat_type/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageMatModify(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/mat_type/modify',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction queryMats(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/store_room/search_mat',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 456:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__ = __webpack_require__(333);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'matList',\n  data: function data() {\n    return {\n      matSearch: '',\n      matList: [],\n      chosenMats: [],\n      action: 'check'\n    };\n  },\n\n  methods: {\n    searchMats: __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.debounce(function () {\n      var _this = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__[\"a\" /* queryMats */])({\n        query: {\n          is_include_process_type: 1,\n          mat_desc: this.matSearch\n        }\n      }).then(function (res) {\n        if (res.store_mat_list.length > 0) {\n          _this.matList = res.store_mat_list;\n        } else {\n          $toast.show('结果查询为空');\n          _this.matList = [];\n        }\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    }, 1000),\n    addCount: function addCount(item) {\n      if (!item.quantity) {\n        this.$set(item, 'quantity', 1);\n        this.chosenMats.push(item);\n      } else {\n        this.$set(item, 'quantity', ++item.quantity);\n      }\n    },\n    minCount: function minCount(item) {\n      var _this2 = this;\n\n      if (item.quantity === 1) {\n        $dialog.confirm({\n          theme: 'ios',\n          title: '要删除物料吗？',\n          okText: '确定',\n          cancelText: '取消'\n        }).then(function (res) {\n          if (res) {\n            _this2.apply_mat_info.apply_detail_list = _this2.apply_mat_info.apply_detail_list.filter(function (o) {\n              return o.mat_id !== item.mat_id;\n            });\n          }\n        });\n        return;\n      }\n      this.$set(item, 'quantity', --item.quantity);\n    },\n    ok: function ok() {\n      console.log('ok');\n      if (this.chosenMats.length === 0) {\n        $toast.show('请选择物料');\n        return;\n      }\n      __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].set('mats', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.chosenMats));\n      history.go(-1);\n    }\n  },\n  computed: {\n    totalCount: function totalCount() {\n      var sumCount = 0;\n\n      this.chosenMats.filter(function (o) {\n        sumCount += o.quantity;\n      });\n\n      return sumCount;\n    }\n  },\n  watch: {\n    'matSearch': function matSearch() {\n      this.searchMats();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 536:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(220)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.total[data-v-51140e58] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-51140e58] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/weibosi/webs-mt/mt/www_dev/src/views/storage/applyMatBill/matList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;MACd,cAAc;CACnB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,mBAAmB;CACtB\",\"file\":\"matList.vue\",\"sourcesContent\":[\"\\n.total[data-v-51140e58] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-51140e58] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 637:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(536);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(221)(\"44c4334c\", content, true);\n\n/***/ }),\n\n/***/ 746:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料清单\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content has-tab\"\n  }, [_c('div', {\n    staticStyle: {\n      \"height\": \"50px\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"display\": \"flex\",\n      \"width\": \"100%\",\n      \"margin\": \"10px 15px\",\n      \"justify-content\": \"center\",\n      \"align-items\": \"center\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.matSearch),\n      expression: \"matSearch\"\n    }],\n    staticStyle: {\n      \"flex\": \"0 0 80%\",\n      \"border-radius\": \"5px\"\n    },\n    attrs: {\n      \"type\": \"search\"\n    },\n    domProps: {\n      \"value\": (_vm.matSearch)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.matSearch = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-saoyisao\",\n    staticStyle: {\n      \"flex\": \"1\",\n      \"text-align\": \"center\"\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\",\n      \"position\": \"relative\"\n    }\n  }, [_c('div', {\n    staticClass: \"hairline-top\"\n  }), _vm._v(\" \"), _vm._l((_vm.matList), function(item) {\n    return _c('item', [_c('div', {\n      staticStyle: {\n        \"display\": \"flex\"\n      }\n    }, [_c('div', {\n      staticClass: \"matBill-content\",\n      staticStyle: {\n        \"width\": \"80%\"\n      }\n    }, [_c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料名称: \" + _vm._s(item.mat_desc))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料编码: \" + _vm._s(item.mat_no))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"规格型号: \" + _vm._s(item.mat_model))]), _vm._v(\" \"), _c('span', [_vm._v(\"所在仓库: \" + _vm._s(item.store_house_name))]), _vm._v(\" \"), _c('span', [_vm._v(\"库存量: \" + _vm._s(item.stock_qty))]), _vm._v(\"   \\n            \")]), _vm._v(\" \"), (item.quantity > 0) ? _c('div', {\n      staticClass: \"edit-zone\",\n      staticStyle: {\n        \"width\": \"25%\"\n      }\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.minCount(item)\n        }\n      }\n    }, [_vm._v(\"-\")]), _vm._v(\"  \\n                \"), (!item.quantity) ? _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (item.quantity),\n        expression: \"item.quantity\"\n      }],\n      attrs: {\n        \"type\": \"number\",\n        \"disabled\": \"\"\n      },\n      domProps: {\n        \"value\": (item.quantity)\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          _vm.$set(item, \"quantity\", $event.target.value)\n        }\n      }\n    }) : _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (item.quantity),\n        expression: \"item.quantity\"\n      }],\n      attrs: {\n        \"type\": \"number\"\n      },\n      domProps: {\n        \"value\": (item.quantity)\n      },\n      on: {\n        \"input\": [function($event) {\n          if ($event.target.composing) { return; }\n          _vm.$set(item, \"quantity\", $event.target.value)\n        }, function($event) {\n          _vm.countChange(item)\n        }]\n      }\n    }), _vm._v(\"\\n                  \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])]) : _c('div', {\n      staticClass: \"edit-zone\"\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])])])])\n  })], 2)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"total\"\n  }, [_c('div', {\n    staticStyle: {\n      \"display\": \"flex\"\n    }\n  }, [_c('span', [_vm._v(\"总数量 :\" + _vm._s(_vm.totalCount))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\",\n      \"color\": \"white\",\n      \"padding\": \"15px 0\"\n    },\n    on: {\n      \"click\": _vm.ok\n    }\n  }, [_vm._v(\"\\n            确定\\n        \")])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/69.1155c282cb60522e67db.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-51140e58&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./matList.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./matList.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-51140e58!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./matList.vue\"),\n  /* scopeId */\n  \"data-v-51140e58\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/storage/applyMatBill/matList.vue\n// module id = 299\n// module chunks = 69","/**\r\n * Created by zxf on 2017/11/30.\r\n */\r\n\r\nimport fetch from '@/utils/fetch'\r\n\r\n\r\n// 仓库新增修改\r\nexport function storageNew(data) {\r\n  return fetch({\r\n    url:'/api/iv/storehouse/modify',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n/// 查询仓库列表\r\nexport function storageList(data) {\r\n  return fetch({\r\n    url:'/api/iv/storehouse/list',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 查询仓库详情\r\nexport function storageDetail(data) {\r\n  return fetch({\r\n    url:'/api/iv/storehouse/detail',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n//删除仓库\r\nexport function storageDel(data) {\r\n  return fetch({\r\n    url:'/api/iv/storehouse/delete',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n//删除库位\r\nexport function storageRoomDel(data) {\r\n  return fetch({\r\n    url:'/api/iv/storeroom/delete',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//查询仓库物料类型列表\r\nexport function storageMats(data) {\r\n  return fetch({\r\n    url:'/api/iv/mat_type/list',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//查询仓库物料类型删除\r\nexport function storageMatDel(data) {\r\n  return fetch({\r\n    url:'/api/iv/mat_type/delete',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n//新增修改物料类型\r\nexport function storageMatModify(data) {\r\n  return fetch({\r\n    url:'/api/iv/mat_type/modify',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 查询库存物料 /api/iv/store_room/search_mat\r\nexport function queryMats(data) {\r\n  return fetch({\r\n    url:'/api/iv/store_room/search_mat',\r\n    method:'post',\r\n    data\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/storage/baseInfo.js","<template>\r\n    <div class=\"mw-page page storage\" v-nav=\"{hideNavbar:true}\">\r\n        <div class=\"mw-page-header\">\r\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\r\n            <span>物料清单</span>\r\n            <i class=\"right\"></i>\r\n        </div>\r\n        <div class=\"mw-page-content has-tab\">\r\n          <div style=\"height: 50px;\">\r\n            <div style=\"display: flex;width: 100%;margin: 10px 15px;justify-content: center;align-items: center\">\r\n              <input type=\"search\" style=\"flex:0 0 80%;border-radius: 5px\" v-model=\"matSearch\"/>\r\n              <i style=\"flex: 1;text-align: center\" class=\"iconfont icon-saoyisao\"></i>\r\n            </div>\r\n          </div>\r\n          <div style=\"flex: 1;position: relative\">\r\n            <div class=\"hairline-top\"></div>\r\n            <item v-for=\"item in matList\">\r\n              <div style=\"display: flex\">\r\n                <div class=\"matBill-content\" style=\"width: 80%\">\r\n                  <p class=\"title\">物料名称: {{item.mat_desc}}</p>\r\n                  <p class=\"title\">物料编码: {{item.mat_no}}</p>\r\n                  <p class=\"title\">规格型号: {{item.mat_model}}</p>\r\n                  <span>所在仓库: {{item.store_house_name}}</span>\r\n                  <span>库存量: {{item.stock_qty}}</span> &nbsp;&nbsp;\r\n                </div>\r\n                <div class=\"edit-zone\" style=\"width: 25%\" v-if=\"item.quantity>0\">\r\n                    <span @click=\"minCount(item)\">-</span>&nbsp;&nbsp;\r\n                    <input type=\"number\" v-model=\"item.quantity\" disabled v-if=\"!item.quantity\"/>\r\n                    <input type=\"number\" v-model=\"item.quantity\" v-else @input=\"countChange(item)\"/>\r\n                    &nbsp;&nbsp;<span @click=\"addCount(item)\">+</span>\r\n                </div>\r\n                <div v-else class=\"edit-zone\">\r\n                  <span @click=\"addCount(item)\">+</span>\r\n                </div>\r\n              </div>\r\n            </item>\r\n          </div>\r\n        </div>\r\n        <div class=\"mw-page-footer\">\r\n          <div class=\"btns\">\r\n            <div style=\"\" class=\"total\">\r\n              <div style=\"display: flex\">\r\n                <span >总数量 :{{totalCount}}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"btn\" style=\"background-color: #416eb6;color: white;padding: 15px 0\" @click=\"ok\">\r\n                确定\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import { queryMats } from '@/api/storage/baseInfo'\r\n  import _ from 'lodash'\r\n  import sess from '@/utils/sess'\r\n    export default{\r\n      name:'matList',\r\n        data(){\r\n          return {\r\n            matSearch: '',  //搜索关键字\r\n            matList: [\r\n\r\n            ],\r\n            chosenMats:[],    //已选择的产品\r\n//            totalPrice:0.00,  //总金额\r\n            action:'check'\r\n          }\r\n        },\r\n        methods: {\r\n          searchMats:_.debounce(\r\n            function(){\r\n              queryMats({\r\n                query:{\r\n                  is_include_process_type:1,\r\n                  mat_desc:this.matSearch\r\n                }\r\n              }).then(res=>{\r\n                if(res.store_mat_list.length>0){\r\n                  this.matList = res.store_mat_list\r\n                }else{\r\n                  $toast.show('结果查询为空')\r\n                  this.matList = []\r\n                }\r\n              }).catch(error=>{\r\n                $toast.show(error.description)\r\n              })\r\n            },1000),\r\n          addCount(item){\r\n            if(!item.quantity) {\r\n              this.$set(item,'quantity',1)\r\n              this.chosenMats.push(item)\r\n            }else{\r\n              this.$set(item,'quantity',++item.quantity)\r\n            }\r\n          },\r\n          minCount(item){//点击-号\r\n\r\n            if(item.quantity===1){\r\n              $dialog.confirm({\r\n                theme:'ios',\r\n                title:'要删除物料吗？',\r\n                okText:'确定',\r\n                cancelText:'取消'\r\n              }).then(res=>{\r\n                if(res) {\r\n                  this.apply_mat_info.apply_detail_list = this.apply_mat_info.apply_detail_list.filter(o=>{\r\n                    return o.mat_id !== item.mat_id\r\n                  })\r\n                }\r\n              })\r\n              return\r\n            }\r\n            this.$set(item,'quantity',--item.quantity)\r\n          },\r\n          ok(){\r\n            console.log('ok')\r\n            if(this.chosenMats.length === 0){\r\n              $toast.show('请选择物料')\r\n              return\r\n            }\r\n            sess.set('mats',JSON.stringify(this.chosenMats))\r\n            history.go(-1)\r\n          }\r\n        },\r\n      computed:{\r\n        totalCount(){\r\n          let sumCount = 0\r\n//          let sumPrice = 0.00\r\n          this.chosenMats.filter(o=>{\r\n            sumCount += o.quantity\r\n//            sumPrice += (o.quantity*o.price)\r\n          })\r\n//          this.totalPrice = sumPrice\r\n          return sumCount\r\n        },\r\n      },\r\n      watch:{\r\n        'matSearch':function () {\r\n          this.searchMats()\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .total{\r\n    flex: 0 0 80%;\r\n    span{\r\n      flex: 1 0 auto;text-align: center\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// matList.vue?402a51ff","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.total[data-v-51140e58] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-51140e58] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/weibosi/webs-mt/mt/www_dev/src/views/storage/applyMatBill/matList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;MACd,cAAc;CACnB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,mBAAmB;CACtB\",\"file\":\"matList.vue\",\"sourcesContent\":[\"\\n.total[data-v-51140e58] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-51140e58] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-51140e58&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/storage/applyMatBill/matList.vue\n// module id = 536\n// module chunks = 69","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-51140e58&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./matList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"44c4334c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-51140e58&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/storage/applyMatBill/matList.vue\n// module id = 637\n// module chunks = 69","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料清单\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content has-tab\"\n  }, [_c('div', {\n    staticStyle: {\n      \"height\": \"50px\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"display\": \"flex\",\n      \"width\": \"100%\",\n      \"margin\": \"10px 15px\",\n      \"justify-content\": \"center\",\n      \"align-items\": \"center\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.matSearch),\n      expression: \"matSearch\"\n    }],\n    staticStyle: {\n      \"flex\": \"0 0 80%\",\n      \"border-radius\": \"5px\"\n    },\n    attrs: {\n      \"type\": \"search\"\n    },\n    domProps: {\n      \"value\": (_vm.matSearch)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.matSearch = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-saoyisao\",\n    staticStyle: {\n      \"flex\": \"1\",\n      \"text-align\": \"center\"\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\",\n      \"position\": \"relative\"\n    }\n  }, [_c('div', {\n    staticClass: \"hairline-top\"\n  }), _vm._v(\" \"), _vm._l((_vm.matList), function(item) {\n    return _c('item', [_c('div', {\n      staticStyle: {\n        \"display\": \"flex\"\n      }\n    }, [_c('div', {\n      staticClass: \"matBill-content\",\n      staticStyle: {\n        \"width\": \"80%\"\n      }\n    }, [_c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料名称: \" + _vm._s(item.mat_desc))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料编码: \" + _vm._s(item.mat_no))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"规格型号: \" + _vm._s(item.mat_model))]), _vm._v(\" \"), _c('span', [_vm._v(\"所在仓库: \" + _vm._s(item.store_house_name))]), _vm._v(\" \"), _c('span', [_vm._v(\"库存量: \" + _vm._s(item.stock_qty))]), _vm._v(\"   \\n            \")]), _vm._v(\" \"), (item.quantity > 0) ? _c('div', {\n      staticClass: \"edit-zone\",\n      staticStyle: {\n        \"width\": \"25%\"\n      }\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.minCount(item)\n        }\n      }\n    }, [_vm._v(\"-\")]), _vm._v(\"  \\n                \"), (!item.quantity) ? _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (item.quantity),\n        expression: \"item.quantity\"\n      }],\n      attrs: {\n        \"type\": \"number\",\n        \"disabled\": \"\"\n      },\n      domProps: {\n        \"value\": (item.quantity)\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          _vm.$set(item, \"quantity\", $event.target.value)\n        }\n      }\n    }) : _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (item.quantity),\n        expression: \"item.quantity\"\n      }],\n      attrs: {\n        \"type\": \"number\"\n      },\n      domProps: {\n        \"value\": (item.quantity)\n      },\n      on: {\n        \"input\": [function($event) {\n          if ($event.target.composing) { return; }\n          _vm.$set(item, \"quantity\", $event.target.value)\n        }, function($event) {\n          _vm.countChange(item)\n        }]\n      }\n    }), _vm._v(\"\\n                  \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])]) : _c('div', {\n      staticClass: \"edit-zone\"\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])])])])\n  })], 2)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"total\"\n  }, [_c('div', {\n    staticStyle: {\n      \"display\": \"flex\"\n    }\n  }, [_c('span', [_vm._v(\"总数量 :\" + _vm._s(_vm.totalCount))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\",\n      \"color\": \"white\",\n      \"padding\": \"15px 0\"\n    },\n    on: {\n      \"click\": _vm.ok\n    }\n  }, [_vm._v(\"\\n            确定\\n        \")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-51140e58!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/storage/applyMatBill/matList.vue\n// module id = 746\n// module chunks = 69"],"sourceRoot":""}