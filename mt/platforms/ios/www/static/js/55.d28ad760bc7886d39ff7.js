webpackJsonp([55],{233:function(e,s,t){var n=t(0)(t(390),t(718),null,null);e.exports=n.exports},371:function(e,s,t){e.exports={default:t(373),__esModule:!0}},372:function(e,s,t){"use strict";s.__esModule=!0;var n=t(371),i=function(e){return e&&e.__esModule?e:{default:e}}(n);s.default=function(e,s,t){return s in e?(0,i.default)(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}},373:function(e,s,t){t(374);var n=t(5).Object;e.exports=function(e,s,t){return n.defineProperty(e,s,t)}},374:function(e,s,t){var n=t(14);n(n.S+n.F*!t(9),"Object",{defineProperty:t(10).f})},390:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t(372),i=t.n(n),o=t(13),a=t.n(o),p=t(4),c=t(80);s.default=i()({name:"chooseDep",data:function(){return{depList:[],chosenDeps:[],depNames:[],members:[],dep_id:"",type:"batch",chosenDep:""}},created:function(){this.members=this.$route.query.members,this.dep_id="null"!=this.$route.params.dep_id?this.$route.params.dep_id:"",this.type=this.$route.params.type,this.getSubDeps()},computed:{},methods:{getSubDeps:function(){var e=this;if(e.chosenCompany.company_id){var s={company_id:e.chosenCompany.company_id};t.i(c.c)(s).then(function(s){if(console.log(s),s.deps&&0!==s.deps.length){var t=[],n=[];for(var i in s.deps)if(n.push(s.deps[i].dep_name),t.push(s.deps[i]),s.deps[i].deps.length>0)for(var o in s.deps[i].deps)n.push(s.deps[i].dep_name+">"+s.deps[i].deps[o].dep_name),t.push(s.deps[i].deps[o]);e.depList=t,e.depNames=n}}).catch(function(e){console.log(e),$toast.show(e.description)})}},menuClick:function(){var e=this,s={company_id:e.chosenCompany.company_id,dep_ids:"single"===e.type?e.chosenDep:this.dep_ids,member_ids:e.members,member_dep_id:e.dep_id};t.i(c.d)(s).then(function(e){history.go(-1)}).catch(function(e){$toast.show(e.description)})}}},"computed",a()({},t.i(p.a)(["chosenCompany"]),{dep_ids:function(){var e=this,s=[];return this.depList.forEach(function(t,n){e.chosenDeps.indexOf(n)>-1&&s.push(t.dep_id)}),s}}))},718:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page company"},[t("div",{staticClass:"mw-page-header"},[t("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(s){e.$router.go(-1)}}}),e._v(" "),t("span",[e._v("选择部门")]),e._v(" "),t("i",{staticClass:"right"})]),e._v(" "),"batch"===e.type?t("div",{staticClass:"mw-page-content"},[t("von-checkbox",{attrs:{options:e.depNames,theme:"positive"},model:{value:e.chosenDeps,callback:function(s){e.chosenDeps=s},expression:"chosenDeps"}})],1):"single"===e.type?t("div",{staticClass:"mw-page-content"},[t("von-radio",{attrs:{options:e.depNames},model:{value:e.chosenDep,callback:function(s){e.chosenDep=s},expression:"chosenDep"}})],1):e._e(),e._v(" "),t("div",{staticClass:"mw-page-footer"},[t("div",{staticClass:"btns"},[t("div",{staticClass:"btn",on:{click:e.menuClick}},[e._v("确定")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=55.d28ad760bc7886d39ff7.js.map