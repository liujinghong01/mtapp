webpackJsonp([107],{298:function(t,e,i){i(709);var a=i(0)(i(497),i(852),"data-v-0240c9dd",null);t.exports=a.exports},408:function(t,e,i){"use strict";function a(t){return i.i(c.a)({url:"/api/pm/routing_tmpl_type/list",method:"post",data:t})}function n(t){return i.i(c.a)({url:"/api/pm/routing_tmpl_type/delete",method:"post",data:t})}function s(t){return i.i(c.a)({url:"/api/pm/routing_tmpl_type/edit",method:"post",data:t})}function o(t){return i.i(c.a)({url:"/api/pm/routing_tmpl/modify",method:"post",data:t})}function p(t){return i.i(c.a)({url:"/api/pm/routing_tmpl/list",method:"post",data:t})}function r(t){return i.i(c.a)({url:"/api/pm/routing_tmpl/delete",method:"post",data:t})}function l(t){return i.i(c.a)({url:"/api/pm/routing_tmpl/detail",method:"post",data:t})}e.c=a,e.b=n,e.a=s,e.d=o,e.g=p,e.f=r,e.e=l;var c=i(10)},497:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),n=i.n(a),s=(i(79),i(408)),o=i(20),p=i.n(o),r=i(1),l=i(82),c=i.n(l);e.default={name:"departmentList",components:{SwipeItem:p.a,MwPrompt:c.a},data:function(){return{addDepFlag:!1,typeName:"",dep_id:"",parent_id:"",list:[],temp_list:[]}},computed:{},activated:function(){null!=r.a.get("pg_list")&&(this.list=JSON.parse(r.a.get("pg_list")),r.a.remove("pg_list"))},mounted:function(){var t=this.$route.query;this.dep_id=t.dep_id,this.parent_id=t.parent_id,this.tmplTypeList()},methods:{addNewDep:function(){if(""==this.type)return void $toast.show("请输入内容");this.tmplTypeModify()},tmplTypeModify:function(){var t=this,e={routing_tmpl_type_info:{tmpl_type_name:this.typeName}};i.i(s.a)(e).then(function(e){t.addDepFlag=!1,$toast.show("添加类型成功"),t.tmplTypeList()}).catch(function(t){$toast.show(t.description)})},tmplTypeDelete:function(t,e){var a=this,n={type_id:t.id};i.i(s.b)(n).then(function(t){t?(a.temp_list.splice(e,1),$toast.show("删除成功")):$toast.show("工艺模板种类已被引用，不能删除！")}).catch(function(t){$toast.show(t.description)})},ascertain:function(t){var e={tmpl_type_id:t.id,tmpl_type_name:t.tmpl_type_name};r.a.set("tempType",n()(e)),this.$router.go(-1)},tmplTypeList:function(){var t=this,e={query:{status:"",tmpl_type_name:""}};i.i(s.c)(e).then(function(e){t.temp_list=e.routing_tmpl_type_list}).catch(function(t){$toast.show(t.description)})}}}},570:function(t,e,i){e=t.exports=i(225)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"typeList.vue",sourceRoot:""}])},709:function(t,e,i){var a=i(570);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(226)("981f5332",a,!0)},852:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[i("div",{staticClass:"mw-page-header"},[i("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("span",[t._v("工艺模板类型列表")]),t._v(" "),i("i",{staticClass:"right"})]),t._v(" "),i("div",{staticClass:"mw-page-content "},[i("div",{staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"}},[t._l(t.temp_list,function(e,a){return i("swipe-item",{staticClass:"req-item",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{obj:e,canSwipe:!0,swipeItemText:"删除"},on:{SwipeItemClick:function(i){t.tmplTypeDelete(e,a)}},nativeOn:{click:function(i){t.ascertain(e)}}},[i("div",[i("p",[t._v(t._s(e.tmpl_type_name))])])])}),t._v(" "),i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"})],2)],1)]),t._v(" "),i("div",{staticClass:"mw-page-footer"},[i("div",{staticClass:"btns"},[i("div",{staticClass:"btn",on:{click:function(e){t.addDepFlag=!0}}},[t._v("\n        添加类型\n      ")])])]),t._v(" "),i("mw-prompt",{attrs:{show:t.addDepFlag,okFunction:t.addNewDep,placeholder:"请输工艺模板类型名称"},on:{hidePop:function(e){t.addDepFlag=!1}},model:{value:t.typeName,callback:function(e){t.typeName=e},expression:"typeName"}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=107.4a1504c2b756485f444d.js.map