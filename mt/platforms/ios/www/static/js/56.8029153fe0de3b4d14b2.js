webpackJsonp([56],{319:function(t,e,i){i(591);var s=i(0)(i(476),i(696),"data-v-039d0c22",null);t.exports=s.exports},476:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(488),a=i(20),n=i.n(a);e.default={name:"voucherList",components:{SwipeItem:n.a},data:function(){return{tabs:["入库单据","出库单据","盘点单据","调拨单据"],tabIndex:0,pageModels:[{curr_page:0,page_size:10},{curr_page:0,page_size:10},{curr_page:0,page_size:10},{curr_page:0,page_size:10}],list:[{voucherList:[]},{voucherList:[]},{voucherList:[]},{voucherList:[]}]}},computed:{},activated:function(){},methods:{onTabClick:function(t){t!==this.tabIndex&&(this.tabIndex=t,void 0===this.list[this.tabIndex].length&&this.getVoucherList(this.tabIndex+1))},onInfinite:function(t){var e=this;setTimeout(function(){0===e.tabIndex?e.scrapList(e.tabIndex+1):e.scrapList("step0"),t()},500)},onRefresh:function(t){var e=this;setTimeout(function(){e.getVoucherList(e.tabIndex+1),t()},500)},getVoucherList:function(t){var e=this;if(!(this.pageModels[this.tabIndex].curr_page>=this.pageModels[this.tabIndex].total_page)){var a={curr_page:this.pageModels[this.tabIndex].curr_page+1,page_size:this.pageModels[this.tabIndex].page_size,query:{voucher_number:t,voucher_on:""}};i.i(s.a)(a).then(function(t){t.storehouse_list.length>0?(e.list[e.tabIndex].voucherList=e.list[e.tabIndex].voucherList.concat(t.storehouse_list),e.pageModels[e.tabIndex].curr_page=t.curr_page,e.pageModels[e.tabIndex].total_page=t.total_page):e.pageModels[e.tabIndex].total_page=0}).catch(function(t){$toast.show(t.description)})}},goDetail:function(t){this.$router.forward("/storage/voucher/Detail/"+t)}},mounted:function(){this.getVoucherList(1)}}},488:function(t,e,i){"use strict";function s(t){return i.i(a.a)({url:"/api/iv/voucher/list",method:"post",data:t})}e.a=s;var a=i(7)},490:function(t,e,i){e=t.exports=i(220)(),e.push([t.i,"\n.item > div[data-v-039d0c22] {\n  line-height: 18px;\n  color: #ababab;\n}\n.item > div span[data-v-039d0c22] {\n    color: #444;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/views/storage/voucher/list.vue"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,eAAe;CAChB;AACD;IACI,YAAY;CACf",file:"list.vue",sourcesContent:["\n.item > div[data-v-039d0c22] {\n  line-height: 18px;\n  color: #ababab;\n}\n.item > div span[data-v-039d0c22] {\n    color: #444;\n}\n"],sourceRoot:""}])},591:function(t,e,i){var s=i(490);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(221)("5c367914",s,!0)},696:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[i("div",{staticClass:"mw-page-header"},[i("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("span",[t._v("凭证列表")]),t._v(" "),i("i",{staticClass:"right"})]),t._v(" "),i("div",{staticClass:"mw-page-content has-tab"},[i("div",{staticStyle:{height:"60px"}},[i("tabs",{attrs:{"tab-items":t.tabs,"tab-index":t.tabIndex,"on-tab-click":t.onTabClick}})],1),t._v(" "),i("div",{staticStyle:{flex:"1"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[0].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[0].curr_page>=t.pageModels[0].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex===1"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[1].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[1].curr_page>=t.pageModels[1].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex===2"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[2].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[2].curr_page>=t.pageModels[2].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.tabIndex,expression:"tabIndex===3"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[3].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[3].curr_page>=t.pageModels[3].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=56.8029153fe0de3b4d14b2.js.map