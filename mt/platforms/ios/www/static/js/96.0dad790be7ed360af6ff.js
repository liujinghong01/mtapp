webpackJsonp([96],{341:function(t,a,e){e(773);var i=e(0)(e(540),e(920),"data-v-51140e58",null);t.exports=i.exports},375:function(t,a,e){"use strict";function i(t){return e.i(p.a)({url:"/api/iv/storehouse/modify",method:"post",data:t})}function n(t){return e.i(p.a)({url:"/api/iv/storehouse/list",method:"post",data:t})}function s(t){return e.i(p.a)({url:"/api/iv/storehouse/detail",method:"post",data:t})}function o(t){return e.i(p.a)({url:"/api/iv/storehouse/delete",method:"post",data:t})}function r(t){return e.i(p.a)({url:"/api/iv/storeroom/delete",method:"post",data:t})}function c(t){return e.i(p.a)({url:"/api/iv/mat_type/list",method:"post",data:t})}function l(t){return e.i(p.a)({url:"/api/iv/mat_type/modify",method:"post",data:t})}function u(t){return e.i(p.a)({url:"/api/iv/store_room/search_mat",method:"post",data:t})}function d(t){return e.i(p.a)({url:"/api/iv/store/search_mat",method:"post",data:t})}function m(t){return e.i(p.a)({url:"/api/pm/mold_mat_req/list",method:"post",data:t})}a.i=i,a.e=n,a.g=s,a.j=o,a.h=r,a.d=c,a.f=l,a.c=u,a.a=d,a.b=m;var p=e(10)},540:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(6),n=e.n(i),s=e(375),o=e(21),r=e.n(o),c=e(1);a.default={name:"matList",data:function(){return{matSearch:"",matList:[],chosenMats:[],action:"check"}},methods:{searchMats:r.a.debounce(function(){var t=this;e.i(s.c)({query:{is_include_process_type:1,mat_desc:this.matSearch}}).then(function(a){a.store_mat_list.length>0?t.matList=a.store_mat_list:($toast.show("结果查询为空"),t.matList=[])}).catch(function(t){$toast.show(t.description)})},1e3),addCount:function(t){t.quantity?this.$set(t,"quantity",++t.quantity):(this.$set(t,"quantity",1),this.chosenMats.push(t))},minCount:function(t){var a=this;if(1===t.quantity)return void $dialog.confirm({theme:"ios",title:"要删除物料吗？",okText:"确定",cancelText:"取消"}).then(function(e){e&&(a.apply_mat_info.apply_detail_list=a.apply_mat_info.apply_detail_list.filter(function(a){return a.mat_id!==t.mat_id}))});this.$set(t,"quantity",--t.quantity)},ok:function(){if(console.log("ok"),0===this.chosenMats.length)return void $toast.show("请选择物料");c.a.set("mats",n()(this.chosenMats)),history.go(-1)}},computed:{totalCount:function(){var t=0;return this.chosenMats.filter(function(a){t+=a.quantity}),t}},watch:{matSearch:function(){this.searchMats()}}}},634:function(t,a,e){a=t.exports=e(225)(),a.push([t.i,"\n.total[data-v-51140e58] {\n  -ms-flex: 0 0 80%;\n      flex: 0 0 80%;\n}\n.total span[data-v-51140e58] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: center;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/storage/applyMatBill/matList.vue"],names:[],mappings:";AACA;EACE,kBAAkB;MACd,cAAc;CACnB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,mBAAmB;CACtB",file:"matList.vue",sourcesContent:["\n.total[data-v-51140e58] {\n  -ms-flex: 0 0 80%;\n      flex: 0 0 80%;\n}\n.total span[data-v-51140e58] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: center;\n}\n"],sourceRoot:""}])},773:function(t,a,e){var i=e(634);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(226)("44c4334c",i,!0)},920:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[e("div",{staticClass:"mw-page-header"},[e("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(a){t.$router.go(-1)}}}),t._v(" "),e("span",[t._v("物料清单")]),t._v(" "),e("i",{staticClass:"right"})]),t._v(" "),e("div",{staticClass:"mw-page-content has-tab"},[e("div",{staticStyle:{height:"50px"}},[e("div",{staticStyle:{display:"flex",width:"100%",margin:"10px 15px","justify-content":"center","align-items":"center"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.matSearch,expression:"matSearch"}],staticStyle:{flex:"0 0 80%","border-radius":"5px"},attrs:{type:"search"},domProps:{value:t.matSearch},on:{input:function(a){a.target.composing||(t.matSearch=a.target.value)}}}),t._v(" "),e("i",{staticClass:"iconfont icon-saoyisao",staticStyle:{flex:"1","text-align":"center"}})])]),t._v(" "),e("div",{staticStyle:{flex:"1",position:"relative"}},[e("div",{staticClass:"hairline-top"}),t._v(" "),t._l(t.matList,function(a){return e("item",[e("div",{staticStyle:{display:"flex"}},[e("div",{staticClass:"matBill-content",staticStyle:{width:"80%"}},[e("p",{staticClass:"title"},[t._v("物料名称: "+t._s(a.mat_desc))]),t._v(" "),e("p",{staticClass:"title"},[t._v("物料编码: "+t._s(a.mat_no))]),t._v(" "),e("p",{staticClass:"title"},[t._v("规格型号: "+t._s(a.mat_model))]),t._v(" "),e("span",[t._v("所在仓库: "+t._s(a.store_house_name))]),t._v(" "),e("span",[t._v("库存量: "+t._s(a.stock_qty))]),t._v("   \n            ")]),t._v(" "),a.quantity>0?e("div",{staticClass:"edit-zone",staticStyle:{width:"25%"}},[e("span",{on:{click:function(e){t.minCount(a)}}},[t._v("-")]),t._v("  \n                "),a.quantity?e("input",{directives:[{name:"model",rawName:"v-model",value:a.quantity,expression:"item.quantity"}],attrs:{type:"number"},domProps:{value:a.quantity},on:{input:[function(e){e.target.composing||t.$set(a,"quantity",e.target.value)},function(e){t.countChange(a)}]}}):e("input",{directives:[{name:"model",rawName:"v-model",value:a.quantity,expression:"item.quantity"}],attrs:{type:"number",disabled:""},domProps:{value:a.quantity},on:{input:function(e){e.target.composing||t.$set(a,"quantity",e.target.value)}}}),t._v("\n                  "),e("span",{on:{click:function(e){t.addCount(a)}}},[t._v("+")])]):e("div",{staticClass:"edit-zone"},[e("span",{on:{click:function(e){t.addCount(a)}}},[t._v("+")])])])])})],2)]),t._v(" "),e("div",{staticClass:"mw-page-footer"},[e("div",{staticClass:"btns"},[e("div",{staticClass:"total"},[e("div",{staticStyle:{display:"flex"}},[e("span",[t._v("总数量 :"+t._s(t.totalCount))])])]),t._v(" "),e("div",{staticClass:"btn",staticStyle:{"background-color":"#416eb6",color:"white",padding:"15px 0"},on:{click:t.ok}},[t._v("\n            确定\n        ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=96.0dad790be7ed360af6ff.js.map