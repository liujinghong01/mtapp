webpackJsonp([58],{316:function(t,e,s){s(614);var i=s(0)(s(473),s(723),"data-v-35da81e6",null);t.exports=i.exports},369:function(t,e,s){"use strict";function i(t){return s.i(o.a)({url:"/api/iv/bill/search",method:"post",data:t})}function a(t){return s.i(o.a)({url:"/api/iv/bill/query_in_store_init_data",method:"post",data:t})}function n(t){return s.i(o.a)({url:"/api/iv/bill/in_store",method:"post",data:t})}e.c=i,e.b=a,e.a=n;var o=s(7)},473:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(369),a=s(20),n=s.n(a);e.default={name:"newStoragePull",components:{SwipeItem:n.a},data:function(){return{singleType:"请选择",singleNumber:"请输入单号",requestData:{query:{type:"",bill_no:""},curr_page:1,page_size:20},selectInfo:{switch:!1,selectType:"",title:"请选择类型",list:["生产类型"]},typeList:["模号","生产单号","采购单号","送货单号","内部定单号","内部定单号","入库凭证号","出库凭证号"],numbList:[]}},computed:{numberList:function(){""!==this.requestData.query.type&&""!==this.requestData.query.bill_no&&(this.selectInfo.list=[],this.requestData.curr_page=1,this.numbList=[],this.getNumb())}},activated:function(){},methods:{onSelect:function(t){switch(this.selectInfo.selectType=t,t){case"type":this.selectInfo.list=this.typeList,this.singleNumber="请输入单号",this.requestData.query.bill_no="",this.selectInfo.switch=!0;break;case"number":""===this.requestData.query.type?$toast.show("请先选择类型"):(this.selectInfo.list=[],this.selectInfo.switch=!0)}},onCheck:function(t,e){switch(this.selectInfo.selectType){case"type":this.singleType=t,this.requestData.query.type=e+1;break;case"number":this.singleNumber=t,this.$router.forward("/storage/storagePush/singleDetail/action/"+t+"/"+this.singleType)}this.selectInfo.switch=!1},getNumb:function(){var t=this;s.i(i.c)(this.requestData).then(function(e){e.bill_no_list.length>0?(t.numbList=e.bill_no_list,t.requestData.total_page=e.total_page,t.numbList.forEach(function(e,s){t.selectInfo.list.push(e.bill_no)})):t.requestData.total_page=""}).catch(function(t){$toast.show(t.description)})},onInfinite:function(t){var e=this;setTimeout(function(){e.requestData.curr_page++,e.requestData.curr_page<=e.requestData.total_page&&e.getNumb(),t()},1e3)}}}},513:function(t,e,s){e=t.exports=s(220)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"new.vue",sourceRoot:""}])},614:function(t,e,s){var i=s(513);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(221)("138a7b6c",i,!0)},723:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[s("div",{staticClass:"mw-page-header"},[s("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),s("span",[t._v("新建入库单")]),t._v(" "),s("i",{staticClass:"right iconfont icon-saoyisao"})]),t._v(" "),s("div",{staticClass:"mw-page-content singleDetail"},[s("div",{staticClass:"header"},[s("item",[t._v("\n          入库类型:\n          "),s("span",{staticClass:"item-note",staticStyle:{overflow:"visible"},on:{click:function(e){t.onSelect("type")}}},[t._v("\n            "+t._s(t.singleType)),s("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{color:"#DDD",float:"right","font-size":"20px","margin-top":"-4px"}})])]),t._v(" "),s("item",[t._v("\n          单号:"+t._s(t.numberList)+"\n          "),s("span",{staticClass:"item-note",on:{click:function(e){t.onSelect("number")}}},[t._v("\n            "+t._s(t.singleNumber)+"\n          ")])])],1)]),t._v(" "),s("div",{staticClass:"select-box",class:t.selectInfo.switch?"active":""},[s("div",{staticClass:"select-click",on:{click:function(e){t.selectInfo.switch=!1}}}),t._v(" "),s("div",{staticClass:"select-main"},[s("div",{staticClass:"main-header"},[s("p",{directives:[{name:"show",rawName:"v-show",value:"type"===t.selectInfo.selectType,expression:"selectInfo.selectType==='type'"}]},[t._v(t._s(t.selectInfo.title))]),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:"number"===t.selectInfo.selectType,expression:"selectInfo.selectType==='number'"},{name:"model",rawName:"v-model",value:t.requestData.query.bill_no,expression:"requestData.query.bill_no"}],staticStyle:{"margin-top":"10px"},attrs:{type:"text",placeholder:"请输入单号"},domProps:{value:t.requestData.query.bill_no},on:{input:function(e){e.target.composing||t.$set(t.requestData.query,"bill_no",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"main-list",staticStyle:{height:"100%"}},[s("scroll",{staticStyle:{"-webkit-overflow-scrolling":"touch",top:"70px"},attrs:{"on-infinite":t.onInfinite}},[t._l(t.selectInfo.list,function(e,i){return s("p",{directives:[{name:"show",rawName:"v-show",value:!("入库凭证号"===e||"模号"==e||"领料单号"===e||"内部定单号"===e),expression:" !(item==='入库凭证号'||item=='模号'||item==='领料单号'||item==='内部定单号') "}],on:{click:function(s){t.onCheck(e,i)}}},[t._v(t._s(e))])}),t._v(" "),"type"===t.selectInfo.selectType||t.requestData.curr_page>=t.requestData.total_page?s("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e(),t._v(" "),""===t.requestData.query.bill_no?s("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("请输入单号")]):t._e()],2)],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=58.522329b58ec735e44973.js.map