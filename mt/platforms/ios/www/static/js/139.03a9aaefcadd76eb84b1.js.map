{"version":3,"sources":["webpack:///static/js/139.03a9aaefcadd76eb84b1.js","webpack:///./src/views/user/userinfo/modifyUserinfo.vue","webpack:///modifyUserinfo.vue","webpack:///./src/views/user/userinfo/modifyUserinfo.vue?0524"],"names":["webpackJsonp","368","module","exports","__webpack_require__","Component","567","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_2__api_login__","__WEBPACK_IMPORTED_MODULE_3__utils_validate__","__WEBPACK_IMPORTED_MODULE_5_lodash__","__WEBPACK_IMPORTED_MODULE_5_lodash___default","__WEBPACK_IMPORTED_MODULE_6__components_mw_input__","__WEBPACK_IMPORTED_MODULE_6__components_mw_input___default","components","MwInput","a","name","data","param","param_edit","tempUserinfo","tempUserinfo_edit","genderOptions","title","created","this","$route","query","JSON","parse","computed","setTitle","type","methods","menuClick","_this","console","log","val","$toast","show","i","parseInt","isEqual","history","go","reqData","gender","username","mobile","email","then","res","$store","dispatch","back","catch","error","description","859","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","$router","_v","_s","attrs","options","model","callback","$$v","$set","placeholder","autofocus","staticRenderFns"],"mappings":"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","file":"static/js/139.03a9aaefcadd76eb84b1.js","sourcesContent":["webpackJsonp([139],{\n\n/***/ 368:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(567),\n  /* template */\n  __webpack_require__(859),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 567:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_login__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_validate__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__store__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_mw_input__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_mw_input___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__components_mw_input__);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: { MwInput: __WEBPACK_IMPORTED_MODULE_6__components_mw_input___default.a },\n  name: 'modifyUserinfo',\n  data: function data() {\n    return {\n      param: {},\n      param_edit: {},\n      tempUserinfo: {},\n      tempUserinfo_edit: {},\n      genderOptions: ['未知', \"男\", \"女\"],\n      title: ''\n    };\n  },\n  created: function created() {\n    this.param = this.$route.query;\n    this.param_edit = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.param));\n  },\n\n  computed: {\n    setTitle: function setTitle() {\n      var title = '';\n      switch (this.param.type) {\n        case 'gender':\n          {\n            title = '性别';break;\n          }\n        case 'username':\n          title = '昵称';break;\n        case 'mobile':\n          title = '手机号';break;\n        case 'email':\n          title = '邮箱';break;\n        case 'zone':\n          title = '选择地区';break;\n        case 'wechat':\n          title = '微信';break;\n        default:\n          title = '昵称';\n      }\n      this.title = title;\n      return title;\n    }\n  },\n  methods: {\n    menuClick: function menuClick() {\n      var _this = this;\n\n      var that = this;\n      console.log('menuClick');\n      if (this.param_edit.type !== 'gender') {\n        if (!this.param_edit.val) {\n          $toast.show(this.title + '不能为空');\n          return;\n        }\n        if (this.param.type === 'mobile' && !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__utils_validate__[\"a\" /* validatePhone */])(parseInt(this.param_edit.val))) {\n          $toast.show(this.title + '不正确');\n          return;\n        }\n      }\n      if (__WEBPACK_IMPORTED_MODULE_5_lodash___default.a.isEqual(this.param, this.param_edit)) {\n        history.go(-1);\n        return;\n      }\n\n      var reqData = {};\n      switch (this.param.type) {\n        case 'gender':\n          {\n            reqData.gender = this.param_edit.val;\n            break;\n          }\n        case 'username':\n          {\n            reqData.username = this.param_edit.val;\n            break;\n          }\n        case 'mobile':\n          {\n            reqData.mobile = this.param_edit.val;\n            break;\n          }\n        case 'email':\n          {\n            reqData.email = this.param_edit.val;\n            break;\n          }\n      }\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_login__[\"a\" /* modifyUserInfo */])(reqData).then(function (res) {\n        _this.$store.dispatch('GetInfo');\n        history.back();\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 859:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page crm\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"修改\" + _vm._s(_vm.setTitle))]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": _vm.menuClick\n    }\n  }, [_vm._v(\"保存\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [(_vm.param_edit.type === 'gender') ? _c('div', [_c('von-radio', {\n    attrs: {\n      \"options\": _vm.genderOptions\n    },\n    model: {\n      value: (_vm.param_edit.val),\n      callback: function($$v) {\n        _vm.$set(_vm.param_edit, \"val\", $$v)\n      },\n      expression: \"param_edit.val\"\n    }\n  })], 1) : _c('div', [_c('mw-input', {\n    attrs: {\n      \"placeholder\": _vm.setTitle,\n      \"autofocus\": true\n    },\n    model: {\n      value: (_vm.param_edit.val),\n      callback: function($$v) {\n        _vm.$set(_vm.param_edit, \"val\", $$v)\n      },\n      expression: \"param_edit.val\"\n    }\n  })], 1)])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/139.03a9aaefcadd76eb84b1.js","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./modifyUserinfo.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-06e7503e!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./modifyUserinfo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/userinfo/modifyUserinfo.vue\n// module id = 368\n// module chunks = 139","<template>\n  <div class=\"mw-page page crm\" v-nav=\"{hideNavbar:true}\">\n    <div class=\"mw-page-header\">\n      <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n      <span>修改{{setTitle}}</span>\n      <i class=\"right\" @click=\"menuClick\">保存</i>\n    </div>\n    <div class=\"mw-page-content\">\n\n          <div v-if=\"param_edit.type === 'gender'\">\n            <von-radio :options=\"genderOptions\" v-model=\"param_edit.val\"></von-radio>\n          </div>\n          <div v-else>\n            <mw-input :placeholder=setTitle v-model=\"param_edit.val\" :autofocus=\"true\"></mw-input>\n          </div>\n          <!--<div v-else-if=\"param_edit.type === 'mobile'\">-->\n            <!--<mw-input placeholder=\"请输入手机号\" v-model=\"param_edit.val\" :autofocus=\"true\"></mw-input>-->\n          <!--</div>-->\n          <!--<div v-else-if=\"param_edit.type === 'email'\">-->\n            <!--<mw-input placeholder=\"请输入邮箱\" v-model=\"param_edit.val\" :autofocus=\"true\"></mw-input>-->\n          <!--</div>-->\n          <!--<div v-else-if=\"type === 'zone'\">-->\n            <!--<von-input type=\"text\" v-model=\"tempUserinfo.zone\" :placeholder=\"tempUserinfo.zone?tempUserinfo.zone:'选择地区'\" floatingLabel=\"true\" label=\"地区\"></von-input>-->\n          <!--</div>-->\n    </div>\n  </div>\n</template>\n<script>\n  import {mapGetters} from 'vuex'\n  import { modifyUserInfo } from '@/api/login'\n  import { validatePhone } from '@/utils/validate'\n  import store from '@/store'\n  import _ from 'lodash'\n  import MwInput from \"../../../components/mw-input\";\n  export default{\n    components: {MwInput},\n    name:'modifyUserinfo',\n    data(){\n      return {\n//        type:this.$route.params.type,\n//        param:this.$route.params.param,\n        param:{},\n        param_edit:{},\n        tempUserinfo:{},\n        tempUserinfo_edit:{},\n        genderOptions:['未知',\"男\", \"女\"],\n        title: ''\n      }\n    },\n    created(){\n      this.param = this.$route.query\n      this.param_edit = JSON.parse(JSON.stringify(this.param))\n\n//      if(!this.$route.params.param||this.$route.params.param.indexOf('null')>-1){\n//        this.tempUserinfo[this.type] = '';\n//      }else{\n//\n//        this.tempUserinfo[this.type] = this.type==='gender'?parseInt(this.$route.params.param):this.$route.params.param\n//      }\n    },\n    computed:{\n      setTitle(){\n        let title = '';\n        switch (this.param.type){\n          case 'gender':{\n            title = '性别' ;break\n          }\n          case 'username': title = '昵称';break;\n          case 'mobile': title = '手机号';break;\n          case 'email': title = '邮箱';break;\n          case 'zone': title = '选择地区';break;\n          case 'wechat': title = '微信';break;\n          default: title = '昵称'\n        }\n        this.title = title\n        return title\n      },\n//      ...mapGetters(['userinfo'])\n    },\n    methods:{\n      menuClick(){\n        const that = this;\n        console.log('menuClick');\n        if (this.param_edit.type !== 'gender') {\n          if(!this.param_edit.val){\n            $toast.show(this.title+'不能为空')\n            return\n          }\n          if(this.param.type === 'mobile' && !validatePhone(parseInt(this.param_edit.val))){\n            $toast.show(this.title+'不正确')\n            return\n          }\n        }\n        if (_.isEqual(this.param,this.param_edit)) {\n          history.go(-1)\n          return\n        }\n\n        let reqData = {}\n        switch (this.param.type){\n          case 'gender':{\n            reqData.gender = this.param_edit.val\n            break\n          }\n          case 'username':{\n            reqData.username = this.param_edit.val\n            break\n          }\n          case 'mobile':{\n            reqData.mobile = this.param_edit.val\n            break\n          }\n          case 'email':{\n            reqData.email = this.param_edit.val\n            break\n          }\n        }\n        modifyUserInfo(reqData).then(res=>{\n          this.$store.dispatch('GetInfo');\n          history.back()\n        }).catch(error=>{\n          $toast.show(error.description)\n        })\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// modifyUserinfo.vue?1bfc8bb6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page crm\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"修改\" + _vm._s(_vm.setTitle))]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": _vm.menuClick\n    }\n  }, [_vm._v(\"保存\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [(_vm.param_edit.type === 'gender') ? _c('div', [_c('von-radio', {\n    attrs: {\n      \"options\": _vm.genderOptions\n    },\n    model: {\n      value: (_vm.param_edit.val),\n      callback: function($$v) {\n        _vm.$set(_vm.param_edit, \"val\", $$v)\n      },\n      expression: \"param_edit.val\"\n    }\n  })], 1) : _c('div', [_c('mw-input', {\n    attrs: {\n      \"placeholder\": _vm.setTitle,\n      \"autofocus\": true\n    },\n    model: {\n      value: (_vm.param_edit.val),\n      callback: function($$v) {\n        _vm.$set(_vm.param_edit, \"val\", $$v)\n      },\n      expression: \"param_edit.val\"\n    }\n  })], 1)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-06e7503e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/userinfo/modifyUserinfo.vue\n// module id = 859\n// module chunks = 139"],"sourceRoot":""}