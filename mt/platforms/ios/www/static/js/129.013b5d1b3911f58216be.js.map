{"version":3,"sources":["webpack:///static/js/129.013b5d1b3911f58216be.js","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue","webpack:///cst_process_list.vue","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue?08da","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue?d333","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue?8582"],"names":["webpackJsonp","264","module","exports","__webpack_require__","Component","462","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default","__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__","__WEBPACK_IMPORTED_MODULE_3__utils_sess__","name","components","swipeItem","a","data","process_list","action","currItem","computed","totalPrice","total","this","length","i","parseFloat","process_cost","toFixed","mounted","compute_id","$route","params","activated","processItem","get","id","process_name","push","saveData","remove","getProcessList","methods","_this","reqData","then","res","console","log","catch","error","$toast","show","description","backClick","history","go","closeMask","swipe","delItem","item","_this2","$dialog","confirm","theme","title","cancelText","okText","processItemIds","filter","o","onItemClick","$router","forward","path","query","process_detail","encodeURIComponent","onSwipeLeft","$set","addOneProcess","607","version","sources","names","mappings","file","sourcesContent","sourceRoot","746","content","locals","893","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","_v","staticStyle","padding-left","_s","_l","attrs","swipeItemText","canSwipe","hasArrow","obj","SwipeItemClick","ItemClick","SwipeLeft","staticRenderFns"],"mappings":"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","file":"static/js/129.013b5d1b3911f58216be.js","sourcesContent":["webpackJsonp([129],{\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(746)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(462),\n  /* template */\n  __webpack_require__(893),\n  /* scopeId */\n  \"data-v-3694baee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 462:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'cst_process_list',\n  components: {\n    swipeItem: __WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default.a\n  },\n  data: function data() {\n    return {\n      process_list: [],\n      action: '',\n      currItem: {}\n    };\n  },\n\n  computed: {\n    totalPrice: function totalPrice() {\n      var total = 0;\n      if (this.process_list.length > 0) {\n        for (var i in this.process_list) {\n          if (parseFloat(this.process_list[i].process_cost)) {\n            total += parseFloat(this.process_list[i].process_cost);\n          }\n        }\n        return total.toFixed(2);\n      } else {\n        return 0.00;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.compute_id = this.$route.params.compute_id;\n    this.action = this.$route.params.action;\n  },\n  activated: function activated() {\n    var processItem = __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].get('process_detail');\n    if (processItem) {\n      if (!processItem.id) {\n        this.process_list.push(processItem);\n      } else {\n        for (var i in this.process_list) {\n          if (this.process_list[i].process_name === processItem.process_name) {\n            this.process_list[i] = processItem;\n          }\n        }\n      }\n      this.saveData();\n      __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].remove('process_detail');\n    } else {\n      this.getProcessList();\n    }\n  },\n\n  methods: {\n    getProcessList: function getProcessList() {\n      var _this = this;\n\n      var reqData = {\n        compute_id: this.compute_id\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__[\"b\" /* processList */])(reqData).then(function (res) {\n        console.log(res);\n        _this.process_list = res.process_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    backClick: function backClick() {\n      history.go(-1);\n    },\n    closeMask: function closeMask() {\n      this.currItem.swipe = false;\n      this.currItem = {};\n    },\n    delItem: function delItem(item) {\n      var _this2 = this;\n\n      $dialog.confirm({\n        theme: 'ios',\n\n        title: '确定要删除' + item.process_name + '吗?',\n\n        cancelText: '取消',\n\n        okText: '确定'\n      }).then(function (res) {\n        console.log('confirm result: ', res);\n        if (res) {\n          var reqData = {\n            compute_id: _this2.compute_id,\n            processItemIds: [item.id]\n          };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__[\"c\" /* processItemDel */])(reqData).then(function (res) {\n            $toast.show('删除成功');\n            _this2.process_list = _this2.process_list.filter(function (o) {\n              return o.process_name != item.process_name;\n            });\n          }).catch(function (error) {});\n        }\n      });\n    },\n    onItemClick: function onItemClick(item) {\n      if (this.currItem.swipe) {\n        this.currItem.swipe = false;\n        return;\n      }\n\n      $router.forward({\n        path: '/customerOrder/compute/cst_process_detail',\n        query: {\n          action: this.action,\n          process_detail: encodeURIComponent(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(item))\n        }\n      });\n    },\n    onSwipeLeft: function onSwipeLeft(item) {\n      this.$set(item, 'swipe', true);\n      this.currItem = item;\n    },\n    saveData: function saveData() {\n      var reqData = {\n        compute_id: this.compute_id,\n        process_list: this.process_list\n      };\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__[\"d\" /* addProcess */])(reqData).then(function (res) {\n        console.log(res);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    addOneProcess: function addOneProcess() {\n      $router.forward({\n        path: '/customerOrder/compute/cst_process_detail',\n        query: {\n          action: 'new',\n          process_detail: this.compute_id\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 607:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/customerOrder/quotes/compute/cst_process_list.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,WAAW;EACX,aAAa;EACb,kBAAkB;EAClB,oBAAoB;CACrB\",\"file\":\"cst_process_list.vue\",\"sourcesContent\":[\"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 746:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(607);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"f061bece\", content, true);\n\n/***/ }),\n\n/***/ 893:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"加工费明细\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('list', [_c('item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.process_list.length > 0),\n      expression: \"process_list.length>0\"\n    }]\n  }, [_c('p', {\n    staticClass: \"label\"\n  }, [_vm._v(\"总计\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"value\",\n    staticStyle: {\n      \"padding-left\": \"16px\"\n    }\n  }, [_vm._v(_vm._s(_vm.totalPrice) + \" 元\")])]), _vm._v(\" \"), _vm._l((_vm.process_list), function(item) {\n    return _c('swipe-item', {\n      attrs: {\n        \"swipeItemText\": \"删除\",\n        \"canSwipe\": true,\n        \"hasArrow\": true,\n        \"obj\": item\n      },\n      on: {\n        \"SwipeItemClick\": _vm.delItem,\n        \"ItemClick\": _vm.onItemClick,\n        \"SwipeLeft\": _vm.onSwipeLeft\n      }\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(_vm._s(item.process_name))]), _c('span', {\n      staticClass: \"value\"\n    }, [_vm._v(_vm._s(item.process_cost) + \" 元\")])])\n  }), _vm._v(\" \"), _c('button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.action === 'edit' || _vm.action === 'new'),\n      expression: \"action ==='edit' || action ==='new'\"\n    }],\n    staticClass: \"button button-calm button-block button-outline\",\n    on: {\n      \"click\": _vm.addOneProcess\n    }\n  }, [_vm._v(\"添加加工项目\")])], 2)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/129.013b5d1b3911f58216be.js","\n/* styles */\nrequire(\"!!../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3694baee&scoped=true!sass-loader?sourceMap!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cst_process_list.vue\")\n\nvar Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cst_process_list.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3694baee!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cst_process_list.vue\"),\n  /* scopeId */\n  \"data-v-3694baee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 264\n// module chunks = 129","<template>\n  <div class=\"mw-page page\" v-nav=\"{hideNavbar:true}\">\n    <div class=\"mw-page-header\">\n      <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n      <span>加工费明细</span>\n      <i class=\"right\"></i>\n    </div>\n    <div class=\"mw-page-content\">\n      <list>\n        <item v-show=\"process_list.length>0\">\n          <p class=\"label\">总计</p>\n          <p class=\"value\" style=\"padding-left: 16px\">{{totalPrice}} 元</p>\n        </item>\n        <swipe-item\n          swipeItemText=\"删除\"\n          :canSwipe=\"true\"\n          v-on:SwipeItemClick=\"delItem\"\n          v-on:ItemClick=\"onItemClick\"\n          v-on:SwipeLeft=\"onSwipeLeft\"\n          v-for=\"item in process_list\"\n          :hasArrow=\"true\"\n          :obj=\"item\">\n          <span class=\"label\">{{item.process_name}}</span><span class=\"value\">{{item.process_cost}} 元</span>\n        </swipe-item>\n        <button @click=\"addOneProcess\" v-show=\"action ==='edit' || action ==='new'\" class=\"button button-calm button-block button-outline\">添加加工项目</button>\n      </list>\n    </div>\n    </div>\n</template>\n<script>\n  import swipeItem from '@/components/swipeItem'\n  import { addProcess,processList,processItemDel } from '@/api/customerOrder/compute'\n  import sess from '@/utils/sess'\n  export default{\n    name:'cst_process_list',\n    components:{\n      swipeItem\n    },\n    data(){\n      return {\n        process_list:[\n\n        ],\n        action:'',\n        currItem:{\n\n        }\n      }\n    },\n    computed:{\n      totalPrice(){\n        let total = 0;\n        if(this.process_list.length > 0){\n          for(let i in this.process_list){\n            if(parseFloat(this.process_list[i].process_cost)){\n              total += parseFloat(this.process_list[i].process_cost)\n            }\n          }\n          return total.toFixed(2)\n        }else{\n          return 0.00\n        }\n      }\n    },\n    mounted(){\n      this.compute_id = this.$route.params.compute_id\n      this.action = this.$route.params.action\n    },\n    activated(){\n      const processItem = sess.get('process_detail')\n      if(processItem){\n        if(!processItem.id){\n          this.process_list.push(processItem)\n        }else{\n          for(let i in this.process_list){\n            if(this.process_list[i].process_name === processItem.process_name){\n              this.process_list[i] = processItem\n            }\n          }\n        }\n        this.saveData()\n        sess.remove('process_detail')\n      }else{\n        this.getProcessList()\n      }\n    },\n    methods:{\n      getProcessList(){\n        const reqData = {\n          compute_id:this.compute_id\n        }\n        processList(reqData).then(res=>{\n          console.log(res)\n          this.process_list = res.process_list\n        }).catch(error=>{\n          $toast.show(error.description)\n        })\n      },\n      backClick(){\n        history.go(-1)\n      },\n      closeMask(){\n        this.currItem.swipe = false;\n        this.currItem = {}\n      },\n      delItem(item){\n        $dialog.confirm({\n          theme:'ios',\n          // 标题\n          title: '确定要删除'+item.process_name+'吗?',\n          // 取消按钮文本\n          cancelText: '取消',\n          // 确定按钮文本\n          okText: '确定'\n        }).then((res) => {\n          console.log('confirm result: ', res)\n          if(res){\n            const reqData = {\n              compute_id:this.compute_id,\n              processItemIds:[item.id]\n            }\n            processItemDel(reqData).then(res=>{\n              $toast.show('删除成功')\n              this.process_list = this.process_list.filter(o=>{\n                return o.process_name != item.process_name\n              })\n            }).catch(error=>{\n\n            })\n          }\n\n        })\n      },\n      onItemClick(item){\n        if(this.currItem.swipe){\n          this.currItem.swipe = false;\n          return;\n        }\n        //$router.forward('/customerOrder/compute/cst_process_detail/'+this.action+'/'+encodeURIComponent(JSON.stringify(item)));\n        $router.forward({\n          path:'/customerOrder/compute/cst_process_detail',\n          query:{\n            action:this.action,\n            process_detail:encodeURIComponent(JSON.stringify(item))\n          }\n        })\n      },\n      onSwipeLeft(item){\n        this.$set(item,'swipe',true);\n        this.currItem = item\n      },\n      saveData(){\n        const reqData = {\n          compute_id:this.compute_id,\n          process_list:this.process_list\n        }\n\n        addProcess(reqData).then(res=>{\n//          this.action = 'check'\n          console.log(res)\n        }).catch(error=>{\n          $toast.show(error.description)\n        })\n      },\n      addOneProcess(){\n        $router.forward({\n          path:'/customerOrder/compute/cst_process_detail',\n          query:{\n            action:'new',\n            process_detail:this.compute_id\n          }\n        });\n      }\n    },\n  }\n</script>\n<style scoped lang=\"scss\">\n  .label{\n    width: 30%;\n    float: left;\n    height: 100%;\n    text-align: left;\n  }\n  .value{\n    width: 70%;\n    float: right;\n    text-align: right;\n    padding-right: 15px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// cst_process_list.vue?3f67bf66","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/customerOrder/quotes/compute/cst_process_list.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,WAAW;EACX,aAAa;EACb,kBAAkB;EAClB,oBAAoB;CACrB\",\"file\":\"cst_process_list.vue\",\"sourcesContent\":[\"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3694baee&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 607\n// module chunks = 129","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-3694baee&scoped=true!../../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./cst_process_list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"f061bece\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3694baee&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 746\n// module chunks = 129","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"加工费明细\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('list', [_c('item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.process_list.length > 0),\n      expression: \"process_list.length>0\"\n    }]\n  }, [_c('p', {\n    staticClass: \"label\"\n  }, [_vm._v(\"总计\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"value\",\n    staticStyle: {\n      \"padding-left\": \"16px\"\n    }\n  }, [_vm._v(_vm._s(_vm.totalPrice) + \" 元\")])]), _vm._v(\" \"), _vm._l((_vm.process_list), function(item) {\n    return _c('swipe-item', {\n      attrs: {\n        \"swipeItemText\": \"删除\",\n        \"canSwipe\": true,\n        \"hasArrow\": true,\n        \"obj\": item\n      },\n      on: {\n        \"SwipeItemClick\": _vm.delItem,\n        \"ItemClick\": _vm.onItemClick,\n        \"SwipeLeft\": _vm.onSwipeLeft\n      }\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(_vm._s(item.process_name))]), _c('span', {\n      staticClass: \"value\"\n    }, [_vm._v(_vm._s(item.process_cost) + \" 元\")])])\n  }), _vm._v(\" \"), _c('button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.action === 'edit' || _vm.action === 'new'),\n      expression: \"action ==='edit' || action ==='new'\"\n    }],\n    staticClass: \"button button-calm button-block button-outline\",\n    on: {\n      \"click\": _vm.addOneProcess\n    }\n  }, [_vm._v(\"添加加工项目\")])], 2)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3694baee!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 893\n// module chunks = 129"],"sourceRoot":""}