{"version":3,"sources":["webpack:///static/js/72.75b9eee0065da9fd1559.js","webpack:///./src/views/purchase/requirements/index.vue","webpack:///./src/api/purchase/requirement.js","webpack:///index.vue?604d","webpack:///./src/views/purchase/requirements/index.vue?b56f","webpack:///./src/views/purchase/requirements/index.vue?279c","webpack:///./src/views/purchase/requirements/index.vue?3f82"],"names":["webpackJsonp","290","module","exports","__webpack_require__","Component","366","__webpack_exports__","requirementList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","requirementDetail","447","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__","__WEBPACK_IMPORTED_MODULE_2__utils_sess__","name","check","showFilter","isCheckAll","pageModel","curr_page","total_page","page_size","require_list","query","create_type","mat_desc","types","code","computed","checkedMats","this","filter","o","checkedTypes","checked","methods","onInfinite","done","that","setTimeout","getData","onRefresh","onItemClick","item","$router","forward","require_id","createPurchase","length","$toast","show","set","inquiry","refresh","_this","reqData","then","res","concat","catch","error","description","checkAll","_this2","forEach","$set","checkType","delItems","$dialog","confirm","theme","title","cancelText","confirmText","reset","mounted","522","push","version","sources","names","mappings","file","sourceRoot","623","content","locals","732","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","go","_v","_e","staticStyle","padding-left","float","color","padding-right","_s","-webkit-overflow-scrolling","attrs","on-infinite","on-refresh","_l","class","mat_no","create_type_name","plan_qty","mat_type_name","total_price","slot","text-align","position","padding","key","background-color","staticRenderFns"],"mappings":"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","file":"static/js/72.75b9eee0065da9fd1559.js","sourcesContent":["webpackJsonp([72],{\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(623)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(447),\n  /* template */\n  __webpack_require__(732),\n  /* scopeId */\n  \"data-v-3b208cd6\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 366:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = requirementList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = requirementDetail;\n/* unused harmony export requirementDel */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(7);\n\n\n\n\nfunction requirementList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pc/mat_require_plan/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction requirementDetail(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: 'api/pc/mat_require_plan/detail',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction requirementDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pc/mat_require_plan/delete',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 447:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__ = __webpack_require__(366);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'requirements',\n  data: function data() {\n    return {\n      check: false,\n      showFilter: false,\n      isCheckAll: true,\n      pageModel: {\n        curr_page: 0,\n        total_page: 0,\n        page_size: 10\n      },\n      require_list: [],\n      query: {\n        create_type: [],\n        mat_desc: ''\n      },\n      types: [{ code: 1, value: '定单下达' }, { code: 2, value: '库存报警' }, { code: 3, value: 'BOM审批' }, { code: 4, value: '请购单' }, { code: 5, value: '下料转采购' }]\n    };\n  },\n\n  computed: {\n    checkedMats: function checkedMats() {\n      var mats = [];\n      mats = this.require_list.filter(function (o) {\n        return o.check === true;\n      });\n      return mats;\n    },\n    checkedTypes: function checkedTypes() {\n      var types = [];\n      this.query.create_type = types = this.types.filter(function (o) {\n        return o.checked === true;\n      });\n      return types;\n    }\n  },\n  methods: {\n    onInfinite: function onInfinite(done) {\n      var that = this;\n      if (that.pageModel.total_page <= that.pageModel.curr_page) {\n        done();\n        return;\n      }\n      setTimeout(function () {\n        if (that.pageModel.total_page < 2) {\n          done();\n        } else {\n          that.getData();\n          done();\n        }\n      }, 400);\n    },\n    onRefresh: function onRefresh(done) {\n      var that = this;\n      setTimeout(function () {\n        that.getData(true);\n        done();\n      }, 500);\n    },\n    onItemClick: function onItemClick(item) {\n      this.$router.forward('/purchase/requirements/detail/' + item.require_id);\n    },\n    createPurchase: function createPurchase() {\n      if (this.checkedMats.length === 0) {\n        $toast.show('请先选择物料');\n        return;\n      }\n      __WEBPACK_IMPORTED_MODULE_2__utils_sess__[\"a\" /* default */].set('mats', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.checkedMats));\n      this.$router.forward('/purchase/purchase/detail/new/null');\n    },\n    inquiry: function inquiry() {\n      if (this.checkedMats.length === 0) {\n        $toast.show('请先选择物料');\n        return;\n      }\n      __WEBPACK_IMPORTED_MODULE_2__utils_sess__[\"a\" /* default */].set('mats', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.checkedMats));\n      this.$router.forward('/purchase/inquiry/detail/new/null');\n    },\n    getData: function getData(refresh) {\n      var _this = this;\n\n      var reqData = {\n        curr_page: refresh ? 1 : 1 + this.pageModel.curr_page,\n        page_size: this.pageModel.page_size,\n        query: this.query\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__[\"b\" /* requirementList */])(reqData).then(function (res) {\n        if (refresh) {\n          _this.require_list.length = 0;\n        }\n        _this.pageModel.curr_page = res.curr_page;\n        _this.pageModel.total_page = res.total_page;\n        _this.require_list = _this.require_list.concat(res.require_list);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    checkAll: function checkAll() {\n      var _this2 = this;\n\n      this.isCheckAll = !this.isCheckAll;\n      this.require_list.forEach(function (item) {\n        if (_this2.isCheckAll) {\n          _this2.$set(item, 'check', false);\n        } else {\n          _this2.$set(item, 'check', true);\n        }\n      });\n    },\n    checkType: function checkType(item) {\n      this.$set(item, 'checked', !item.checked);\n    },\n    delItems: function delItems() {\n      if (this.checkedMats.length === 0) {\n        return;\n      }\n      $dialog.confirm({\n        theme: 'ios',\n        title: '确定要删除这' + this.checkedMats.length + '项吗？',\n        cancelText: '取消',\n        confirmText: '确定'\n      }).then(function (res) {\n        if (res) {}\n      });\n    },\n    reset: function reset() {\n      this.types.forEach(function (i) {\n        i.checked = false;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getData();\n  }\n});\n\n/***/ }),\n\n/***/ 522:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(220)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 623:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(522);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(221)(\"668b0c4e\", content, true);\n\n/***/ }),\n\n/***/ 732:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page purchase\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料需求计划列表\")]), _vm._v(\" \"), (!_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = true\n      }\n    }\n  }, [_vm._v(\"操作\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = false\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('div', {\n    staticClass: \"item-divider\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.check),\n      expression: \"check\"\n    }],\n    staticStyle: {\n      \"padding-left\": \"15px\",\n      \"float\": \"left\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.checkAll\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), (!_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = true\n      }\n    }\n  }, [_vm._v(\"筛选\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.delItems\n    }\n  }, [_vm._v(\"删除(\" + _vm._s(_vm.checkedMats.length) + \")\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    },\n    attrs: {\n      \"on-infinite\": _vm.onInfinite,\n      \"on-refresh\": _vm.onRefresh\n    }\n  }, [_vm._l((_vm.require_list), function(item) {\n    return _c('div', [_c('item', {\n      class: ['req-item', _vm.check ? 'check' : '']\n    }, [_c('div', {\n      staticClass: \"checkBox\",\n      on: {\n        \"click\": function($event) {\n          _vm.$set(item, 'check', !item.check)\n        }\n      }\n    }, [_c('i', {\n      class: ['icon', item.check ? 'ion-android-checkbox active' : 'ion-android-checkbox-outline-blank']\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-detail\",\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料描述 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_desc))]), _c('i', {\n      staticClass: \"icon ion-ios-arrow-right\"\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料编码 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-content\"\n    }, [_c('span', [_vm._v(\"需求来源 : \" + _vm._s(item.create_type_name))]), _c('span', [_vm._v(\"数量 : \" + _vm._s(item.plan_qty))]), _vm._v(\" \"), _c('span', [_vm._v(\"物料类型 : \" + _vm._s(item.mat_type_name))]), _c('span', [_vm._v(\"金额 : \" + _vm._s(item.total_price))])])])])], 1)\n  }), _vm._v(\" \"), (_vm.pageModel.curr_page >= _vm.pageModel.total_page) ? _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  }, [_vm._v(\"没有更多数据\")]) : _vm._e()], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"mask\",\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = false\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: _vm.showFilter ? 'filter active' : 'filter'\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"item item-divider\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    }\n  }, [_vm._v(\"\\n      筛选\\n    \")]), _vm._v(\" \"), _c('list', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('br'), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"padding\": \"10px\"\n    }\n  }, [_vm._v(\"物料来源\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"types\"\n  }, _vm._l((_vm.types), function(item) {\n    return _c('li', {\n      key: item.code,\n      class: item.checked ? 'active' : '',\n      on: {\n        \"click\": function($event) {\n          _vm.checkType(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.value))])\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn reset\",\n    on: {\n      \"click\": _vm.reset\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getData(true)\n      }\n    }\n  }, [_vm._v(\"确定\")])])], 1), _vm._v(\" \"), (_vm.check) ? _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [(_vm.check) ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.createPurchase\n    }\n  }, [_vm._v(\"\\n        采购\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"divider\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.inquiry\n    }\n  }, [_vm._v(\"\\n        询价\\n      \")])]) : _vm._e()]) : _vm._e()])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/72.75b9eee0065da9fd1559.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3b208cd6&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3b208cd6!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  \"data-v-3b208cd6\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/purchase/requirements/index.vue\n// module id = 290\n// module chunks = 72","/**\r\n * Created by zxf on 2017/11/21.\r\n */\r\n\r\nimport fetch from '@/utils/fetch'\r\n//物料需求相关接口\r\n\r\n//需求列表\r\nexport function requirementList(data) {\r\n  return fetch({\r\n    url: '/api/pc/mat_require_plan/list',\r\n    method: 'post',\r\n    data\r\n  });\r\n}\r\n\r\n\r\n///api/pc/mat_require_plan/detail\r\nexport function requirementDetail(data) {\r\n  return fetch({\r\n    url: 'api/pc/mat_require_plan/detail',\r\n    method: 'post',\r\n    data\r\n  });\r\n}\r\n\r\n/// api/pc/mat_require_plan/delete\r\nexport function requirementDel(data) {\r\n  return fetch({\r\n    url: '/api/pc/mat_require_plan/delete',\r\n    method: 'post',\r\n    data\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/purchase/requirement.js","<template>\r\n    <div class=\"mw-page page purchase\" v-nav=\"{hideNavbar:true}\">\r\n        <div class=\"mw-page-header\">\r\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\r\n            <span>物料需求计划列表</span>\r\n            <i class=\"right\"  v-if=\"!check\" @click=\"check=true\">操作</i>\r\n            <i class=\"right\" v-if=\"check\" @click=\"check=false\">取消</i>\r\n        </div>\r\n        <div class=\"mw-page-content\">\r\n          <div class=\"item-divider\">\r\n            <span style=\"padding-left: 15px;float:left;color: #416eb6;\" v-show=\"check\" @click=\"checkAll\">全选</span>\r\n            <span style=\"float:right;padding-right: 15px;color: #416eb6;\" @click=\"showFilter=true\" v-if=\"!check\">筛选</span>\r\n            <span style=\"float:right;padding-right: 15px;color: #416eb6;\" @click=\"delItems\" v-if=\"check\">删除({{checkedMats.length}})</span>\r\n          </div>\r\n          <div class=\"content\">\r\n            <scroll class=\"page-content\" :on-infinite=\"onInfinite\" :on-refresh=\"onRefresh\" style=\"-webkit-overflow-scrolling: touch\">\r\n              <div v-for=\"item in require_list\">\r\n                <item :class=\"['req-item',check?'check':'']\" >\r\n                  <div class=\"checkBox\" @click=\"$set(item,'check',!item.check)\"><i :class=\"['icon',item.check?'ion-android-checkbox active':'ion-android-checkbox-outline-blank']\"></i> </div>\r\n                  <div class=\"req-item-detail\" @click=\"onItemClick(item)\">\r\n                    <div class=\"req-item-title\">物料描述 ：<span class=\"vi-color\">{{item.mat_desc}}</span><i class=\"icon ion-ios-arrow-right\"></i></div>\r\n                    <div class=\"req-item-title\">物料编码 ：<span class=\"vi-color\">{{item.mat_no}}</span></div>\r\n                    <div class=\"req-item-content\">\r\n                      <span>需求来源 : {{item.create_type_name}}</span><span>数量 : {{item.plan_qty}}</span>\r\n                      <span>物料类型 : {{item.mat_type_name}}</span><span>金额 : {{item.total_price}}</span>\r\n                    </div>\r\n                  </div>\r\n                </item>\r\n              </div>\r\n              <div v-if=\"pageModel.curr_page >= pageModel.total_page\" slot=\"infinite\" class=\"text-center\">没有更多数据</div>\r\n            </scroll>\r\n          </div>\r\n        </div>\r\n      <div class=\"mask\" v-show=\"showFilter\" @click=\"showFilter=false\"></div>\r\n      <div :class=\"showFilter?'filter active':'filter'\">\r\n        <div class=\"item item-divider\" style=\"text-align: center\" v-show=\"showFilter\">\r\n          筛选\r\n        </div>\r\n        <list v-show=\"showFilter\" style=\"position: relative\">\r\n          <br>\r\n          <span style=\"padding: 10px\">物料来源</span>\r\n          <ul class=\"types\">\r\n            <li v-for=\"item in types\" :key=\"item.code\" @click=\"checkType(item)\" :class=\"item.checked?'active':''\">{{item.value}}</li>\r\n          </ul>\r\n        </list>\r\n        <div class=\"btns\" v-show=\"showFilter\">\r\n          <div class=\"btn reset\" @click=\"reset\">重置</div>\r\n          <div class=\"btn\" style=\"background-color: #416eb6\" @click=\"getData(true)\">确定</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"mw-page-footer\"  v-if=\"check\">\r\n        <!--<div class=\"btns\" v-if=\"!check\">-->\r\n          <!--<div class=\"btn\" @click=\"check=true\">-->\r\n            <!--操作-->\r\n          <!--</div>-->\r\n        <!--</div>-->\r\n        <div class=\"btns\" v-if=\"check\">\r\n          <div class=\"btn\" @click=\"createPurchase\">\r\n            采购\r\n          </div>\r\n          <div class=\"divider\"></div>\r\n          <div class=\"btn\" @click=\"inquiry\">\r\n            询价\r\n          </div>\r\n          <!--<div class=\"divider\"></div>-->\r\n          <!--<div class=\"btn\" @click=\"check=true\">-->\r\n            <!--下料-->\r\n          <!--</div>-->\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import { requirementList,requirementDel } from '@/api/purchase/requirement'\r\n  import sess from '@/utils/sess'\r\n    export default{\r\n      name:'requirements',\r\n        data(){\r\n          return {\r\n            check:false,\r\n            showFilter:false,\r\n            isCheckAll:true,\r\n            pageModel:{\r\n              curr_page:0,\r\n              total_page:0,\r\n              page_size:10\r\n            },\r\n            require_list:[\r\n\r\n            ],\r\n            query:{\r\n              create_type:[],\r\n              mat_desc:''\r\n            },\r\n            types:[\r\n              {code:1,value:'定单下达'},\r\n              {code:2,value:'库存报警'},\r\n              {code:3,value:'BOM审批'},\r\n              {code:4,value:'请购单'},\r\n              {code:5,value:'下料转采购'},\r\n            ],\r\n          }\r\n        },\r\n      computed:{\r\n        checkedMats(){\r\n          let mats = []\r\n          mats = this.require_list.filter(o=>{\r\n            return o.check===true\r\n          })\r\n          return mats\r\n        },\r\n        checkedTypes(){\r\n          let types = []\r\n          this.query.create_type = types = this.types.filter(o=>{\r\n              return o.checked === true\r\n          })\r\n          return types\r\n        }\r\n      },\r\n        methods: {\r\n          onInfinite(done){\r\n            const that = this\r\n            if(that.pageModel.total_page<=that.pageModel.curr_page){\r\n              done()\r\n              return\r\n            }\r\n            setTimeout(function () {\r\n              if(that.pageModel.total_page<2){\r\n                done()\r\n              }else{\r\n                that.getData();\r\n                done()\r\n              }\r\n            },400)\r\n          },\r\n          onRefresh(done){\r\n            const that = this\r\n            setTimeout(function () {\r\n              that.getData(true)\r\n              done()\r\n            },500)\r\n          },\r\n          onItemClick(item){\r\n            this.$router.forward('/purchase/requirements/detail/'+item.require_id)\r\n          },\r\n          //生成采购单\r\n          createPurchase(){\r\n            if(this.checkedMats.length===0){\r\n              $toast.show('请先选择物料')\r\n              return\r\n            }\r\n            sess.set('mats',JSON.stringify(this.checkedMats))\r\n            this.$router.forward('/purchase/purchase/detail/new/null')\r\n          },\r\n\r\n          //询价单\r\n          inquiry(){\r\n            if(this.checkedMats.length===0){\r\n              $toast.show('请先选择物料')\r\n              return\r\n            }\r\n            sess.set('mats',JSON.stringify(this.checkedMats))\r\n            this.$router.forward('/purchase/inquiry/detail/new/null')\r\n          },\r\n          getData(refresh){\r\n\r\n            const reqData = {\r\n              curr_page :refresh? 1:1+this.pageModel.curr_page,\r\n              page_size : this.pageModel.page_size,\r\n              query:this.query\r\n            }\r\n            requirementList(reqData).then(res=>{\r\n              if(refresh){\r\n                this.require_list.length = 0\r\n              }\r\n              this.pageModel.curr_page = res.curr_page\r\n              this.pageModel.total_page = res.total_page\r\n              this.require_list = this.require_list.concat(res.require_list)\r\n\r\n            }).catch(error=>{\r\n              $toast.show(error.description)\r\n            })\r\n          },\r\n          checkAll(){\r\n            this.isCheckAll = !this.isCheckAll\r\n            this.require_list.forEach(item=>{\r\n              if(this.isCheckAll){\r\n                this.$set(item,'check',false)\r\n              }else{\r\n                this.$set(item,'check',true)\r\n              }\r\n            })\r\n          },\r\n          checkType(item){\r\n            this.$set(item,'checked',!item.checked)\r\n          },\r\n          delItems(){\r\n            if(this.checkedMats.length===0){\r\n              return\r\n            }\r\n            $dialog.confirm({\r\n              theme:'ios',\r\n              title:'确定要删除这'+this.checkedMats.length+'项吗？',\r\n              cancelText:'取消',\r\n              confirmText:'确定'\r\n            }).then(res=>{\r\n              if(res){\r\n\r\n              }\r\n            })\r\n          },\r\n          reset(){\r\n            this.types.forEach(i=>{\r\n              i.checked  = false\r\n            })\r\n          }\r\n        },\r\n      mounted(){\r\n        this.getData()\r\n      }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?05333817","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3b208cd6&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/purchase/requirements/index.vue\n// module id = 522\n// module chunks = 72","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-3b208cd6&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"668b0c4e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3b208cd6&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/purchase/requirements/index.vue\n// module id = 623\n// module chunks = 72","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page purchase\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料需求计划列表\")]), _vm._v(\" \"), (!_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = true\n      }\n    }\n  }, [_vm._v(\"操作\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = false\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('div', {\n    staticClass: \"item-divider\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.check),\n      expression: \"check\"\n    }],\n    staticStyle: {\n      \"padding-left\": \"15px\",\n      \"float\": \"left\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.checkAll\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), (!_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = true\n      }\n    }\n  }, [_vm._v(\"筛选\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.delItems\n    }\n  }, [_vm._v(\"删除(\" + _vm._s(_vm.checkedMats.length) + \")\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    },\n    attrs: {\n      \"on-infinite\": _vm.onInfinite,\n      \"on-refresh\": _vm.onRefresh\n    }\n  }, [_vm._l((_vm.require_list), function(item) {\n    return _c('div', [_c('item', {\n      class: ['req-item', _vm.check ? 'check' : '']\n    }, [_c('div', {\n      staticClass: \"checkBox\",\n      on: {\n        \"click\": function($event) {\n          _vm.$set(item, 'check', !item.check)\n        }\n      }\n    }, [_c('i', {\n      class: ['icon', item.check ? 'ion-android-checkbox active' : 'ion-android-checkbox-outline-blank']\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-detail\",\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料描述 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_desc))]), _c('i', {\n      staticClass: \"icon ion-ios-arrow-right\"\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料编码 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-content\"\n    }, [_c('span', [_vm._v(\"需求来源 : \" + _vm._s(item.create_type_name))]), _c('span', [_vm._v(\"数量 : \" + _vm._s(item.plan_qty))]), _vm._v(\" \"), _c('span', [_vm._v(\"物料类型 : \" + _vm._s(item.mat_type_name))]), _c('span', [_vm._v(\"金额 : \" + _vm._s(item.total_price))])])])])], 1)\n  }), _vm._v(\" \"), (_vm.pageModel.curr_page >= _vm.pageModel.total_page) ? _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  }, [_vm._v(\"没有更多数据\")]) : _vm._e()], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"mask\",\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = false\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: _vm.showFilter ? 'filter active' : 'filter'\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"item item-divider\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    }\n  }, [_vm._v(\"\\n      筛选\\n    \")]), _vm._v(\" \"), _c('list', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('br'), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"padding\": \"10px\"\n    }\n  }, [_vm._v(\"物料来源\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"types\"\n  }, _vm._l((_vm.types), function(item) {\n    return _c('li', {\n      key: item.code,\n      class: item.checked ? 'active' : '',\n      on: {\n        \"click\": function($event) {\n          _vm.checkType(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.value))])\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn reset\",\n    on: {\n      \"click\": _vm.reset\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getData(true)\n      }\n    }\n  }, [_vm._v(\"确定\")])])], 1), _vm._v(\" \"), (_vm.check) ? _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [(_vm.check) ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.createPurchase\n    }\n  }, [_vm._v(\"\\n        采购\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"divider\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.inquiry\n    }\n  }, [_vm._v(\"\\n        询价\\n      \")])]) : _vm._e()]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3b208cd6!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/purchase/requirements/index.vue\n// module id = 732\n// module chunks = 72"],"sourceRoot":""}