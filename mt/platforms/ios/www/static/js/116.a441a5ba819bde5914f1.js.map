{"version":3,"sources":["webpack:///static/js/116.a441a5ba819bde5914f1.js","webpack:///./src/views/mats/bom/childNodes.vue","webpack:///./src/api/mats/index.js?b5c8****","webpack:///childNodes.vue","webpack:///./src/views/mats/bom/childNodes.vue?dd66","webpack:///./src/views/mats/bom/childNodes.vue?0478","webpack:///./src/views/mats/bom/childNodes.vue?3478"],"names":["webpackJsonp","277","module","exports","__webpack_require__","Component","395","__webpack_exports__","bomList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","bomNodeList","updateNodes","cascadeType","mateName","matNameSpec","cascadeMat","rawnatureList","rawnaturePrice","bomNodeInfo","bomNodeDelete","475","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default","n","__WEBPACK_IMPORTED_MODULE_1__api_mats__","name","components","SwipeItem","a","tabs","app_flag","tabIndex","mat_no","bom_id","node_id","mat_type","list","swipeX","methods","add","this","$router","forward","onClick","item","event","cancelBubble","goDetail","touchstart","targetTouches","clientX","touchend","changedTouches","elArr","currentTarget","parentNode","children","length","classList","contains","remove","offSwipe","getData","_this","matType","requestData","query","then","res","bom_node_list","catch","error","$toast","show","description","index","_this2","$dialog","confirm","theme","title","cancelText","okText","splice","activated","mounted","$route","type","592","push","version","sources","names","mappings","file","sourceRoot","731","content","locals","876","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","go","_v","_l","staticStyle","word-break","display","width","-webkit-box-orient","-webkit-line-clamp","overflow","_s","mat_name","spec","rawnature_name","total_qty","staticRenderFns"],"mappings":"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","file":"static/js/116.a441a5ba819bde5914f1.js","sourcesContent":["webpackJsonp([116],{\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(731)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(475),\n  /* template */\n  __webpack_require__(876),\n  /* scopeId */\n  \"data-v-1ec5d8d4\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 395:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = bomList;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = bomNodeList;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = updateNodes;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = cascadeType;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = mateName;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = matNameSpec;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = cascadeMat;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = rawnatureList;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = rawnaturePrice;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = bomNodeInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = bomNodeDelete;\n/* unused harmony export commitBom */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\n\nfunction bomList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: 'api/bom_node/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction updateNodes(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/update',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeType(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction mateName(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction matNameSpec(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name_spec/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeMat(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_mat/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnatureList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnaturePrice(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/price',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeInfo(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/info',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeDelete(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction commitBom(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/app',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 475:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_mats__ = __webpack_require__(395);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'bomchildNodes',\n  components: { SwipeItem: __WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default.a },\n  data: function data() {\n    return {\n      tabs: ['半成品', '标准件', '电极'],\n      app_flag: '',\n      tabIndex: 0,\n      mat_no: '',\n      bom_id: '',\n      node_id: '',\n      mat_type: '',\n      list: [],\n      swipeX: 0\n    };\n  },\n\n  methods: {\n    add: function add() {\n      if (this.mat_type === '电极') {\n        this.$router.forward('/mats/bom/nodeDetail/new/' + this.node_id + '/2/' + this.app_flag);\n      } else {\n        this.$router.forward('/mats/bom/childNodeDetail/new/' + this.node_id + '/materials/' + this.app_flag);\n      }\n    },\n    onClick: function onClick(item) {\n      if (this.mat_type === '电极') {\n        $router.forward('/mats/bom/nodes/electrodeList/' + this.bom_id + '/' + item.node_id + '/' + item.mat_type + '/' + item.mat_no + '/' + this.app_flag);\n      }\n      event.cancelBubble = true;\n    },\n    goDetail: function goDetail(item) {\n      if (this.mat_type === '电极') {\n        this.$router.forward('/mats/bom/nodeDetail/check/' + item.node_id + '/2/' + this.app_flag);\n      } else {\n        $router.forward('/mats/bom/childNodeDetail/check/' + item.node_id + '/materials/' + this.app_flag);\n      }\n    },\n    touchstart: function touchstart() {\n      this.swipeX = event.targetTouches[0].clientX;\n    },\n    touchend: function touchend() {\n      var X = event.changedTouches[0].clientX + 30;\n      if (X < this.swipeX) {\n        var elArr = event.currentTarget.parentNode.children;\n        for (var i = 0; i < elArr.length; i++) {\n          if (elArr[i].classList.contains(\"active\")) {\n            elArr[i].classList.remove(\"active\");\n          }\n        }\n        event.currentTarget.classList.add('active');\n      }\n    },\n    offSwipe: function offSwipe() {\n      event.currentTarget.parentNode.classList.remove('active');\n    },\n    getData: function getData() {\n      var _this = this;\n\n      var matType = '';\n      if (this.mat_type === '电极') {\n        matType = '电极';\n      }\n      var requestData = {\n        query: {\n          bom_id: this.bom_id,\n          node_id: this.node_id,\n          mat_type: matType\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_mats__[\"i\" /* bomNodeList */])(requestData).then(function (res) {\n        _this.list = res.bom_node_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    bomNodeDelete: function bomNodeDelete(item, index) {\n      var _this2 = this;\n\n      event.currentTarget.parentNode.classList.remove('active');\n      $dialog.confirm({\n        theme: 'ios',\n\n        title: '确定要删除吗？',\n\n        cancelText: '取消',\n\n        okText: '确定'\n      }).then(function (res) {\n        if (res) {\n\n          var requestData = { node_id: item.node_id };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_mats__[\"j\" /* bomNodeDelete */])(requestData).then(function (res) {\n            _this2.list.splice(index, 1);\n            $toast.show('删除成功');\n          }).catch(function (error) {\n            $toast.show(error.description);\n          });\n        }\n      });\n    }\n  },\n  activated: function activated() {\n    this.getData();\n  },\n  mounted: function mounted() {\n    this.bom_id = this.$route.query.bom_id;\n    this.node_id = this.$route.query.node_id;\n    this.mat_type = this.$route.query.type;\n    this.app_flag = this.$route.query.app_flag;\n    this.getData();\n  }\n});\n\n/***/ }),\n\n/***/ 592:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"childNodes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 731:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(592);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"dd7c0cd8\", content, true);\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), (_vm.mat_type == '电极') ? _c('span', [_vm._v(\"电极列表\")]) : _c('span', [_vm._v(\"物料列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, _vm._l((_vm.list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.goDetail(item)\n        }\n      }\n    }, [_c('div', [_c('h3', [_vm._v(\"物料编号：\"), _c('span', {\n      staticStyle: {\n        \"word-break\": \"break-all\",\n        \"display\": \"-webkit-box\",\n        \"width\": \"69%\",\n        \"-webkit-box-orient\": \"vertical\",\n        \"-webkit-line-clamp\": \"1\",\n        \"overflow\": \"hidden\"\n      }\n    }, [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])]), _vm._v(\" \"), _c('span', {\n      staticClass: \"icon ion-ios-arrow-right\",\n      on: {\n        \"click\": function($event) {\n          _vm.onClick(item)\n        }\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (this.app_flag !== 'step30' && this.app_flag !== 'step0'),\n      expression: \"this.app_flag!=='step30'&&this.app_flag!=='step0'\"\n    }],\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"添加\")])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/116.a441a5ba819bde5914f1.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-1ec5d8d4&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./childNodes.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./childNodes.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-1ec5d8d4!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./childNodes.vue\"),\n  /* scopeId */\n  \"data-v-1ec5d8d4\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mats/bom/childNodes.vue\n// module id = 277\n// module chunks = 116","/**\n * Created by zxf on 2017/11/27.\n */\n\n//物料相关接口\nimport fetch from '@/utils/fetch'\n//bom列表\nexport function bomList(data) {\n  return fetch({\n    url: '/api/bom/list',\n    method: 'post',\n    data\n  })\n}\n// 某bom下的一级节点列表\n///api/bom_node/list\nexport function bomNodeList(data) {\n  return fetch({\n    url: 'api/bom_node/list',\n    method: 'post',\n    data\n  })\n}\n//新建或修改Bom节点\n// /api/bom_node/update\nexport function updateNodes(data) {\n  return fetch({\n    url: '/api/bom_node/update',\n    method: 'post',\n    data\n  })\n}\n//物料类别列表\n//  /api/cascade_type/list\nexport function cascadeType(data) {\n  return fetch({\n    url: '/api/cascade_type/list',\n    method: 'post',\n    data\n  })\n}\n//物料名称列表\n// /api/mat_name/list\nexport function mateName(data) {\n  return fetch({\n    url: '/api/mat_name/list',\n    method: 'post',\n    data\n  })\n}\n//物料名称级联规格查询\n//  /api/mat_name_spec/list\nexport function matNameSpec(data) {\n  return fetch({\n    url: '/api/mat_name_spec/list',\n    method: 'post',\n    data\n  })\n}\n//物料类型级联名称查询\n// /api/cascade_mat/list\nexport function cascadeMat(data) {\n  return fetch({\n    url: '/api/cascade_mat/list',\n    method: 'post',\n    data\n  })\n}\n//材质列表\n//  /api/rawnature/list\nexport function rawnatureList(data) {\n  return fetch({\n    url: '/api/rawnature/list',\n    method: 'post',\n    data\n  })\n}\n//计划单价计算\n// /api/rawnature/price\nexport function rawnaturePrice(data) {\n  return fetch({\n    url: '/api/rawnature/price',\n    method: 'post',\n    data\n  })\n}\n//查询BOM节点详细信息\n//  /api/bom_node/info\nexport function bomNodeInfo(data) {\n  return fetch({\n    url: '/api/bom_node/info',\n    method: 'post',\n    data\n  })\n}\n//删除Bom节点\n//  /api/bom_node/delete\nexport function bomNodeDelete(data) {\n  return fetch({\n    url: '/api/bom_node/delete',\n    method: 'post',\n    data\n  })\n}\n//提交审批\n//  /api/bom/app\nexport function commitBom(data) {\n  return fetch({\n    url: '/api/bom/app',\n    method: 'post',\n    data\n  })\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mats/index.js","<template>\n    <div class=\"mw-page page mats\" v-nav=\"{hideNavbar:true}\">\n        <div class=\"mw-page-header\">\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n            <span v-if=\"mat_type=='电极'\">电极列表</span>\n            <span v-else>物料列表</span>\n            <i class=\"right\"></i>\n        </div>\n        <div class=\"mw-page-content\">\n\n          <div v-for=\"(item,index) in list\" class=\"bom-swipe-item\"  @touchstart=\"touchstart($event)\"  @touchend=\"touchend($event)\" >\n            <div class=\"swipe-content\" @click=\"goDetail(item)\">\n              <div>\n                <h3 >物料编号：<span style=\"\n                word-break:break-all;\n                display: inherit;\n                width: 69%;\n                display: -webkit-box;\n                -webkit-box-orient: vertical;\n                -webkit-line-clamp: 1;\n                overflow: hidden;\">{{ item.mat_no }}</span></h3>\n                <!--<h3>物料名称：<span>{{ 缺少物料名称字段 }}</span></h3>-->\n                <h3>物料名称：<span>{{ item.mat_name }}</span></h3>\n                <p >\n                  <span>规格尺寸({{ item.spec }})</span>\n                </p>\n                <p>\n                  <span>材质({{ item.rawnature_name }})</span>\n                  <span>数量({{ item.total_qty }})</span>\n                </p>\n              </div>\n              <span @click=\"onClick(item)\" class=\"icon ion-ios-arrow-right\" ></span>\n            </div>\n            <div class=\"swipe-click\" @click=\"offSwipe('点击事件')\"></div>\n            <div class=\"swipe-side\" @click=\"bomNodeDelete(item,index)\">删除</div>\n          </div>\n        </div>\n        <div v-show=\"this.app_flag!=='step30'&&this.app_flag!=='step0'\" class=\"mw-page-footer\">\n            <div  class=\"btns\">\n              <div class=\"btn\" @click=\"add\">添加</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import SwipeItem from \"../../../components/swipeItem\";//bomNodeList\n  import { bomNodeList,bomNodeDelete } from '@/api/mats'\n    export default{\n    name:'bomchildNodes',\n      components: {SwipeItem},\n      data(){\n        return {\n          tabs:['半成品','标准件','电极'],\n          app_flag:'',\n          tabIndex:0,\n          mat_no:'',\n          bom_id:'',\n          node_id:'',\n          mat_type:'',\n          list:[\n//            {\n//              \"rawnature_name\":\"请选择\",\n//              \"mat_type\":\"毛坯\",\n//              \"mat_id\":130,\n//              \"total_qty\":1.00000,\n//              \"length\":10.00000,\n//              \"width\":0.00000,\n//              \"mat_no\":\"M2017005-20171205135643-20171205135643\",\n//              \"spec\":\"请选择\",\n//              \"node_id\":115,\n//              \"is_purchase\":\"1\",\n//              \"height\":10.00000\n//            },\n//            {\n//            \"rawnature_name\":\"铜\",\n//              \"mat_type\":\"毛坯\",\"mat_id\":132,\"total_qty\":1.00000,\"length\":10.00000,\n//              \"width\":0.00000,\"mat_no\":\"M2017005-20171205153251-20171205153251\",\n//              \"spec\":\"请选择\",\n//              \"node_id\":119,\n//              \"is_purchase\":\"1\",\n//              \"height\":10.00000\n//            },\n//            {\n//            \"rawnature_name\":\"铜\",\"mat_type\":\"毛坯\",\"mat_id\":134,\"total_qty\":1.00000,\"length\":10.00000,\"width\":0.00000,\"mat_no\":\"M2017005-20171205155421-20171205155421\",\"spec\":\"请选择\",\"node_id\":121,\"is_purchase\":\"1\",\"height\":10.00000\n//            }\n          ],\n          swipeX:0,\n        }\n\n      },\n      methods: {\n        add(){\n          if(this.mat_type==='电极'){\n            this.$router.forward('/mats/bom/nodeDetail/new/'+this.node_id+'/2/'+this.app_flag)\n          }else{\n            this.$router.forward('/mats/bom/childNodeDetail/new/'+this.node_id+'/materials/'+this.app_flag)\n          }\n        },\n        onClick(item){\n          if(this.mat_type==='电极'){\n            $router.forward('/mats/bom/nodes/electrodeList/'+this.bom_id+'/'+item.node_id+'/'+item.mat_type+'/'+item.mat_no+'/'+this.app_flag)\n          }\n          event.cancelBubble = true\n        },\n        goDetail(item){\n          if(this.mat_type==='电极'){\n            this.$router.forward('/mats/bom/nodeDetail/check/'+item.node_id+'/2/'+this.app_flag)\n          }else{\n            $router.forward('/mats/bom/childNodeDetail/check/'+item.node_id+'/materials/'+this.app_flag)\n          }\n        },\n        touchstart(){\n          this.swipeX=event.targetTouches[0].clientX\n        },\n        touchend(){\n          var X=event.changedTouches[0].clientX+30\n          if(X<this.swipeX){\n            var elArr=event.currentTarget.parentNode.children\n            for(var i=0;i<elArr.length;i++){\n              if(elArr[i].classList.contains(\"active\")){\n                elArr[i].classList.remove(\"active\")\n              }\n            }\n            event.currentTarget.classList.add('active')\n          }\n        },\n        offSwipe(){\n          event.currentTarget.parentNode.classList.remove('active')\n        },\n        getData(){\n          let matType=''\n          if(this.mat_type==='电极'){\n            matType='电极'\n          }\n          const requestData={\n            query:{\n              bom_id:this.bom_id,\n              node_id:this.node_id,\n              mat_type:matType\n            }\n          }\n          bomNodeList(requestData).then(res=>{\n            this.list=res.bom_node_list\n          }).catch(error=>{\n            $toast.show(error.description)\n          })\n        },\n        bomNodeDelete(item,index){\n          event.currentTarget.parentNode.classList.remove('active')\n          $dialog.confirm({\n            // 设置为ios样式\n            theme: 'ios',\n            // 标题\n            title: '确定要删除吗？',\n            // 取消按钮文本\n            cancelText: '取消',\n            // 确定按钮文本\n            okText: '确定'\n          }).then(res=>{\n            if(res){\n\n              const requestData={node_id:item.node_id}\n              bomNodeDelete(requestData).then(res=>{\n                this.list.splice(index,1)\n                $toast.show('删除成功')\n              }).catch(error=>{\n                $toast.show(error.description)\n              })\n            }\n          })\n        },\n      },\n      activated:function(){\n        this.getData();\n\n      },\n      mounted(){\n        this.bom_id = this.$route.query.bom_id\n        this.node_id = this.$route.query.node_id\n        this.mat_type = this.$route.query.type\n        this.app_flag =this.$route.query.app_flag\n        this.getData();\n      }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// childNodes.vue?824b7e9e","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"childNodes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-1ec5d8d4&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/childNodes.vue\n// module id = 592\n// module chunks = 116","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-1ec5d8d4&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./childNodes.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"dd7c0cd8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-1ec5d8d4&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/childNodes.vue\n// module id = 731\n// module chunks = 116","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), (_vm.mat_type == '电极') ? _c('span', [_vm._v(\"电极列表\")]) : _c('span', [_vm._v(\"物料列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, _vm._l((_vm.list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.goDetail(item)\n        }\n      }\n    }, [_c('div', [_c('h3', [_vm._v(\"物料编号：\"), _c('span', {\n      staticStyle: {\n        \"word-break\": \"break-all\",\n        \"display\": \"-webkit-box\",\n        \"width\": \"69%\",\n        \"-webkit-box-orient\": \"vertical\",\n        \"-webkit-line-clamp\": \"1\",\n        \"overflow\": \"hidden\"\n      }\n    }, [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])]), _vm._v(\" \"), _c('span', {\n      staticClass: \"icon ion-ios-arrow-right\",\n      on: {\n        \"click\": function($event) {\n          _vm.onClick(item)\n        }\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (this.app_flag !== 'step30' && this.app_flag !== 'step0'),\n      expression: \"this.app_flag!=='step30'&&this.app_flag!=='step0'\"\n    }],\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"添加\")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-1ec5d8d4!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mats/bom/childNodes.vue\n// module id = 876\n// module chunks = 116"],"sourceRoot":""}