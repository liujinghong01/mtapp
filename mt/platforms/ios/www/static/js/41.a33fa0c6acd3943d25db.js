webpackJsonp([41],{253:function(t,e,a){a(605);var i=a(0)(a(410),a(712),"data-v-1f4a5b66",null);t.exports=i.exports},328:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(t){var e=t.target.value;this.$emit("input",e)}}}},329:function(t,e,a){e=t.exports=a(220)(),e.push([t.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},330:function(t,e,a){var i=a(329);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(221)("6ea14c28",i,!0)},331:function(t,e,a){a(330);var i=a(0)(a(328),a(332),"data-v-19336c8e",null);t.exports=i.exports},332:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"compute-item"},[a("span",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==t.editType,expression:"editType!=='color'"}],staticClass:"value"},[t.canEdit&&"check"!==t.action&&"approve"!==t.action?"check"!==t.action||"approve"!==t.action?a("input",{ref:"input",attrs:{type:t.editType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}}):t._e():a("span",[t._v(t._s(t.value))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"color"===t.editType,expression:"editType==='color'"}],staticClass:"value"},[a("span",{staticClass:"color",style:{background:t.color}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"note"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow&&t.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:t.noteClick}},[t._v(t._s(t.arrowText))]),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),t._v(" "),a("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},410:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),n=a.n(i),o=a(331),s=a.n(o),r=a(20),p=a.n(r),l=a(79),c=a(1);e.default={components:{SwipeItem:p.a,CstItem:s.a},name:"cst_part_detail",data:function(){return{part_id:"",compute_id:"",currItem:{},part_detail:{part_cost:0,part_hardness:"",part_id:"",part_name:"",part_size:"",part_type:"",part_weight:0,part_length:0,part_height:0,part_width:0,sub_part_list:[]},action:""}},computed:{totalWeight:function(){var t=0,e=0;return this.part_detail.sub_part_list.length>0&&(this.part_detail.sub_part_list.forEach(function(a){t+=parseFloat(a.stuff_weight),e+=parseFloat(a.stuff_up)}),this.part_detail.part_weight=t=Number(t).toFixed(2),this.part_detail.part_cost=Number(e).toFixed(2)),t}},methods:{onItemClick:function(t){if(this.currItem.swipe)return void(this.currItem.swipe=!1);var e="check"===this.action||"check"===this.action?"check":"edit";this.$router.forward({path:"/customerOrder/compute/cst_part_sub_detail/"+e,query:{cst_part_sub_detail:n()(t)}})},onMenuClick:function(){this.action="edit"},onSwipeLeft:function(t){this.$set(t,"swipe",!0),this.currItem=t},saveData:function(){var t=this;if(!this.part_detail.part_name)return void $toast.show("请填写部件名称");this.action="check";var e={compute_id:this.compute_id,part_list:[this.part_detail]};a.i(l.e)(e).then(function(e){$toast.show("保存成功"),t.$router.go(-1),console.log(e)}).catch(function(t){$toast.show(t.description)})},getData:function(){var t=this,e={part_id:this.part_id};a.i(l.f)(e).then(function(e){console.log(e.part_cost),console.log(e),t.part_detail=e}).catch(function(t){console.log(t.description),$toast.show(t.description)})},delItem:function(t){var e=this,i={compute_id:this.compute_id,part_id:this.part_id,sub_part_ids:[t.sub_part_id]};a.i(l.g)(i).then(function(a){$toast.show(删除成功),e.part_detail.sub_part_list=e.part_detail.sub_part_list.filter(function(e){return t.id!=e.id}),0===e.part_detail.sub_part_list.length&&(e.part_detail.part_cost=0)}).catch(function(t){$toast.show(t.description)})}},activated:function(){var t=c.a.get("part_detail");if(console.log(t),t){if(0===this.part_detail.sub_part_list.length)this.part_detail.sub_part_list.push(t);else{var e=!1,a=0;this.part_detail.sub_part_list.forEach(function(i,n){i.sub_part_name===t.sub_part_name&&(e=!0,a=n)}),e?this.$set(this.part_detail.sub_part_list,a,t):this.part_detail.sub_part_list.push(t)}c.a.remove("part_detail")}},mounted:function(){this.action=this.$route.params.action,"new"===this.action?this.compute_id=this.$route.params.part_id:(this.part_id=this.$route.params.part_id,this.getData())}}},504:function(t,e,a){e=t.exports=a(220)(),e.push([t.i,"\n.item .item-cont[data-v-1f4a5b66] {\n  height: 100%;\n}\n.item .item-cont span[data-v-1f4a5b66] {\n    width: 50%;\n    float: left;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    /*padding: 5px;*/\n    overflow: hidden;\n}\n.item .label[data-v-1f4a5b66] {\n  width: 30%;\n  float: left;\n  height: 100%;\n}\n.item .value[data-v-1f4a5b66] {\n  text-align: right;\n  float: right;\n  padding-right: 15px;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/views/customerOrder/quotes/compute/cst_part_detail.vue"],names:[],mappings:";AACA;EACE,aAAa;CACd;AACD;IACI,WAAW;IACX,YAAY;IACZ,wBAAwB;IACxB,oBAAoB;IACpB,iBAAiB;IACjB,iBAAiB;CACpB;AACD;EACE,WAAW;EACX,YAAY;EACZ,aAAa;CACd;AACD;EACE,kBAAkB;EAClB,aAAa;EACb,oBAAoB;CACrB",file:"cst_part_detail.vue",sourcesContent:["\n.item .item-cont[data-v-1f4a5b66] {\n  height: 100%;\n}\n.item .item-cont span[data-v-1f4a5b66] {\n    width: 50%;\n    float: left;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    /*padding: 5px;*/\n    overflow: hidden;\n}\n.item .label[data-v-1f4a5b66] {\n  width: 30%;\n  float: left;\n  height: 100%;\n}\n.item .value[data-v-1f4a5b66] {\n  text-align: right;\n  float: right;\n  padding-right: 15px;\n}\n"],sourceRoot:""}])},605:function(t,e,a){var i=a(504);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(221)("f271883c",i,!0)},712:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page"},[a("div",{staticClass:"mw-page-header"},[a("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),a("span",[t._v("零部件详情")]),t._v(" "),a("i",{staticClass:"right"})]),t._v(" "),a("div",{staticClass:"mw-page-content"},[a("list",[a("cst-item",{attrs:{label:"部件名称",canEdit:!0,action:t.action},model:{value:t.part_detail.part_name,callback:function(e){t.$set(t.part_detail,"part_name",e)},expression:"part_detail.part_name"}}),t._v(" "),a("cst-item",{attrs:{label:"重量(kg)",canEdit:!0,action:t.action,editType:"number"},model:{value:t.totalWeight,callback:function(e){t.totalWeight=e},expression:"totalWeight"}}),t._v(" "),a("cst-item",{attrs:{label:"费用",canEdit:!0,action:t.action},model:{value:t.part_detail.part_cost,callback:function(e){t.$set(t.part_detail,"part_cost",e)},expression:"part_detail.part_cost"}}),t._v(" "),a("div",{staticClass:"item-divider prd-header"},[a("span",{staticStyle:{"padding-left":"15px"}},[t._v("子部件")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.action||"new"===t.action,expression:"action==='edit'|| action==='new'"}],staticStyle:{"padding-right":"15px",float:"right"},on:{click:function(e){t.$router.forward("/customerOrder/compute/cst_part_sub_detail/new")}}},[t._v("新增")])]),t._v(" "),t._l(t.part_detail.sub_part_list,function(e){return a("swipe-item",{directives:[{name:"show",rawName:"v-show",value:t.part_detail.sub_part_list.length,expression:"part_detail.sub_part_list.length"}],attrs:{swipeItemText:"删除",obj:e,hasArrow:!0},on:{SwipeLeft:t.onSwipeLeft,ItemClick:t.onItemClick,SwipeItemClick:t.delItem}},[a("span",{staticClass:"label"},[t._v(t._s(e.sub_part_name))]),a("span",{staticClass:"value"},[t._v(t._s(e.stuff_up))])])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"check"!==t.action&&"approve"!==t.action,expression:"action!=='check' && action!=='approve'"}],staticClass:"btns"},[a("div",{staticClass:"btn",on:{click:t.saveData}},[t._v("\n            保存\n          ")])])],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=41.a33fa0c6acd3943d25db.js.map