webpackJsonp([111],{289:function(t,e,i){i(765);var a=i(0)(i(487),i(912),"data-v-4b43a6fd",null);t.exports=a.exports},388:function(t,e,i){"use strict";function a(t){return i.i(L.a)({url:"/api/pm/pg/detail",method:"post",data:t})}function n(t){return i.i(L.a)({url:"/api/pm/pg/list",method:"post",data:t})}function s(t){return i.i(L.a)({url:"/api/pm/pg_device/list",method:"post",data:t})}function o(t){return i.i(L.a)({url:"/api/pm/device_maintain_curr/query",method:"post",data:t})}function c(t){return i.i(L.a)({url:"/api/pm/pg_device/maintain_record",method:"post",data:t})}function r(t){return i.i(L.a)({url:"/api/pm/pg_device_check_allocate/list",method:"post",data:t})}function d(t){return i.i(L.a)({url:"/api/pm/pg_device/check_allocate_delete",method:"post",data:t})}function l(t){return i.i(L.a)({url:"/api/pm/pg_device_check/list",method:"post",data:t})}function p(t){return i.i(L.a)({url:"/api/pm/pg_device/detail",method:"post",data:t})}function u(t){return i.i(L.a)({url:"/api/pm/pg/delete",method:"post",data:t})}function v(t){return i.i(L.a)({url:"/api/pm/pg/modify",method:"post",data:t})}function h(t){return i.i(L.a)({url:"/api/pm/pg_device/delete",method:"post",data:t})}function m(t){return i.i(L.a)({url:"/api/pm/pg_device/modify",method:"post",data:t})}function f(t){return i.i(L.a)({url:"/api/pm/device_maintain_bill/save",method:"post",data:t})}function _(t){return i.i(L.a)({url:"/api/pm/device_maintain/start",method:"post",data:t})}function g(t){return i.i(L.a)({url:"/api/pm/pg_device/check",method:"post",data:t})}function w(t){return i.i(L.a)({url:"/api/pm/pg_device/check_allocate_modify",method:"post",data:t})}function k(t){return i.i(L.a)({url:"/api/pm/pg_device_check_allocate/detail",method:"post",data:t})}function C(t){return i.i(L.a)({url:"/api/company/getAllDeptMember",method:"post",data:t})}function b(t){return i.i(L.a)({url:"/api/pm/pg_member/delete",method:"post",data:t})}function x(t){return i.i(L.a)({url:"/api/pm/pg_member/modify",method:"post",data:t})}function A(t){return i.i(L.a)({url:"api/company/get-all-members",method:"post",data:t})}e.o=a,e.a=n,e.n=s,e.e=o,e.g=c,e.j=r,e.k=d,e.d=l,e.b=p,e.v=u,e.t=v,e.s=h,e.i=m,e.f=f,e.h=_,e.c=g,e.m=w,e.l=k,e.u=C,e.r=b,e.q=x,e.p=A;var L=i(10)},487:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),n=i.n(a),s=i(388),o=i(20),c=i.n(o),r=i(1);e.default={name:"distributionInfo",components:{SwipeItem:c.a},data:function(){return{action:"",dep_id:"",allocate_id:"",staffList:[],checkList:[],list:[]}},computed:{},activated:function(){"check"!==this.action?(null!==r.a.get("checkList")&&(this.list=JSON.parse(r.a.get("checkList")),r.a.remove("checkList")),null!==r.a.get("personnel")&&(this.staffList=JSON.parse(r.a.get("personnel")),r.a.remove("personnel"))):this.pgDeviceCheckAllocateDetail()},mounted:function(){var t=this.$route.query;this.action=t.action,this.dep_id=t.dep_id,this.allocate_id=t.allocate_id},methods:{cancel:function(){this.action="check",this.pgDeviceCheckAllocateDetail()},Edit:function(t){"staff"==t?(this.staffList.length>0&&r.a.set("staffList",n()(this.staffList)),$router.forward({path:"personnelList",query:{dep_id:this.dep_id,type:"dep"}})):"dev"==t&&(this.list.length>0&&r.a.set("devList",n()(this.list)),$router.forward({path:"distributionList",query:{dep_id:this.dep_id}}))},pgDeviceCheckAllocateDetail:function(){var t=this,e={query:{allocate_id:this.allocate_id}};i.i(s.l)(e).then(function(e){t.staffList=e.check_uid_list,t.list=e.device_list}).catch(function(t){$toast.show(t.description)})},pgDeviceCheckAllocate:function(){var t={check_allocate_info:{allocate_id:this.allocate_id,pg_id:this.dep_id,check_uid_list:this.staffList,device_list:this.list}};i.i(s.m)(t).then(function(t){$toast.show("添加点检分配成功"),$router.go(-1)}).catch(function(t){$toast.show(t.description)})}}}},626:function(t,e,i){e=t.exports=i(225)(),e.push([t.i,"\n.item > div[data-v-4b43a6fd] {\n  line-height: 20px;\n}\n.addBtn[data-v-4b43a6fd] {\n  text-align: center;\n  border: 1px solid #416eb6;\n  color: #416eb6;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/equipment/distributionInfo.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;EACE,mBAAmB;EACnB,0BAA0B;EAC1B,eAAe;CAChB",file:"distributionInfo.vue",sourcesContent:["\n.item > div[data-v-4b43a6fd] {\n  line-height: 20px;\n}\n.addBtn[data-v-4b43a6fd] {\n  text-align: center;\n  border: 1px solid #416eb6;\n  color: #416eb6;\n}\n"],sourceRoot:""}])},765:function(t,e,i){var a=i(626);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(226)("48c12261",a,!0)},912:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[i("div",{staticClass:"mw-page-header"},[i("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("span",[t._v("点检分配信息")]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"new"===t.action,expression:"action==='new'"}],staticClass:"right"}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"check"===t.action,expression:"action==='check'"}],staticClass:"right",on:{click:function(e){t.action="action"}}},[t._v("编辑")]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"action"===t.action,expression:"action==='action'"}],staticClass:"right",on:{click:t.cancel}},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"mw-page-content "},[i("div",{staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.staffList.length>0,expression:"staffList.length>0"}],staticClass:"item-divider",staticStyle:{"padding-left":"15px"}},[t._v("\n          员工列表\n          "),i("span",{directives:[{name:"show",rawName:"v-show",value:"check"!==t.action,expression:"action!=='check'"}],staticClass:"right",on:{click:function(e){t.Edit("staff")}}},[t._v("编辑")])]),t._v(" "),t._l(t.staffList,function(e,a){return i("item",[t._v(t._s(e.check_uid_name))])}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length>0"}],staticClass:"item-divider",staticStyle:{"padding-left":"15px"}},[t._v("\n          设备列表\n          "),i("span",{directives:[{name:"show",rawName:"v-show",value:"check"!==t.action,expression:"action!=='check'"}],staticClass:"right",on:{click:function(e){t.Edit("dev")}}},[t._v("编辑")])]),t._v(" "),t._l(t.list,function(e,a){return i("item",[i("h3",[i("span",{staticClass:"vi-color"},[t._v(t._s(e.device_name))])]),t._v(" "),i("div",[t._v("编号 ："),i("span",[t._v(t._s(e.device_no))])]),t._v(" "),i("div",[t._v("使用年限 ："),i("span",[t._v(t._s(e.work_life))])]),t._v(" "),i("div",{staticClass:"req-item-content"},[i("span",[t._v("状态 : "+t._s(e.device_status))]),t._v(" "),i("span",[t._v("生产日期 : "+t._s(e.prod_date))])])])})],2)],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"check"!==t.action,expression:"action!=='check'"}],staticClass:"mw-page-footer"},[i("div",{staticClass:"btns"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"new"===t.action&&t.list.length<1,expression:"action==='new'&&list.length<1"}],staticClass:"btn",on:{click:function(e){t.$router.forward({path:"distributionList",query:{dep_id:t.dep_id}})}}},[t._v("\n        选择设备\n      ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"new"===t.action&&t.list.length>0&&t.staffList.length<1,expression:"action==='new'&&list.length>0&&staffList.length<1"}],staticClass:"btn",on:{click:function(e){t.$router.forward({path:"personnelList",query:{dep_id:t.dep_id,type:"dep"}})}}},[t._v("\n        指派人员\n      ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"check"!==t.action&&t.list.length>0&&t.staffList.length>0,expression:"action!=='check'&&list.length>0&&staffList.length>0"}],staticClass:"btn",on:{click:function(e){t.pgDeviceCheckAllocate()}}},[t._v("\n        提交\n      ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=111.df26b38cea858406ba32.js.map