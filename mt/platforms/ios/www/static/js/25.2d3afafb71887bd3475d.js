webpackJsonp([25],{303:function(e,t,o){o(654);var n=o(0)(o(460),o(764),"data-v-6d7b8dcc",null);e.exports=n.exports},328:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(e){var t=e.target.value;this.$emit("input",t)}}}},329:function(e,t,o){t=e.exports=o(220)(),t.push([e.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},330:function(e,t,o){var n=o(329);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(221)("6ea14c28",n,!0)},331:function(e,t,o){o(330);var n=o(0)(o(328),o(332),"data-v-19336c8e",null);e.exports=n.exports},332:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"compute-item"},[o("span",{staticClass:"label"},[e._v(e._s(e.label))]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==e.editType,expression:"editType!=='color'"}],staticClass:"value"},[e.canEdit&&"check"!==e.action&&"approve"!==e.action?"check"!==e.action||"approve"!==e.action?o("input",{ref:"input",attrs:{type:e.editType,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.input}}):e._e():o("span",[e._v(e._s(e.value))])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"color"===e.editType,expression:"editType==='color'"}],staticClass:"value"},[o("span",{staticClass:"color",style:{background:e.color}})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow,expression:"hasArrow"}],staticClass:"note"},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow&&e.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:e.noteClick}},[e._v(e._s(e.arrowText))]),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),e._v(" "),o("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},333:function(e,t,o){"use strict";function n(e){return o.i(p.a)({url:"/api/iv/storehouse/modify",method:"post",data:e})}function a(e){return o.i(p.a)({url:"/api/iv/storehouse/list",method:"post",data:e})}function i(e){return o.i(p.a)({url:"/api/iv/storehouse/detail",method:"post",data:e})}function s(e){return o.i(p.a)({url:"/api/iv/storehouse/delete",method:"post",data:e})}function r(e){return o.i(p.a)({url:"/api/iv/storeroom/delete",method:"post",data:e})}function c(e){return o.i(p.a)({url:"/api/iv/mat_type/list",method:"post",data:e})}function l(e){return o.i(p.a)({url:"/api/iv/mat_type/modify",method:"post",data:e})}function u(e){return o.i(p.a)({url:"/api/iv/store_room/search_mat",method:"post",data:e})}t.g=n,t.c=a,t.e=i,t.h=s,t.f=r,t.b=c,t.d=l,t.a=u;var p=o(7)},460:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(333),a=o(331),i=o.n(a);t.default={name:"storageDetail",components:{CstItem:i.a},data:function(){return{store_house_info:{store_room_list:[],manager_name:"",store_house_name:"",manager_id:"",store_house_no:"",remark:"",store_house_addr:""},store_house_id:"",action:"check"}},mounted:function(){},created:function(){this.action=this.$route.params.action,"new"!==this.action&&(this.store_house_id=this.$route.params.store_house_id,this.getData())},methods:{getData:function(){var e=this,t={query:{store_house_id:this.store_house_id}};o.i(n.e)(t).then(function(t){console.log(t),e.store_house_info=t.store_house_info}).catch(function(e){$toast.show(e.description)})},roomDel:function(e){var t=this;$dialog.confirm({theme:"ios",title:"提示",content:"确定要删除吗?",okText:"确定",cancelText:"取消"}).then(function(a){a&&o.i(n.f)({store_room_id:e.store_room_id}).then(function(o){t.store_house_info.store_room_list=t.store_house_info.store_room_list.filter(function(t){return t.store_room_id!=e.store_room_id})}).catch(function(e){$toast.show(e.description)})}).catch(function(e){$toast.show(e.description)})},addRoom:function(){this.store_house_info.store_room_list.push({store_room_name:"",store_room_desc:""})},saveData:function(){var e=this;if(!this.store_house_info.store_house_name)return void $toast.show("仓库名称不能为空");if(!this.store_house_info.store_house_addr)return void $toast.show("仓库地址不能为空");if(!this.store_house_info.manager_name)return void $toast.show("负责人不能为空");var t={store_house_info:this.store_house_info};o.i(n.g)(t).then(function(t){console.log(t),$toast.show("保存成功"),e.action="check"}).catch(function(e){$toast.show(e.description)})}}}},553:function(e,t,o){t=e.exports=o(220)(),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"storageDetail.vue",sourceRoot:""}])},654:function(e,t,o){var n=o(553);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(221)("68bf6a3a",n,!0)},764:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[o("div",{staticClass:"mw-page-header"},[o("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(t){e.$router.go(-1)}}}),e._v(" "),o("span",[e._v("仓库详情")]),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:"check"===e.action,expression:"action === 'check'"}],staticClass:"right",on:{click:function(t){e.action="edit"}}},[e._v("编辑")]),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.action,expression:"action === 'edit'"}],staticClass:"right",on:{click:function(t){e.action="check"}}},[e._v("取消")]),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:"new"===e.action,expression:"action === 'new'"}],staticClass:"right"})]),e._v(" "),o("div",{staticClass:"mw-page-content"},[o("div",[o("cst-item",{attrs:{label:"名称",action:e.action},model:{value:e.store_house_info.store_house_name,callback:function(t){e.$set(e.store_house_info,"store_house_name",t)},expression:"store_house_info.store_house_name"}}),e._v(" "),o("cst-item",{attrs:{label:"地址",action:e.action},model:{value:e.store_house_info.store_house_addr,callback:function(t){e.$set(e.store_house_info,"store_house_addr",t)},expression:"store_house_info.store_house_addr"}}),e._v(" "),o("cst-item",{attrs:{label:"负责人",action:e.action},model:{value:e.store_house_info.manager_name,callback:function(t){e.$set(e.store_house_info,"manager_name",t)},expression:"store_house_info.manager_name"}}),e._v(" "),o("cst-item",{attrs:{label:"备注",action:e.action},model:{value:e.store_house_info.remark,callback:function(t){e.$set(e.store_house_info,"remark",t)},expression:"store_house_info.remark"}}),e._v(" "),e._l(e.store_house_info.store_room_list,function(t,n){return o("div",[o("div",{staticClass:"divider"},[o("span",{staticClass:"left"},[e._v("库位"+e._s(n+1))]),o("span",{directives:[{name:"show",rawName:"v-show",value:"check"!==e.action,expression:"action!=='check'"}],staticClass:"right",on:{click:function(o){e.roomDel(t)}}},[e._v("删除")])]),e._v(" "),o("cst-item",{attrs:{label:"库位名称",action:e.action},model:{value:t.store_room_name,callback:function(o){e.$set(t,"store_room_name",o)},expression:"item.store_room_name"}}),e._v(" "),o("cst-item",{attrs:{label:"库位描述",action:e.action},model:{value:t.store_room_desc,callback:function(o){e.$set(t,"store_room_desc",o)},expression:"item.store_room_desc"}})],1)}),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:"check"!=e.action,expression:"action!='check'"}],staticClass:"button button-calm button-block button-outline",on:{click:e.addRoom}},[e._v("添加库位信息")])],2)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"check"!==e.action,expression:"action !== 'check'"}],staticClass:"mw-page-footer"},[o("div",{staticClass:"btns"},[o("div",{staticClass:"btn",on:{click:e.saveData}},[e._v("\n                保存\n            ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=25.2d3afafb71887bd3475d.js.map