webpackJsonp([59],{280:function(e,t,a){a(781);var i=a(0)(a(478),a(928),"data-v-584553d2",null);e.exports=i.exports},370:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(e){var t=e.target.value;this.$emit("input",t)}}}},371:function(e,t,a){t=e.exports=a(225)(),t.push([e.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},372:function(e,t,a){var i=a(371);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(226)("6ea14c28",i,!0)},373:function(e,t,a){a(372);var i=a(0)(a(370),a(374),"data-v-19336c8e",null);e.exports=i.exports},374:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"compute-item"},[a("span",{staticClass:"label"},[e._v(e._s(e.label))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==e.editType,expression:"editType!=='color'"}],staticClass:"value"},[e.canEdit&&"check"!==e.action&&"approve"!==e.action&&"checkOnly"!==e.action?a("input",{ref:"input",attrs:{type:e.editType,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.input}}):a("span",[e._v(e._s(e.value))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"color"===e.editType,expression:"editType==='color'"}],staticClass:"value"},[a("span",{staticClass:"color",style:{background:e.color}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow,expression:"hasArrow"}],staticClass:"note"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow&&e.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:e.noteClick}},[e._v(e._s(e.arrowText))]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),e._v(" "),a("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},395:function(e,t,a){"use strict";function i(e){return a.i(u.a)({url:"/api/bom/list",method:"post",data:e})}function n(e){return a.i(u.a)({url:"api/bom_node/list",method:"post",data:e})}function s(e){return a.i(u.a)({url:"/api/bom_node/update",method:"post",data:e})}function o(e){return a.i(u.a)({url:"/api/cascade_type/list",method:"post",data:e})}function c(e){return a.i(u.a)({url:"/api/mat_name/list",method:"post",data:e})}function r(e){return a.i(u.a)({url:"/api/mat_name_spec/list",method:"post",data:e})}function m(e){return a.i(u.a)({url:"/api/cascade_mat/list",method:"post",data:e})}function l(e){return a.i(u.a)({url:"/api/rawnature/list",method:"post",data:e})}function p(e){return a.i(u.a)({url:"/api/rawnature/price",method:"post",data:e})}function h(e){return a.i(u.a)({url:"/api/bom_node/info",method:"post",data:e})}function d(e){return a.i(u.a)({url:"/api/bom_node/delete",method:"post",data:e})}t.k=i,t.i=n,t.h=s,t.a=o,t.b=c,t.c=r,t.d=m,t.e=l,t.g=p,t.f=h,t.j=d;var u=a(10)},478:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(373),n=a.n(i),s=a(395);t.default={name:"bomNodeDetail",components:{CstItem:n.a},data:function(){return{action:"",node_id:"",mat_no:"",edit:"",matTypeName:"",selectInfo:{title:"",selectSwitch:!1,selectType:"",rawnatureIndex:-1,matTypeName:"",CheckedList:{TypeName:!1,matName:!1,rawnatureName:"",spec:!1},list:[]},cascadeData:{cascade_type_list:[],mat_name_list:[],rawnature_list:[],spec_list:[]},mate_info:{height:"",length:"",isQc:"",matId:"",matName:"请选择",matNameId:"",matNo:"",matTypeId:"1",matTypeName:"",picPath:"",planPrice:"",procureStyle:"",rawnatureId:"",rawnatureName:"请选择",shape:"0",spec:"请选择",weight:"",width:""},node_info:{isPurchase:1,matId:"",matType:"",nodeId:"",processesFCount:"",processesRCount:"",processesZCount:"",remark:"",totalQty:1}}},computed:{newPrice:function(){"2"===this.matTypeName&&0!==this.mate_info.height&&0!==this.mate_info.length&&""!==this.mate_info.rawnatureId&&("1"===this.mate_info.shape&&0!==this.mate_info.width?this.rawnaturePrice():"2"===this.mate_info.shape&&this.rawnaturePrice()),-1!==this.selectInfo.rawnatureIndex&&0!==this.mate_info.height&&0!==this.mate_info.length&&("1"===this.mate_info.shape&&0!==this.mate_info.width?this.rawnaturePrice():"2"===this.mate_info.shape&&this.rawnaturePrice())}},methods:{cancelEdit:function(){this.action="check",this.edit=""},clickEdit:function(){this.action="action",this.edit="edit",this.selectInfo.matTypeName=this.mate_info.matTypeName,"0"===this.matTypeName?(this.cascadeType(),this.rawnatureList()):"1"===this.matTypeName?this.mateName():"2"===this.matTypeName&&this.rawnatureList()},cascadeType:function(){var e=this,t={};a.i(s.a)(t).then(function(t){e.cascadeData.cascade_type_list=t.cascade_type_list}).catch(function(e){$toast.show(e.description)})},mateName:function(){var e=this,t={};a.i(s.b)(t).then(function(t){e.cascadeData.mat_name_list=t.mat_name_list}).catch(function(e){$toast.show(e.description)})},matNameSpec:function(){var e=this,t={query:{mat_name:this.mate_info.matName}};a.i(s.c)(t).then(function(t){e.cascadeData.spec_list=t.mat_info_list,e.selectInfo.list=[],t.mat_info_list.forEach(function(t,a){e.selectInfo.list.push(t.spec)})}).catch(function(e){$toast.show(e.description)})},cascadeMat:function(){var e=this,t={query:{mat_type:this.selectInfo.matTypeName}};a.i(s.d)(t).then(function(t){e.cascadeData.mat_name_list=t.listCascadeMat}).catch(function(e){$toast.show(e.description)})},rawnatureList:function(){var e=this,t={query:{isUnused:"",rawnatureName:"",rawnatureType:""}};a.i(s.e)(t).then(function(t){e.cascadeData.rawnature_list=t.rawnature_list}).catch(function(e){$toast.show(e.description)})},bomNodeInfo:function(){var e=this,t={node_id:this.node_id};a.i(s.f)(t).then(function(t){e.mate_info=t.bom_node_info.mat,e.node_info.isPurchase=t.bom_node_info.isPurchase,e.node_info.totalQty=t.bom_node_info.totalQty,e.node_info.remark=t.bom_node_info.remark,e.node_info.nodeId=t.bom_node_info.nodeId,e.node_info.matType=t.bom_node_info.matType,"标准件"===e.node_info.matType||(e.node_info.matId="",e.selectInfo.matTypeName=e.mate_info.matTypeName),"1"!==e.mate_info.isQc&&(e.mate_info.isQc="0")}).catch(function(e){$toast.show(e.description)})},rawnaturePrice:function(){var e=this;"1"===this.mate_info.shape?this.mate_info.spec=this.mate_info.length+"x"+this.mate_info.width+"x"+this.mate_info.height:"2"===this.mate_info.shape&&(this.mate_info.spec="Φ:"+this.mate_info.length+"  H:"+this.mate_info.height);var t={height:this.mate_info.height,length:this.mate_info.length,width:this.mate_info.width,rawnature_id:this.mate_info.rawnatureId,shape:this.mate_info.shape};a.i(s.g)(t).then(function(t){e.mate_info.planPrice=t.planPrice,e.mate_info.weight=t.weight}).catch(function(t){$toast.show(t.description),e.mate_info.planPrice=0,e.mate_info.weight=0})},saveBtn:function(){if("0"===this.matTypeName){var e=this.mate_info.weight;this.node_info.totalQty>0?e>0?this.update():$toast.show("物料信息不全或填写错误，请重新填写"):$toast.show("物料数量有误，请重新填写")}else"1"===this.matTypeName?""!==this.mate_info.rawnatureId?this.update():$toast.show("物料信息不全或填写错误，请重新填写"):"2"===this.matTypeName&&(""!==this.mate_info.rawnatureId&&""!==this.mate_info.procureStyle?"0"!==this.node_info.processesFCount||"0"!==this.node_info.processesRCount||"0"!==this.node_info.processesZCount?this.update():$toast.show("请填写新建电极数量"):$toast.show("物料信息不全或填写错误，请重新填写"))},update:function(){var e=this,t="";t="edit"===this.edit?"":this.node_id;var i={mat_info:this.mate_info,node_info:this.node_info,pNodeId:t};a.i(s.h)(i).then(function(t){!0===t&&("edit"!==e.edit?($toast.show("添加新物料成功"),$router.go(-1)):($toast.show("物料修改成功"),e.action="check",e.edit=""))}).catch(function(e){$toast.show(e.description)})},selectList:function(e){var t=this;if("check"!==this.action){if("0"===this.matTypeName)switch(e){case"TypeName":this.selectInfo.title="请选择物料类别",this.selectInfo.list=this.cascadeData.cascade_type_list;break;case"matName":if(!this.selectInfo.CheckedList.TypeName)return void $toast.show("请先选择物料类别");this.selectInfo.title="请选择物料",this.selectInfo.list=[],this.cascadeData.mat_name_list.forEach(function(e,a){t.selectInfo.list.push(e.matCascadeName)});break;case"rawnatureName":if(!this.selectInfo.CheckedList.matName)return void $toast.show("请先选择物料名称");this.selectInfo.title="请选择物料材质"}else if("1"===this.matTypeName)switch(e){case"matName":this.selectInfo.list=this.cascadeData.mat_name_list,this.selectInfo.title="请选择物料名称";break;case"spec":if(!this.selectInfo.CheckedList.matName)return void $toast.show("请先选择物料名称");this.selectInfo.title="请选择物料规格型号"}else if("2"===this.matTypeName)switch(e){case"rawnatureName":this.selectInfo.title="请选择物料材质",this.cascadeData.rawnature_list.forEach(function(e,a){t.selectInfo.list.push(e.raw_nature)})}this.selectInfo.selectType=e,this.selectInfo.selectSwitch=!0}},checked:function(e,t){var a=this;if("0"===this.matTypeName)switch(this.selectInfo.selectType){case"TypeName":this.selectInfo.matTypeName=e,this.cascadeMat(),this.selectInfo.CheckedList.TypeName=!0,this.mate_info.matName="请选择",this.mate_info.rawnatureName="请选择",this.selectInfo.CheckedList.matName=!1;break;case"matName":this.mate_info.matName=e,this.node_info.matNo=this.cascadeData.mat_name_list[t].matCascadeNo,this.node_info.matId=this.cascadeData.mat_name_list[t].id,"edit"===this.edit&&(this.mate_info.matId=this.node_info.matId),this.selectInfo.CheckedList.matName=!0,this.mate_info.rawnatureName="请选择",this.mate_info.rawnatureId="",this.selectInfo.list=[],this.cascadeData.rawnature_list.forEach(function(e,t){a.selectInfo.list.push(e.raw_nature)});break;case"rawnatureName":this.selectInfo.rawnatureIndex=t,this.mate_info.rawnatureId=this.cascadeData.rawnature_list[t].raw_nature_id,this.mate_info.rawnatureName=e}else if("1"===this.matTypeName)switch(this.selectInfo.selectType){case"matName":this.mate_info.matName=e,this.selectInfo.CheckedList.matName=!0,this.matNameSpec(),this.mate_info.spec="请选择",this.mate_info.rawnatureName="",this.mate_info.planPrice="";break;case"spec":this.mate_info.spec=e,this.mate_info.rawnatureId=this.cascadeData.spec_list[t].rawnature_id,this.mate_info.matId=this.cascadeData.spec_list[t].mat_id,this.node_info.matId=this.mate_info.matId,this.mate_info.rawnatureName=this.cascadeData.spec_list[t].rawnature_name,this.mate_info.planPrice=this.cascadeData.spec_list[t].plan_price,"1"!==this.cascadeData.spec_list[t].is_qc?this.mate_info.isQc=0:this.mate_info.isQc=1}else if("2"===this.matTypeName)switch(this.selectInfo.selectType){case"rawnatureName":this.mate_info.rawnatureId=this.cascadeData.rawnature_list[t].raw_nature_id,this.mate_info.rawnatureName=e,this.mate_info.matName="电极材料"}this.selectInfo.selectSwitch=!1}},mounted:function(){this.node_id=this.$route.params.node_id,this.action=this.$route.params.action,this.matTypeName=this.$route.params.matTypeName,"0"===this.matTypeName?"new"===this.action?(this.mate_info.matTypeName="半成品",this.node_info.matType="半成品",this.selectInfo.matTypeName="请选择类别",this.cascadeType(),this.rawnatureList()):"check"===this.action&&this.bomNodeInfo():"1"===this.matTypeName?"new"===this.action?(this.mate_info.matTypeName="标准件",this.node_info.matType="标准件",this.selectInfo.CheckedList.TypeName=!0,this.mateName()):"check"===this.action&&this.bomNodeInfo():"2"===this.matTypeName&&(this.node_info.matType="电极",this.mate_info.matTypeName="电极","new"==this.action?this.rawnatureList():this.bomNodeInfo())}}},642:function(e,t,a){t=e.exports=a(225)(),t.push([e.i,"\ntextarea[data-v-584553d2] {\n  width: 100%;\n  resize: none;\n  height: 50px;\n  background: #fff;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/mats/bom/nodeDetail.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,iBAAiB;CAClB",file:"nodeDetail.vue",sourcesContent:["\ntextarea[data-v-584553d2] {\n  width: 100%;\n  resize: none;\n  height: 50px;\n  background: #fff;\n}\n"],sourceRoot:""}])},781:function(e,t,a){var i=a(642);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(226)("f50e4e20",i,!0)},928:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page nodeDetail"},[a("div",{staticClass:"mw-page-header"},[a("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(t){e.$router.go(-1)}}}),e._v(" "),"new"===e.action?a("span",[e._v("添加物料")]):a("span",[e._v("物料详情")]),e._v(" "),a("i",{staticClass:"right"})]),e._v(" "),a("div",{staticClass:"mw-page-content "},[a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"0"===e.matTypeName,expression:"matTypeName === '0'"}],attrs:{label:"类别",action:e.action,canEdit:!1,hasArrow:!0},nativeOn:{click:function(t){e.selectList("TypeName")}},model:{value:e.selectInfo.matTypeName,callback:function(t){e.$set(e.selectInfo,"matTypeName ",t)},expression:"selectInfo.matTypeName "}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.matTypeName,expression:"matTypeName!=='2'"}],attrs:{label:"名称",action:e.action,canEdit:!1,hasArrow:!0},nativeOn:{click:function(t){e.selectList("matName")}},model:{value:e.mate_info.matName,callback:function(t){e.$set(e.mate_info,"matName ",t)},expression:"mate_info.matName "}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.matTypeName,expression:"matTypeName === '1'"}],attrs:{label:"规格型号",action:e.action,canEdit:!1,hasArrow:!0},nativeOn:{click:function(t){e.selectList("spec")}},model:{value:e.mate_info.spec,callback:function(t){e.$set(e.mate_info,"spec ",t)},expression:"mate_info.spec "}}),e._v(" "),a("item",[a("span",[e._v("形状：")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.shape,expression:"mate_info.shape"}],attrs:{name:"shape",type:"radio",value:"1",disabled:"check"===e.action},domProps:{checked:e._q(e.mate_info.shape,"1")},on:{change:function(t){e.$set(e.mate_info,"shape","1")}}}),e._v(" 立方体")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.shape,expression:"mate_info.shape"}],attrs:{name:"shape",type:"radio",value:"2",disabled:"check"===e.action},domProps:{checked:e._q(e.mate_info.shape,"2")},on:{change:function(t){e.$set(e.mate_info,"shape","2")}}}),e._v(" 圆柱体")])]),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.mate_info.shape,expression:"mate_info.shape==='1'"}],staticClass:"noneBorder",attrs:{placeholder:"0",label:"长(mm)",action:e.action,editType:"number"},model:{value:e.mate_info.length,callback:function(t){e.$set(e.mate_info,"length",t)},expression:"mate_info.length"}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.mate_info.shape,expression:"mate_info.shape==='1'"}],staticClass:"noneBorder",attrs:{placeholder:"0",label:"宽(mm)",action:e.action,editType:"number"},model:{value:e.mate_info.width,callback:function(t){e.$set(e.mate_info,"width",t)},expression:"mate_info.width"}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.mate_info.shape,expression:"mate_info.shape==='1'"}],staticClass:"noneBorder",attrs:{placeholder:"0",label:"高(mm)",action:e.action,editType:"number"},model:{value:e.mate_info.height,callback:function(t){e.$set(e.mate_info,"height",t)},expression:"mate_info.height"}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"2"===e.mate_info.shape,expression:"mate_info.shape==='2'"}],staticClass:"noneBorder",attrs:{placeholder:"0",label:"高(mm)",action:e.action,editType:"number"},model:{value:e.mate_info.height,callback:function(t){e.$set(e.mate_info,"height",t)},expression:"mate_info.height"}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"2"===e.mate_info.shape,expression:"mate_info.shape==='2'"}],staticClass:"noneBorder",attrs:{placeholder:"0",label:"直径(mm)",action:e.action,editType:"number"},model:{value:e.mate_info.length,callback:function(t){e.$set(e.mate_info,"length",t)},expression:"mate_info.length"}}),e._v(" "),"check"===e.action||"1"===e.matTypeName?a("cst-item",{attrs:{label:"材质",action:e.action,canEdit:!1,editType:"number"},model:{value:e.mate_info.rawnatureName,callback:function(t){e.$set(e.mate_info,"rawnatureName",t)},expression:"mate_info.rawnatureName"}}):a("cst-item",{attrs:{label:"材质",action:e.action,canEdit:!1,hasArrow:!0},nativeOn:{click:function(t){e.selectList("rawnatureName")}},model:{value:e.mate_info.rawnatureName,callback:function(t){e.$set(e.mate_info,"rawnatureName ",t)},expression:"mate_info.rawnatureName "}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"2"===e.mate_info.shape,expression:"mate_info.shape==='2'"}],attrs:{label:"物料单价",placeholder:"0",action:e.action,editType:"number"},model:{value:e.mate_info.planPrice,callback:function(t){e.$set(e.mate_info,"planPrice",t)},expression:"mate_info.planPrice"}}),e._v(" "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"1"!==e.matTypeName,expression:"matTypeName!=='1'"}],attrs:{label:"重量",placeholder:"0",action:e.action,editType:"number"},model:{value:e.mate_info.weight,callback:function(t){e.$set(e.mate_info,"weight",t)},expression:"mate_info.weight"}}),e._v(e._s(e.newPrice)+"\n      "),a("cst-item",{directives:[{name:"show",rawName:"v-show",value:"1"!==e.matTypeName,expression:"matTypeName !== '1'"}],attrs:{label:"计划单价",placeholder:"0",action:e.action,editType:"number"},model:{value:e.mate_info.planPrice,callback:function(t){e.$set(e.mate_info,"planPrice",t)},expression:"mate_info.planPrice"}}),e._v(" "),a("item",{directives:[{name:"show",rawName:"v-show",value:"0"===e.matTypeName,expression:" matTypeName === '0' "}]},[a("span",[e._v("生成下层物料")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.node_info.isPurchase,expression:"node_info.isPurchase"}],attrs:{name:"isPurchase",disabled:"check"===e.action,type:"radio",value:"1"},domProps:{checked:e._q(e.node_info.isPurchase,"1")},on:{change:function(t){e.$set(e.node_info,"isPurchase","1")}}}),e._v(" 是")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.node_info.isPurchase,expression:"node_info.isPurchase"}],attrs:{name:"isPurchase",disabled:"check"===e.action,type:"radio",value:"0"},domProps:{checked:e._q(e.node_info.isPurchase,"0")},on:{change:function(t){e.$set(e.node_info,"isPurchase","0")}}}),e._v(" 否")])]),e._v(" "),a("item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.matTypeName,expression:" matTypeName === '1' "}]},[a("span",[e._v("入库是否质检")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.isQc,expression:"mate_info.isQc"}],attrs:{disabled:"",name:"isQc",type:"radio",value:"1"},domProps:{checked:e._q(e.mate_info.isQc,"1")},on:{change:function(t){e.$set(e.mate_info,"isQc","1")}}}),e._v(" 是")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.isQc,expression:"mate_info.isQc"}],attrs:{disabled:"",name:"isQc",type:"radio",value:"0"},domProps:{checked:e._q(e.mate_info.isQc,"0")},on:{change:function(t){e.$set(e.mate_info,"isQc","0")}}}),e._v(" 否")])]),e._v(" "),"2"===e.matTypeName&&"new"===e.action?a("item",{staticStyle:{"margin-top":"1px"}},[e._v("\n        数量 :\n        "),a("p",[e._v("\n          粗(个):"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.node_info.processesRCount,expression:"node_info.processesRCount"}],attrs:{disabled:"check"===e.action,placeholder:"0",type:"number"},domProps:{value:e.node_info.processesRCount},on:{input:function(t){t.target.composing||e.$set(e.node_info,"processesRCount",t.target.value)}}}),e._v("\n          中(个):"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.node_info.processesZCount,expression:"node_info.processesZCount"}],attrs:{disabled:"check"===e.action,placeholder:"0",type:"number"},domProps:{value:e.node_info.processesZCount},on:{input:function(t){t.target.composing||e.$set(e.node_info,"processesZCount",t.target.value)}}}),e._v("\n          精(个):"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.node_info.processesFCount,expression:"node_info.processesFCount"}],attrs:{disabled:"check"===e.action,placeholder:"0",type:"number"},domProps:{value:e.node_info.processesFCount},on:{input:function(t){t.target.composing||e.$set(e.node_info,"processesFCount",t.target.value)}}})])]):a("cst-item",{attrs:{label:"数量",action:e.action,editType:"number"},model:{value:e.node_info.totalQty,callback:function(t){e.$set(e.node_info,"totalQty",t)},expression:"node_info.totalQty"}}),e._v(" "),a("item",{directives:[{name:"show",rawName:"v-show",value:"2"===e.matTypeName,expression:" matTypeName === '2' "}]},[a("span",[e._v("供应类型")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.procureStyle,expression:"mate_info.procureStyle"}],attrs:{disabled:"new"!==e.action,name:"procureStyle",type:"radio",value:"1"},domProps:{checked:e._q(e.mate_info.procureStyle,"1")},on:{change:function(t){e.$set(e.mate_info,"procureStyle","1")}}}),e._v(" 采购")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.procureStyle,expression:"mate_info.procureStyle"}],attrs:{disabled:"new"!==e.action,name:"procureStyle",type:"radio",value:"2"},domProps:{checked:e._q(e.mate_info.procureStyle,"2")},on:{change:function(t){e.$set(e.mate_info,"procureStyle","2")}}}),e._v(" 下料")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mate_info.procureStyle,expression:"mate_info.procureStyle"}],attrs:{disabled:"new"!==e.action,name:"procureStyle",type:"radio",value:"3"},domProps:{checked:e._q(e.mate_info.procureStyle,"3")},on:{change:function(t){e.$set(e.mate_info,"procureStyle","3")}}}),e._v(" 库存")])]),e._v(" "),a("item",{staticStyle:{height:"120px"}},[e._v("\n        备注 :\n        "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.node_info.remark,expression:"node_info.remark"}],staticClass:"remark",attrs:{placeholder:"check"===e.action?"":"请输入备注",disabled:"check"===e.action,type:"text"},domProps:{value:e.node_info.remark},on:{input:function(t){t.target.composing||e.$set(e.node_info,"remark",t.target.value)}}})])],1),e._v(" "),a("div",{staticClass:"select-box",class:e.selectInfo.selectSwitch?"active":""},[a("div",{staticClass:"select-click",on:{click:function(t){e.selectInfo.selectSwitch=!1}}}),e._v(" "),a("div",{staticClass:"select-main"},[a("div",{staticClass:"main-header"},[a("p",[e._v(e._s(e.selectInfo.title))]),e._v(" "),a("input",{attrs:{type:"text"}})]),e._v(" "),a("div",{staticClass:"main-list"},e._l(e.selectInfo.list,function(t,i){return a("p",{on:{click:function(a){e.checked(t,i)}}},[e._v(e._s(t))])}))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"check"!==this.action&&"step30"!==e.$route.params.app_flag,expression:"this.action!=='check'&&$route.params.app_flag!=='step30'"}],staticClass:"mw-page-footer"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"btn",on:{click:e.saveBtn}},[e._v("\n                保存\n            ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.edit,expression:"edit==='edit'"}],staticClass:"btn",on:{click:e.cancelEdit}},[e._v("\n              取消\n            ")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"check"===this.action&&"step30"!==e.$route.params.app_flag&&"step0"!==e.$route.params.app_flag,expression:"this.action==='check'&&($route.params.app_flag!=='step30'&&$route.params.app_flag!=='step0')"}],staticClass:"mw-page-footer"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"btn",on:{click:e.clickEdit}},[e._v("\n          编辑\n        ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=59.cafee5978bd349176664.js.map