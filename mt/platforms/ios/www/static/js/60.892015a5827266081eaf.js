webpackJsonp([60],{314:function(t,i,e){e(620);var a=e(0)(e(471),e(729),"data-v-372169d0",null);t.exports=a.exports},368:function(t,i,e){"use strict";function a(t){return e.i(o.a)({url:"/api/iv/bill/search",method:"post",data:t})}function n(t){return e.i(o.a)({url:"/api/iv/bill/query_out_store_init_data",method:"post",data:t})}function s(t){return e.i(o.a)({url:"/api/iv/bill/out_store",method:"post",data:t})}i.c=a,i.b=n,i.a=s;var o=e(7)},471:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(368),n=e(48),s=e(20),o=e.n(s);i.default={name:"singleDetail",components:{SwipeItem:o.a},data:function(){return{verification:!0,out_store_detail_list:[]}},computed:{},activated:function(){},methods:{onChange:function(t){var i=Number(t.quantity);i%1!=0&&(t.quantity=parseInt(i)),i<0&&(t.quantity=-i),i>t.stock_qty&&(t.quantity=t.stock_qty),i>t.total&&(t.quantity=t.total)},stopPropagation:function(){event.cancelBubble=!0},submit:function(){if(this.out_store_detail_list.length>0){var t={out_store_info:{bill_no:this.$route.params.bill_no,dep_id:"",dep_name:"",out_store_detail_list:this.out_store_detail_list}};e.i(a.a)(t).then(function(t){$toast.show("出库单提交成功"),$router.go(-1)}).catch(function(t){$toast.show(t.description)})}else $toast.show("该单号下没有可出库物料")},onDetail:function(){var t=event.currentTarget.nextElementSibling||event.currentTarget.nextSibling;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")},ckeck:function(t){void 0===t.checked?this.$set(t,"checked",!0):t.checked=!t.checked,event.cancelBubble=!0},quantity:function(t,i){1===i?t.quantity<t.total&&(t.quantity=Number(t.quantity)+1):Number(t.quantity)>0?t.quantity=Number(t.quantity)-1:t.quantity=0},initDataOut:function(){var t=this,i={query:{bill_no:this.$route.params.bill_no}};e.i(a.b)(i).then(function(i){t.out_store_detail_list=i.out_store_info.out_store_detail_list,t.out_store_detail_list.length>0&&t.out_store_detail_list.forEach(function(t,i){t.total=t.quantity,t.chalkup_date=e.i(n.a)()})}).catch(function(t){$toast.show(t.description)})}},mounted:function(){this.initDataOut()}}},519:function(t,i,e){i=t.exports=e(220)(),i.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"singleDetail.vue",sourceRoot:""}])},620:function(t,i,e){var a=e(519);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(221)("48dc1748",a,!0)},729:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[e("div",{staticClass:"mw-page-header"},[e("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(i){t.$router.go(-1)}}}),t._v(" "),e("span",[t._v("出库单")]),t._v(" "),e("i",{staticClass:"right"})]),t._v(" "),e("div",{staticClass:"mw-page-content singleDetail"},[e("div",{staticClass:"header"},["check"===t.$route.params.action?e("item",[t._v("\n          出库单单号:\n          "),e("span",{staticClass:"item-note"},[t._v("12345678")])]):t._e(),t._v(" "),e("item",[t._v("\n          出库类型:\n          "),e("span",{staticClass:"item-note",staticStyle:{overflow:"visible"}},[t._v("\n            "+t._s(t.$route.params.type)+"\n          ")])]),t._v(" "),e("item",[t._v("\n          单号:\n          "),e("span",{staticClass:"item-note"},[t._v("\n            "+t._s(t.$route.params.bill_no)+"\n          ")])])],1),t._v(" "),e("div",{staticClass:"mateList"},[e("div",{staticClass:"list"},t._l(t.out_store_detail_list,function(i,a){return e("div",{staticClass:"item"},[e("div",{staticClass:"itemInfo",on:{click:t.onDetail}},[e("div",{staticClass:"numberBox",on:{click:t.stopPropagation}},[e("span",{on:{click:function(e){t.quantity(i,1)}}},[t._v("+")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:i.quantity,expression:"item.quantity"}],attrs:{type:"number"},domProps:{value:i.quantity},on:{change:function(e){t.onChange(i)},input:function(e){e.target.composing||t.$set(i,"quantity",e.target.value)}}}),t._v(" "),e("span",{on:{click:function(e){t.quantity(i,-1)}}},[t._v("-")])]),t._v(" "),e("h3",[t._v("物料名称: "),e("span",[t._v(t._s(i.mat_desc))])]),t._v(" "),e("p",[t._v("规格型号: "),e("span",[t._v(t._s(i.mat_model))])]),t._v(" "),e("p",[t._v("需出库数量: "),e("span",[t._v(t._s(i.total))])]),t._v(" "),e("p",[t._v("库存: "),e("span",[t._v(t._s(i.stock_qty))])])]),t._v(" "),e("div",{staticClass:"itemDetail"},[e("item",[t._v("物料编码:"),e("span",{staticClass:"item-note"},[t._v(t._s(i.mat_no))])]),t._v(" "),e("item",[t._v("仓库名称:"),e("span",{staticClass:"item-note"},[t._v(t._s(i.store_house_name))])]),t._v(" "),e("p",[t._v("库位: "),e("span",[t._v(t._s(i.store_room_name))])]),t._v(" "),e("item",[t._v("收货单价:"),e("span",{staticClass:"item-note"},[t._v(t._s(i.unit))])]),t._v(" "),e("item",[t._v("入库重量:"),e("span",{staticClass:"item-note"},[t._v(t._s(i.weight))])])],1)])}))])]),t._v(" "),e("div",{staticClass:"mw-page-footer"},[e("div",{staticClass:"btns"},[e("div",{staticClass:"btn",on:{click:function(i){t.submit()}}},[t._v("\n            确认出库\n        ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=60.892015a5827266081eaf.js.map