webpackJsonp([84],{359:function(t,i,n){n(801);var e=n(0)(n(558),n(949),"data-v-71d06ee3",null);t.exports=e.exports},418:function(t,i,n){"use strict";function e(t){return n.i(o.a)({url:"/api/iv/bill/search",method:"post",data:t})}function a(t){return n.i(o.a)({url:"/api/iv/bill/query_in_store_init_data",method:"post",data:t})}function s(t){return n.i(o.a)({url:"/api/iv/bill/in_store",method:"post",data:t})}i.c=e,i.b=a,i.a=s;var o=n(10)},558:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n(418),a=n(48),s=n(20),o=n.n(s);i.default={name:"scrapDetail",components:{SwipeItem:o.a},data:function(){return{in_store_detail_list:[]}},computed:{},activated:function(){},methods:{checkAll:function(){var t=this;this.in_store_detail_list.forEach(function(i,n){i.checked?i.checked=!0:t.$set(i,"checked",!0)})},onChange:function(t){var i=Number(t.quantity);i%1!=0&&(t.quantity=parseInt(i)),i<0&&(t.quantity=-i),i>t.total&&(t.quantity=t.total)},stopPropagation:function(){event.cancelBubble=!0},submit:function(){var t={in_store_info:{bill_no:this.$route.params.bill_no,dep_id:"",dep_name:"",in_store_detail_list:[]}};this.in_store_detail_list.forEach(function(i,n){i.checked&&t.in_store_info.in_store_detail_list.push(i)}),t.in_store_info.in_store_detail_list.length>0?n.i(e.a)(t).then(function(t){$toast.show("入库单提交成功"),$router.go(-1)}).catch(function(t){$toast.show(t.description)}):$toast.show("请选择入库物料")},onDetail:function(){var t=event.currentTarget.nextElementSibling||event.currentTarget.nextSibling;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")},ckeck:function(t){void 0===t.checked?this.$set(t,"checked",!0):t.checked=!t.checked,event.cancelBubble=!0},quantity:function(t,i){1===i?t.quantity<t.total&&(t.quantity=Number(t.quantity)+1):Number(t.quantity)>0?t.quantity=Number(t.quantity)-1:t.quantity=0},initDatain:function(){var t=this,i={query:{bill_no:this.$route.params.bill_no}};n.i(e.b)(i).then(function(i){t.in_store_detail_list=i.in_store_info.in_store_detail_list,t.in_store_detail_list.forEach(function(t,i){t.total=t.quantity,t.chalkup_date=n.i(a.a)()})}).catch(function(t){$toast.show(t.description)})}},mounted:function(){this.initDatain()}}},662:function(t,i,n){i=t.exports=n(225)(),i.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"singleDetail.vue",sourceRoot:""}])},801:function(t,i,n){var e=n(662);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);n(226)("2aad4dd2",e,!0)},949:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[n("div",{staticClass:"mw-page-header"},[n("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(i){t.$router.go(-1)}}}),t._v(" "),n("span",[t._v("入库单")]),t._v(" "),n("i",{staticClass:"right",on:{click:t.checkAll}},[t._v("\n          全部入库\n        ")])]),t._v(" "),n("div",{staticClass:"mw-page-content singleDetail"},[n("div",{staticClass:"header"},["check"===t.$route.params.action?n("item",[t._v("\n          入库单单号:\n          "),n("span",{staticClass:"item-note"},[t._v("12345678")])]):t._e(),t._v(" "),n("item",[t._v("\n          入库类型:\n          "),n("span",{staticClass:"item-note",staticStyle:{overflow:"visible"}},[t._v("\n            "+t._s(t.$route.params.type)+"\n          ")])]),t._v(" "),n("item",[t._v("\n          单号:\n          "),n("span",{staticClass:"item-note"},[t._v("\n            "+t._s(t.$route.params.bill_no)+"\n          ")])])],1),t._v(" "),n("div",{staticClass:"mateList"},[n("div",{staticClass:"list"},t._l(t.in_store_detail_list,function(i,e){return n("div",{staticClass:"item"},[n("div",{staticClass:"itemInfo",staticStyle:{"padding-left":"36px"},on:{click:t.onDetail}},[n("div",{staticClass:"checkBox",on:{click:function(n){t.ckeck(i)}}},[i.checked?n("i",{staticClass:"icon ion-android-checkbox "}):n("i",{staticClass:"icon ion-android-checkbox-outline-blank "})]),t._v(" "),n("div",{staticClass:"numberBox",on:{click:t.stopPropagation}},[n("span",{on:{click:function(n){t.quantity(i,1)}}},[t._v("+")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:i.quantity,expression:"item.quantity"}],attrs:{type:"number"},domProps:{value:i.quantity},on:{change:function(n){t.onChange(i)},input:function(n){n.target.composing||t.$set(i,"quantity",n.target.value)}}}),t._v(" "),n("span",{on:{click:function(n){t.quantity(i,-1)}}},[t._v("-")])]),t._v(" "),n("h3",[t._v("物料名称: "),n("span",[t._v(t._s(i.mat_desc))])]),t._v(" "),n("p",[t._v("规格型号: "),n("span",[t._v(t._s(i.mat_model))])]),t._v(" "),n("p",[t._v("可入库数量: "),n("span",[t._v(t._s(i.total))])]),t._v(" "),n("p",[t._v("库位: "),n("span",[t._v(t._s(i.store_room_name))])])]),t._v(" "),n("div",{staticClass:"itemDetail"},[n("item",[t._v("物料编码:"),n("span",{staticClass:"item-note"},[t._v(t._s(i.mat_no))])]),t._v(" "),n("item",[t._v("仓库名称:"),n("span",{staticClass:"item-note"},[t._v(t._s(i.store_house_name))])]),t._v(" "),n("item",[t._v("收货单价:"),n("span",{staticClass:"item-note"},[t._v(t._s(i.unit))])]),t._v(" "),n("item",[t._v("入库重量:"),n("span",{staticClass:"item-note"},[t._v(t._s(i.weight))])])],1)])}))])]),t._v(" "),n("div",{staticClass:"mw-page-footer"},[n("div",{staticClass:"btns"},[n("div",{staticClass:"btn",on:{click:function(i){t.submit()}}},[t._v("\n            提交\n        ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=84.6af87718e7c70ecc6b20.js.map