webpackJsonp([30],{282:function(t,e,n){n(643);var a=n(0)(n(439),n(753),"data-v-5c589aa1",null);t.exports=a.exports},328:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(t){var e=t.target.value;this.$emit("input",e)}}}},329:function(t,e,n){e=t.exports=n(220)(),e.push([t.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},330:function(t,e,n){var a=n(329);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(221)("6ea14c28",a,!0)},331:function(t,e,n){n(330);var a=n(0)(n(328),n(332),"data-v-19336c8e",null);t.exports=a.exports},332:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compute-item"},[n("span",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==t.editType,expression:"editType!=='color'"}],staticClass:"value"},[t.canEdit&&"check"!==t.action&&"approve"!==t.action?"check"!==t.action||"approve"!==t.action?n("input",{ref:"input",attrs:{type:t.editType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}}):t._e():n("span",[t._v(t._s(t.value))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"===t.editType,expression:"editType==='color'"}],staticClass:"value"},[n("span",{staticClass:"color",style:{background:t.color}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"note"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow&&t.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:t.noteClick}},[t._v(t._s(t.arrowText))]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),t._v(" "),n("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},345:function(t,e,n){"use strict";function a(t){return n.i(p.a)({url:"/api/pm/shift/list",method:"post",data:t})}function i(t){return n.i(p.a)({url:"/api/pm/calendar/list",method:"post",data:t})}function o(t){return n.i(p.a)({url:"/api/pm/calendar/delete",method:"post",data:t})}function s(t){return n.i(p.a)({url:"/api/pm/calendar/modify",method:"post",data:t})}function r(t){return n.i(p.a)({url:"/api/pm/shift/delete",method:"post",data:t})}function c(t){return n.i(p.a)({url:"/api/pm/shift/modify",method:"post",data:t})}function l(t){return n.i(p.a)({url:"/api/pm/shift/detail",method:"post",data:t})}function d(t){return n.i(p.a)({url:"/api/pm/calendar/detail",method:"post",data:t})}e.a=a,e.f=i,e.h=o,e.c=s,e.g=r,e.e=c,e.d=l,e.b=d;var p=n(7)},439:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(345),i=n(20),o=n.n(i),s=n(331),r=n.n(s);e.default={name:"shopCalendar",components:{SwipeItem:o.a,CstItem:r.a},data:function(){return{tabs:["班次维护","工作日历"],tabIndex:0,shiftList:[],calendarList:[]}},computed:{},activated:function(){this.getData(),this.getCalendarList()},mounted:function(){},methods:{onTabClick:function(t){t!==this.tabIndex&&(this.tabIndex=t)},getData:function(t){var e=this,i={curr_page:1,page_size:100,query:{shift_name:"",calendar_name:""}};n.i(a.a)(i).then(function(t){e.shiftList=t.shift_list}).catch(function(t){$toast.show(t.description)})},getCalendarList:function(){var t=this,e={curr_page:1,page_size:100,query:{calendar_name:""}};n.i(a.f)(e).then(function(e){t.calendarList=e.calendar_list}).catch(function(t){$toast.show(t.description)})},delShift:function(t,e){var i=this,o={shift_id:t.shift_id};$dialog.confirm({theme:"ios",title:"确定要删除吗？",cancelText:"取消",okText:"确定"}).then(function(s){if(s){if(1==t.shift_id||2==t.shift_id)return void $toast.show("不可删除系统默认班次");n.i(a.g)(o).then(function(t){$toast.show("删除成功"),i.shiftList.splice(e,1)}).catch(function(t){$toast.show(t.description)})}})},delCalendar:function(t,e){var i=this,o={calendar_id:t.calendar_id};$dialog.confirm({theme:"ios",title:"确定要删除吗？",cancelText:"取消",okText:"确定"}).then(function(t){t&&n.i(a.h)(o).then(function(t){$toast.show("删除成功"),i.calendarList.splice(e,1)}).catch(function(t){$toast.show(t.description)})})},onItemClick:function(t){0==this.tabIndex?$router.forward("/production/shift/check/"+t.shift_id):$router.forward("/production/calendar/check/"+t.calendar_id)},add:function(){0===this.tabIndex?$router.forward("/production/shift/new/new"):$router.forward("/production/calendar/action/new")}}}},542:function(t,e,n){e=t.exports=n(220)(),e.push([t.i,"\n.calendarItem[data-v-5c589aa1] {\n  position: relative;\n}\n.calendarItem .color[data-v-5c589aa1] {\n    width: 30px;\n    height: 17px;\n    position: absolute;\n    left: 0px;\n    top: -2px;\n    background: red;\n    border-radius: 5px;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/views/production/shopCalendar/index.vue"],names:[],mappings:";AACA;EACE,mBAAmB;CACpB;AACD;IACI,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,UAAU;IACV,UAAU;IACV,gBAAgB;IAChB,mBAAmB;CACtB",file:"index.vue",sourcesContent:["\n.calendarItem[data-v-5c589aa1] {\n  position: relative;\n}\n.calendarItem .color[data-v-5c589aa1] {\n    width: 30px;\n    height: 17px;\n    position: absolute;\n    left: 0px;\n    top: -2px;\n    background: red;\n    border-radius: 5px;\n}\n"],sourceRoot:""}])},643:function(t,e,n){var a=n(542);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(221)("a2e43e10",a,!0)},753:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[n("div",{staticClass:"mw-page-header"},[n("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),n("span",[t._v("日历(模板维护)")]),t._v(" "),n("i",{staticClass:"right"})]),t._v(" "),n("div",{staticClass:"mw-page-content has-tab"},[n("div",{staticStyle:{height:"60px"}},[n("tabs",{attrs:{"tab-items":t.tabs,"tab-index":t.tabIndex,"on-tab-click":t.onTabClick}})],1),t._v(" "),n("div",{staticStyle:{flex:"1"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],staticClass:"content"},[n("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"}},t._l(t.shiftList,function(e,a){return n("swipe-item",{staticClass:"req-item",attrs:{obj:e,canSwipe:!0,swipeItemText:"删除"},on:{SwipeItemClick:function(n){t.delShift(e,a)}},nativeOn:{click:function(n){t.onItemClick(e)}}},[n("div",{staticClass:"calendarItem"},[n("span",{staticClass:"color",style:{background:e.shift_color}}),t._v(" "),n("p",{staticStyle:{"padding-left":"50px"}},[t._v(t._s(e.shift_name))])])])}))],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex===1"}],staticClass:"content"},[n("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"}},t._l(t.calendarList,function(e,a){return n("swipe-item",{staticClass:"req-item",attrs:{obj:e,canSwipe:!0,swipeItemText:"删除"},on:{SwipeItemClick:function(n){t.delCalendar(e,a)}},nativeOn:{click:function(n){t.onItemClick(e)}}},[n("div",{staticClass:"calendarItem"},[n("p",[t._v(t._s(e.calendar_name))])])])}))],1)])]),t._v(" "),n("div",{staticClass:"mw-page-footer"},[n("div",{staticClass:"btns"},[n("div",{staticClass:"btn",on:{click:t.add}},[t._v("\n        添加\n      ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=30.a349994b3bc27cd077e4.js.map