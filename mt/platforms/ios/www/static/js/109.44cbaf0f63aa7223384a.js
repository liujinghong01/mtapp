webpackJsonp([109],{292:function(e,t,i){i(840);var n=i(0)(i(490),i(988),"data-v-e3c96e9e",null);e.exports=n.exports},388:function(e,t,i){"use strict";function n(e){return i.i(I.a)({url:"/api/pm/pg/detail",method:"post",data:e})}function a(e){return i.i(I.a)({url:"/api/pm/pg/list",method:"post",data:e})}function o(e){return i.i(I.a)({url:"/api/pm/pg_device/list",method:"post",data:e})}function s(e){return i.i(I.a)({url:"/api/pm/device_maintain_curr/query",method:"post",data:e})}function c(e){return i.i(I.a)({url:"/api/pm/pg_device/maintain_record",method:"post",data:e})}function d(e){return i.i(I.a)({url:"/api/pm/pg_device_check_allocate/list",method:"post",data:e})}function r(e){return i.i(I.a)({url:"/api/pm/pg_device/check_allocate_delete",method:"post",data:e})}function p(e){return i.i(I.a)({url:"/api/pm/pg_device_check/list",method:"post",data:e})}function u(e){return i.i(I.a)({url:"/api/pm/pg_device/detail",method:"post",data:e})}function v(e){return i.i(I.a)({url:"/api/pm/pg/delete",method:"post",data:e})}function l(e){return i.i(I.a)({url:"/api/pm/pg/modify",method:"post",data:e})}function _(e){return i.i(I.a)({url:"/api/pm/pg_device/delete",method:"post",data:e})}function m(e){return i.i(I.a)({url:"/api/pm/pg_device/modify",method:"post",data:e})}function h(e){return i.i(I.a)({url:"/api/pm/device_maintain_bill/save",method:"post",data:e})}function f(e){return i.i(I.a)({url:"/api/pm/device_maintain/start",method:"post",data:e})}function g(e){return i.i(I.a)({url:"/api/pm/pg_device/check",method:"post",data:e})}function w(e){return i.i(I.a)({url:"/api/pm/pg_device/check_allocate_modify",method:"post",data:e})}function b(e){return i.i(I.a)({url:"/api/pm/pg_device_check_allocate/detail",method:"post",data:e})}function C(e){return i.i(I.a)({url:"/api/company/getAllDeptMember",method:"post",data:e})}function k(e){return i.i(I.a)({url:"/api/pm/pg_member/delete",method:"post",data:e})}function A(e){return i.i(I.a)({url:"/api/pm/pg_member/modify",method:"post",data:e})}function x(e){return i.i(I.a)({url:"api/company/get-all-members",method:"post",data:e})}t.o=n,t.a=a,t.n=o,t.e=s,t.g=c,t.j=d,t.k=r,t.d=p,t.b=u,t.v=v,t.t=l,t.s=_,t.i=m,t.f=h,t.h=f,t.c=g,t.m=w,t.l=b,t.u=C,t.r=k,t.q=A,t.p=x;var I=i(10)},490:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(388),a=i(20),o=i.n(a);t.default={name:"equipment",components:{SwipeItem:o.a},dep_id:"",dep_name:"",data:function(){return{tabs:["正常","检修中"],tabIndex:0,parent_id:"",list:[{device_addr:"设备所在地址",device_brand:"设备品牌",device_id:"设备Id",device_model:"设备型号",device_name:"设备名称(正常)",device_no:"设备编号",device_pic:"设备图标",device_status:1,is_checked:"是否点检",pg_id:"生产小组Id",prod_date:"生产日期",work_life:"使用年限"},{device_addr:"设备所在地址",device_brand:"设备品牌",device_id:"设备Id",device_model:"设备型号",device_name:"设备名称(维修中)",device_no:"设备编号",device_pic:"设备图标",device_status:2,is_checked:"是否点检",pg_id:"生产小组Id",prod_date:"生产日期",work_life:"使用年限"}]}},computed:{},activated:function(){this.$route.query},mounted:function(){var e=this.$route.query;this.dep_id=e.dep_id,this.dep_name=e.dep_name,this.deviceList()},methods:{onInfinite:function(){},delItem:function(e,t){var a=this,o={device_info:{device_id:e.device_id}};i.i(n.s)(o).then(function(e){a.list.splice(t,1),$toast.show("设备删除成功")}).catch(function(e){$toast.show(e.description)})},onRefresh:function(){},deviceList:function(){var e=this,t={curr_page:1,page_size:100,query:{device_name:"",pg_id:this.dep_id}};i.i(n.n)(t).then(function(t){e.list=t.pg_list}).catch(function(e){$toast.show(e.description)})},onItemClick:function(e){this.$router.forward({path:"equipmentDetail",query:{parent_id:this.dep_id,action:"check",device_id:e.device_id}})},newEquipment:function(){this.$router.forward({path:"equipmentDetail",query:{parent_id:this.parent_id,pg_id:this.dep_id,pg_name:this.dep_name,action:"new"}})},overhaulForm:function(){this.$router.forward("overhaulForm"),event.cancelBubble=!0},onTabClick:function(e){e!==this.tabIndex&&(this.tabIndex=e)}}}},701:function(e,t,i){t=e.exports=i(225)(),t.push([e.i,"\n.item-cont > div[data-v-e3c96e9e] {\n  line-height: 20px;\n}\n.item-cont > div.btn[data-v-e3c96e9e] {\n  position: absolute;\n  right: 0;\n  top: 50%;\n  margin-top: -40px;\n  height: 80px;\n  line-height: 80px;\n  width: 58px;\n  color: #4a90e2;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/equipment/equipmentList.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;EACE,mBAAmB;EACnB,SAAS;EACT,SAAS;EACT,kBAAkB;EAClB,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,eAAe;CAChB",file:"equipmentList.vue",sourcesContent:["\n.item-cont > div[data-v-e3c96e9e] {\n  line-height: 20px;\n}\n.item-cont > div.btn[data-v-e3c96e9e] {\n  position: absolute;\n  right: 0;\n  top: 50%;\n  margin-top: -40px;\n  height: 80px;\n  line-height: 80px;\n  width: 58px;\n  color: #4a90e2;\n}\n"],sourceRoot:""}])},840:function(e,t,i){var n=i(701);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(226)("5a8ca934",n,!0)},988:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[i("div",{staticClass:"mw-page-header"},[i("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(t){e.$router.go(-1)}}}),e._v(" "),i("span",[e._v("设备列表")]),e._v(" "),i("i",{staticClass:"right"})]),e._v(" "),i("div",{staticClass:"mw-page-content has-tab"},[i("div",{staticStyle:{height:"60px"}},[i("tabs",{attrs:{"tab-items":e.tabs,"tab-index":e.tabIndex,"on-tab-click":e.onTabClick}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tabIndex,expression:"tabIndex===0"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":e.onInfinite,"on-refresh":e.onRefresh}},[e._l(e.list,function(t,n){return i("swipe-item",{directives:[{name:"show",rawName:"v-show",value:2!=t.device_status,expression:"item.device_status!=2"}],attrs:{obj:t,canSwipe:!0,swipeItemText:"删除"},on:{SwipeItemClick:function(i){e.delItem(t,n)}},nativeOn:{click:function(i){e.onItemClick(t)}}},[i("h3",[i("span",{staticClass:"vi-color"},[e._v(e._s(t.device_name))])]),e._v(" "),i("div",[e._v("编号 ："),i("span",[e._v(e._s(t.device_no))])]),e._v(" "),i("div",[e._v("使用年限 ："),i("span",[e._v(e._s(t.work_life))])]),e._v(" "),i("div",{staticClass:"req-item-content"},[i("span",[e._v("状态 : "+e._s(t.device_status))]),e._v(" "),i("span",[e._v("生产日期 : "+e._s(t.prod_date))])])])}),e._v(" "),i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[e._v("没有更多数据")])],2)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.tabIndex,expression:"tabIndex===1"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":e.onInfinite,"on-refresh":e.onRefresh}},[e._l(e.list,function(t,n){return i("swipe-item",{directives:[{name:"show",rawName:"v-show",value:2==t.device_status,expression:"item.device_status==2"}],attrs:{obj:t,canSwipe:!0,swipeItemText:"删除"},on:{SwipeItemClick:function(i){e.delItem(t,n)}},nativeOn:{click:function(i){e.onItemClick(t)}}},[i("h3",[i("span",{staticClass:"vi-color"},[e._v(e._s(t.device_name))])]),e._v(" "),i("div",[e._v("编号 ："),i("span",[e._v(e._s(t.device_no))])]),e._v(" "),i("div",[e._v("使用年限 ："),i("span",[e._v(e._s(t.work_life))])]),e._v(" "),i("div",{staticClass:"req-item-content"},[i("span",[e._v("状态 : "+e._s(t.device_status))]),e._v(" "),i("span",[e._v("生产日期 : "+e._s(t.prod_date))])]),e._v(" "),i("div",{staticClass:"btn",on:{click:e.overhaulForm}},[e._v("\n            检修完毕\n          ")])])}),e._v(" "),i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[e._v("没有更多数据")])],2)],1)]),e._v(" "),i("div",{staticClass:"mw-page-footer"},[i("div",{staticClass:"btns"},[i("div",{staticClass:"btn",on:{click:e.newEquipment}},[e._v("\n        添加设备\n      ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=109.44cbaf0f63aa7223384a.js.map