{"version":3,"sources":["webpack:///static/js/107.4a1504c2b756485f444d.js","webpack:///./src/views/production/procTemplate/typeList.vue","webpack:///./src/api/production/procTemplate.js?2d1e*","webpack:///typeList.vue","webpack:///./src/views/production/procTemplate/typeList.vue?449c","webpack:///./src/views/production/procTemplate/typeList.vue?6f62","webpack:///./src/views/production/procTemplate/typeList.vue?3f08"],"names":["webpackJsonp","298","module","exports","__webpack_require__","Component","408","__webpack_exports__","tmplTypeList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","tmplTypeDelete","tmplTypeModify","tmplModify","tmplList","tmplDelete","tmplDetail","497","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_2__api_production_procTemplate__","__WEBPACK_IMPORTED_MODULE_3__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_3__components_swipeItem___default","__WEBPACK_IMPORTED_MODULE_4__utils_sess__","__WEBPACK_IMPORTED_MODULE_5__components_mwPrompt__","__WEBPACK_IMPORTED_MODULE_5__components_mwPrompt___default","name","components","SwipeItem","a","MwPrompt","addDepFlag","typeName","dep_id","parent_id","list","temp_list","computed","activated","get","this","JSON","parse","remove","mounted","param","$route","query","methods","addNewDep","type","$toast","show","_this","requestData","routing_tmpl_type_info","tmpl_type_name","then","res","catch","error","description","item","index","_this2","type_id","id","splice","ascertain","tempType","tmpl_type_id","set","$router","go","_this3","status","routing_tmpl_type_list","570","push","version","sources","names","mappings","file","sourceRoot","709","content","locals","852","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","_v","staticStyle","-webkit-overflow-scrolling","_l","margin-left","margin-right","attrs","obj","canSwipe","swipeItemText","SwipeItemClick","nativeOn","_s","slot","okFunction","placeholder","hidePop","model","callback","$$v","staticRenderFns"],"mappings":"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","file":"static/js/107.4a1504c2b756485f444d.js","sourcesContent":["webpackJsonp([107],{\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(709)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(497),\n  /* template */\n  __webpack_require__(852),\n  /* scopeId */\n  \"data-v-0240c9dd\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 408:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = tmplTypeList;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = tmplTypeDelete;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = tmplTypeModify;\n/* unused harmony export procList */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = tmplModify;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = tmplList;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = tmplDelete;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = tmplDetail;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\nfunction tmplTypeList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction tmplTypeDelete(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl_type/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction tmplTypeModify(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl_type/edit',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction procList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/proc/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction tmplModify(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl/modify',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction tmplList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction tmplDelete(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction tmplDetail(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/routing_tmpl/detail',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 497:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_company__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_production_procTemplate__ = __webpack_require__(408);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_sess__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_mwPrompt__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_mwPrompt___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__components_mwPrompt__);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'departmentList',\n  components: { SwipeItem: __WEBPACK_IMPORTED_MODULE_3__components_swipeItem___default.a, MwPrompt: __WEBPACK_IMPORTED_MODULE_5__components_mwPrompt___default.a },\n  data: function data() {\n    return {\n      addDepFlag: false,\n      typeName: '',\n      dep_id: '',\n      parent_id: '',\n      list: [],\n      temp_list: []\n    };\n  },\n\n  computed: {},\n  activated: function activated() {\n    if (__WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].get('pg_list') != null) {\n      this.list = JSON.parse(__WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].get('pg_list'));\n      __WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].remove('pg_list');\n    }\n  },\n  mounted: function mounted() {\n    var param = this.$route.query;\n    this.dep_id = param.dep_id;\n    this.parent_id = param.parent_id;\n    this.tmplTypeList();\n  },\n\n  methods: {\n    addNewDep: function addNewDep() {\n      if (this.type == '') {\n        $toast.show('请输入内容');\n        return;\n      } else {\n        this.tmplTypeModify();\n      }\n    },\n    tmplTypeModify: function tmplTypeModify() {\n      var _this = this;\n\n      var requestData = {\n        routing_tmpl_type_info: {\n          tmpl_type_name: this.typeName\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_production_procTemplate__[\"a\" /* tmplTypeModify */])(requestData).then(function (res) {\n        _this.addDepFlag = false;\n        $toast.show('添加类型成功');\n        _this.tmplTypeList();\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    tmplTypeDelete: function tmplTypeDelete(item, index) {\n      var _this2 = this;\n\n      var requestData = {\n        type_id: item.id\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_production_procTemplate__[\"b\" /* tmplTypeDelete */])(requestData).then(function (res) {\n        if (res) {\n          _this2.temp_list.splice(index, 1);\n          $toast.show('删除成功');\n        } else {\n          $toast.show('工艺模板种类已被引用，不能删除！');\n        }\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    ascertain: function ascertain(item) {\n      var tempType = {\n        tmpl_type_id: item.id,\n        tmpl_type_name: item.tmpl_type_name\n      };\n      __WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].set('tempType', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(tempType));\n      this.$router.go(-1);\n    },\n    tmplTypeList: function tmplTypeList() {\n      var _this3 = this;\n\n      var requestData = {\n        query: {\n          status: '',\n          tmpl_type_name: ''\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_production_procTemplate__[\"c\" /* tmplTypeList */])(requestData).then(function (res) {\n        _this3.temp_list = res.routing_tmpl_type_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 570:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"typeList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 709:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(570);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"981f5332\", content, true);\n\n/***/ }),\n\n/***/ 852:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"工艺模板类型列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content \"\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    }\n  }, [_vm._l((_vm.temp_list), function(item, index) {\n    return _c('swipe-item', {\n      staticClass: \"req-item\",\n      staticStyle: {\n        \"margin-left\": \"0px\",\n        \"margin-right\": \"0px\"\n      },\n      attrs: {\n        \"obj\": item,\n        \"canSwipe\": true,\n        \"swipeItemText\": \"删除\"\n      },\n      on: {\n        \"SwipeItemClick\": function($event) {\n          _vm.tmplTypeDelete(item, index)\n        }\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.ascertain(item)\n        }\n      }\n    }, [_c('div', [_c('p', [_vm._v(_vm._s(item.tmpl_type_name))])])])\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  })], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.addDepFlag = true\n      }\n    }\n  }, [_vm._v(\"\\n        添加类型\\n      \")])])]), _vm._v(\" \"), _c('mw-prompt', {\n    attrs: {\n      \"show\": _vm.addDepFlag,\n      \"okFunction\": _vm.addNewDep,\n      \"placeholder\": \"请输工艺模板类型名称\"\n    },\n    on: {\n      \"hidePop\": function($event) {\n        _vm.addDepFlag = false\n      }\n    },\n    model: {\n      value: (_vm.typeName),\n      callback: function($$v) {\n        _vm.typeName = $$v\n      },\n      expression: \"typeName\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/107.4a1504c2b756485f444d.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-0240c9dd&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./typeList.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./typeList.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-0240c9dd!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./typeList.vue\"),\n  /* scopeId */\n  \"data-v-0240c9dd\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/production/procTemplate/typeList.vue\n// module id = 298\n// module chunks = 107","import fetch from '@/utils/fetch'\n\n//查询工序模板类型列表 /api/pm/routing_tmpl_type/list\nexport function tmplTypeList(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl_type/list',\n    method:'post',\n    data\n  })\n}\n//模板类型删除   /api/pm/routing_tmpl_type/delete\nexport function tmplTypeDelete(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl_type/delete',\n    method:'post',\n    data\n  })\n}\n//新增工序模板类型 /api/pm/routing_tmpl_type/edit\nexport function tmplTypeModify(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl_type/edit',\n    method:'post',\n    data\n  })\n}\n//查询工序列表  /api/pm/proc/list\nexport function procList(data) {\n  return fetch({\n    url:'/api/pm/proc/list',\n    method:'post',\n    data\n  })\n}\n//查询工艺模板详情 /api/pm/routing_tmpl/modify\nexport function tmplModify(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl/modify',\n    method:'post',\n    data\n  })\n}\n//查询工艺模板详情 /api/pm/routing_tmpl/list\nexport function tmplList(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl/list',\n    method:'post',\n    data\n  })\n}\n//工艺模板删除 /api/pm/routing_tmpl/delete\nexport function tmplDelete(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl/delete',\n    method:'post',\n    data\n  })\n}\n//查询工艺模板详情 /api/pm/routing_tmpl/detail\nexport function tmplDetail(data) {\n  return fetch({\n    url:'/api/pm/routing_tmpl/detail',\n    method:'post',\n    data\n  })\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/production/procTemplate.js","<template>\n  <div class=\"mw-page page storage\" v-nav=\"{hideNavbar:true}\">\n    <div class=\"mw-page-header\">\n      <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n      <span>工艺模板类型列表</span>\n      <i class=\"right\"></i>\n    </div>\n    <div class=\"mw-page-content \">\n      <div class=\"content\" >\n        <scroll class=\"page-content\"  style=\"-webkit-overflow-scrolling: touch\" >\n            <swipe-item @click.native=\"ascertain(item)\" style=\"margin-left: 0px;margin-right: 0px;\" v-for=\"(item,index) in temp_list\" class=\"req-item\"   :obj=\"item\" :canSwipe=\"true\" swipeItemText=\"删除\" v-on:SwipeItemClick=\"tmplTypeDelete(item,index)\">\n              <div >\n                <p>{{item.tmpl_type_name}}</p>\n              </div>\n            </swipe-item>\n          <div  slot=\"infinite\" class=\"text-center\"></div>\n        </scroll>\n      </div>\n    </div>\n    <div class=\"mw-page-footer\">\n      <div class=\"btns\">\n        <div class=\"btn\" @click=\"addDepFlag=true\">\n          添加类型\n        </div>\n      </div>\n    </div>\n    <mw-prompt :show=\"addDepFlag\" :okFunction=\"addNewDep\" v-model=\"typeName\" placeholder=\"请输工艺模板类型名称\" v-on:hidePop=\"addDepFlag=false\"></mw-prompt>\n  </div>\n</template>\n\n<script>\n  import { getDeptInfo } from '@/api/company'\n  import { tmplTypeList,tmplTypeModify,tmplTypeDelete } from '@/api/production/procTemplate'\n  import SwipeItem from \"../../../components/swipeItem\"\n  import sess from '@/utils/sess'\n  import MwPrompt from \"@/components/mwPrompt\";\n  export default{\n    name:'departmentList',\n    components: {SwipeItem,MwPrompt},\n    data(){\n      return {\n        addDepFlag:false,\n        typeName:'',\n        dep_id:'',\n        parent_id:'',\n        list:[\n          // {name:'黄杰',id:1,check:true},\n        ],\n        temp_list:[]\n      }\n    },\n    computed:{},\n    activated(){\n      if(sess.get('pg_list')!=null){\n        this.list=JSON.parse(sess.get('pg_list'))\n        sess.remove('pg_list')\n      }\n    },\n    mounted(){\n      const param = this.$route.query;\n      this.dep_id = param.dep_id\n      this.parent_id=param.parent_id\n      this.tmplTypeList()\n    },\n    methods: {\n      addNewDep(){\n        if(this.type==''){\n          $toast.show('请输入内容')\n          return\n        }else{\n          this.tmplTypeModify()\n        }\n      },\n      tmplTypeModify(){\n        const  requestData={\n          routing_tmpl_type_info:{\n            tmpl_type_name:this.typeName\n          }\n        }\n        tmplTypeModify(requestData).then(res => {\n          this.addDepFlag=false\n          $toast.show('添加类型成功')\n          this.tmplTypeList()\n        }).catch(error => {\n          $toast.show(error.description)\n        })\n      },\n      tmplTypeDelete(item,index){\n        const  requestData={\n          type_id:item.id\n        }\n        tmplTypeDelete(requestData).then(res => {\n          if(res){\n            this.temp_list.splice(index,1)\n            $toast.show('删除成功')\n          }else{\n            $toast.show('工艺模板种类已被引用，不能删除！')\n          }\n        }).catch(error => {\n          $toast.show(error.description)\n        })\n      },\n      ascertain(item){\n        let tempType={\n          tmpl_type_id:item.id,\n          tmpl_type_name:item.tmpl_type_name\n        }\n        sess.set('tempType',JSON.stringify(tempType))\n        this.$router.go(-1)\n\n      },\n      //获取工艺模板类型列表\n      tmplTypeList(){\n        const  requestData={\n          query:{\n            status:'',\n            tmpl_type_name:''\n          }\n        }\n        tmplTypeList(requestData).then(res => {\n          this.temp_list=res.routing_tmpl_type_list\n        }).catch(error => {\n          $toast.show(error.description)\n        })\n      },\n\n\n\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// typeList.vue?5acaac70","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"typeList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-0240c9dd&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/production/procTemplate/typeList.vue\n// module id = 570\n// module chunks = 107","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-0240c9dd&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./typeList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"981f5332\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-0240c9dd&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/production/procTemplate/typeList.vue\n// module id = 709\n// module chunks = 107","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"工艺模板类型列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content \"\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    }\n  }, [_vm._l((_vm.temp_list), function(item, index) {\n    return _c('swipe-item', {\n      staticClass: \"req-item\",\n      staticStyle: {\n        \"margin-left\": \"0px\",\n        \"margin-right\": \"0px\"\n      },\n      attrs: {\n        \"obj\": item,\n        \"canSwipe\": true,\n        \"swipeItemText\": \"删除\"\n      },\n      on: {\n        \"SwipeItemClick\": function($event) {\n          _vm.tmplTypeDelete(item, index)\n        }\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.ascertain(item)\n        }\n      }\n    }, [_c('div', [_c('p', [_vm._v(_vm._s(item.tmpl_type_name))])])])\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  })], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.addDepFlag = true\n      }\n    }\n  }, [_vm._v(\"\\n        添加类型\\n      \")])])]), _vm._v(\" \"), _c('mw-prompt', {\n    attrs: {\n      \"show\": _vm.addDepFlag,\n      \"okFunction\": _vm.addNewDep,\n      \"placeholder\": \"请输工艺模板类型名称\"\n    },\n    on: {\n      \"hidePop\": function($event) {\n        _vm.addDepFlag = false\n      }\n    },\n    model: {\n      value: (_vm.typeName),\n      callback: function($$v) {\n        _vm.typeName = $$v\n      },\n      expression: \"typeName\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-0240c9dd!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/production/procTemplate/typeList.vue\n// module id = 852\n// module chunks = 107"],"sourceRoot":""}