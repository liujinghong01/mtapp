{"version":3,"sources":["webpack:///static/js/78.57f3d20fe93323750a45.js","webpack:///./src/views/mats/bom/electrodeList.vue","webpack:///./src/api/mats/index.js?b5c8***","webpack:///electrodeList.vue","webpack:///./src/views/mats/bom/electrodeList.vue?6553","webpack:///./src/views/mats/bom/electrodeList.vue?1545","webpack:///./src/views/mats/bom/electrodeList.vue?afc6"],"names":["webpackJsonp","271","module","exports","__webpack_require__","Component","346","__webpack_exports__","bomList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","bomNodeList","updateNodes","cascadeType","mateName","matNameSpec","cascadeMat","rawnatureList","rawnaturePrice","bomNodeInfo","bomNodeDelete","428","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default","n","__WEBPACK_IMPORTED_MODULE_1__api_mats__","name","components","SwipeItem","a","tabs","tabIndex","app_flag","mat_no","bom_id","node_id","mat_type","list","swipeX","methods","touchstart","this","event","targetTouches","clientX","touchend","changedTouches","elArr","currentTarget","parentNode","children","length","classList","contains","remove","add","offSwipe","getData","_this","requestData","query","then","res","bom_node_list","catch","error","$toast","show","description","item","index","_this2","$dialog","confirm","theme","title","cancelText","okText","splice","activated","mounted","$route","params","517","push","version","sources","names","mappings","file","sourceRoot","618","content","locals","727","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","$router","go","_v","staticStyle","font-size","_l","forward","_s","mat_name","spec","rawnature_name","total_qty","staticRenderFns"],"mappings":"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","file":"static/js/78.57f3d20fe93323750a45.js","sourcesContent":["webpackJsonp([78],{\n\n/***/ 271:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(618)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(428),\n  /* template */\n  __webpack_require__(727),\n  /* scopeId */\n  \"data-v-36b69dbc\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = bomList;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = bomNodeList;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = updateNodes;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = cascadeType;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = mateName;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = matNameSpec;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = cascadeMat;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = rawnatureList;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = rawnaturePrice;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = bomNodeInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = bomNodeDelete;\n/* unused harmony export commitBom */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(7);\n\n\n\nfunction bomList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: 'api/bom_node/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction updateNodes(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/update',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeType(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction mateName(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction matNameSpec(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name_spec/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeMat(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_mat/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnatureList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnaturePrice(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/price',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeInfo(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/info',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeDelete(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction commitBom(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/app',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 428:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_mats__ = __webpack_require__(346);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'electrodeList',\n  components: { SwipeItem: __WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default.a },\n  data: function data() {\n    return {\n      tabs: ['半成品', '标准件', '电极'],\n      tabIndex: 0,\n      app_flag: '',\n      mat_no: '',\n      bom_id: '',\n      node_id: '',\n      mat_type: '',\n      list: [],\n      swipeX: 0\n    };\n  },\n\n  methods: {\n    touchstart: function touchstart() {\n      this.swipeX = event.targetTouches[0].clientX;\n    },\n    touchend: function touchend() {\n      var X = event.changedTouches[0].clientX + 30;\n      if (X < this.swipeX) {\n        var elArr = event.currentTarget.parentNode.children;\n        for (var i = 0; i < elArr.length; i++) {\n          if (elArr[i].classList.contains(\"active\")) {\n            elArr[i].classList.remove(\"active\");\n          }\n        }\n        event.currentTarget.classList.add('active');\n      }\n    },\n    offSwipe: function offSwipe() {\n      event.currentTarget.parentNode.classList.remove('active');\n    },\n    getData: function getData() {\n      var _this = this;\n\n      var requestData = {\n        query: {\n          bom_id: this.bom_id,\n          node_id: this.node_id,\n          mat_type: ''\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_mats__[\"i\" /* bomNodeList */])(requestData).then(function (res) {\n        _this.list = res.bom_node_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    bomNodeDelete: function bomNodeDelete(item, index) {\n      var _this2 = this;\n\n      event.currentTarget.parentNode.classList.remove('active');\n      $dialog.confirm({\n        theme: 'ios',\n\n        title: '确定要删除吗？',\n\n        cancelText: '取消',\n\n        okText: '确定'\n      }).then(function (res) {\n        if (res) {\n\n          var requestData = { node_id: item.node_id };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_mats__[\"j\" /* bomNodeDelete */])(requestData).then(function (res) {\n            _this2.list.splice(index, 1);\n            $toast.show('删除成功');\n          }).catch(function (error) {\n            $toast.show(error.description);\n          });\n        }\n      });\n    }\n  },\n  activated: function activated() {\n    this.getData();\n  },\n  mounted: function mounted() {\n    this.bom_id = this.$route.params.bom_id;\n    this.node_id = this.$route.params.node_id;\n    this.mat_type = this.$route.params.mat_type;\n    this.app_flag = this.$route.params.app_flag;\n  }\n});\n\n/***/ }),\n\n/***/ 517:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(220)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"electrodeList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 618:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(517);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(221)(\"6259da79\", content, true);\n\n/***/ }),\n\n/***/ 727:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"font-size\": \"15px\"\n    }\n  }, [_vm._v(\"电极子物料列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, _vm._l((_vm.list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.$router.forward('/mats/bom/childNodeDetail/check/' + item.node_id + '/electrode/' + _vm.app_flag)\n        }\n      }\n    }, [_c('div', [_c('h3', [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.$route.params.app_flag !== 'step30'),\n      expression: \"$route.params.app_flag!=='step30'\"\n    }],\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.forward('/mats/bom/childNodeDetail/new/' + _vm.node_id + '/electrode/' + _vm.app_flag)\n      }\n    }\n  }, [_vm._v(\"添加\")])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/78.57f3d20fe93323750a45.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-36b69dbc&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./electrodeList.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./electrodeList.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-36b69dbc!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./electrodeList.vue\"),\n  /* scopeId */\n  \"data-v-36b69dbc\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mats/bom/electrodeList.vue\n// module id = 271\n// module chunks = 78","/**\r\n * Created by zxf on 2017/11/27.\r\n */\r\n\r\n//物料相关接口\r\nimport fetch from '@/utils/fetch'\r\n//bom列表\r\nexport function bomList(data) {\r\n  return fetch({\r\n    url: '/api/bom/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 某bom下的一级节点列表\r\n///api/bom_node/list\r\nexport function bomNodeList(data) {\r\n  return fetch({\r\n    url: 'api/bom_node/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//新建或修改Bom节点\r\n// /api/bom_node/update\r\nexport function updateNodes(data) {\r\n  return fetch({\r\n    url: '/api/bom_node/update',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料类别列表\r\n//  /api/cascade_type/list\r\nexport function cascadeType(data) {\r\n  return fetch({\r\n    url: '/api/cascade_type/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料名称列表\r\n// /api/mat_name/list\r\nexport function mateName(data) {\r\n  return fetch({\r\n    url: '/api/mat_name/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料名称级联规格查询\r\n//  /api/mat_name_spec/list\r\nexport function matNameSpec(data) {\r\n  return fetch({\r\n    url: '/api/mat_name_spec/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料类型级联名称查询\r\n// /api/cascade_mat/list\r\nexport function cascadeMat(data) {\r\n  return fetch({\r\n    url: '/api/cascade_mat/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//材质列表\r\n//  /api/rawnature/list\r\nexport function rawnatureList(data) {\r\n  return fetch({\r\n    url: '/api/rawnature/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//计划单价计算\r\n// /api/rawnature/price\r\nexport function rawnaturePrice(data) {\r\n  return fetch({\r\n    url: '/api/rawnature/price',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//查询BOM节点详细信息\r\n//  /api/bom_node/info\r\nexport function bomNodeInfo(data) {\r\n  return fetch({\r\n    url: '/api/bom_node/info',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//删除Bom节点\r\n//  /api/bom_node/delete\r\nexport function bomNodeDelete(data) {\r\n  return fetch({\r\n    url: '/api/bom_node/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//提交审批\r\n//  /api/bom/app\r\nexport function commitBom(data) {\r\n  return fetch({\r\n    url: '/api/bom/app',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mats/index.js","<template>\r\n    <div class=\"mw-page page mats\" v-nav=\"{hideNavbar:true}\">\r\n        <div class=\"mw-page-header\">\r\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\r\n            <span style=\"font-size: 15px\">电极子物料列表</span>\r\n            <i class=\"right\"></i>\r\n        </div>\r\n        <div class=\"mw-page-content\">\r\n\r\n          <div v-for=\"(item,index) in list\" class=\"bom-swipe-item\"  @touchstart=\"touchstart($event)\"  @touchend=\"touchend($event)\" >\r\n            <div class=\"swipe-content\" @click=\"$router.forward('/mats/bom/childNodeDetail/check/'+item.node_id+'/electrode/'+app_flag)\">\r\n              <div>\r\n                <h3>物料编号：<span>{{ item.mat_no }}</span></h3>\r\n                <!--<h3>物料名称：<span>{{ 缺少物料名称字段 }}</span></h3>-->\r\n                <h3>物料名称：<span>{{ item.mat_name }}</span></h3>\r\n                <p>\r\n                  <span>规格尺寸({{ item.spec }})</span>\r\n                </p>\r\n                <p>\r\n                  <span>材质({{ item.rawnature_name }})</span>\r\n                  <span>数量({{ item.total_qty }})</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"swipe-click\" @click=\"offSwipe('点击事件')\"></div>\r\n            <div class=\"swipe-side\" @click=\"bomNodeDelete(item,index)\">删除</div>\r\n          </div>\r\n\r\n        </div>\r\n        <div v-show=\"$route.params.app_flag!=='step30'\" class=\"mw-page-footer\">\r\n            <div class=\"btns\">\r\n                <div class=\"btn\" @click=\"$router.forward('/mats/bom/childNodeDetail/new/'+node_id+'/electrode/'+app_flag)\">添加</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import SwipeItem from \"../../../components/swipeItem\";//bomNodeList\r\n  import { bomNodeList,bomNodeDelete } from '@/api/mats'\r\n    export default{\r\n      name:'electrodeList',\r\n      components: {SwipeItem},\r\n      data(){\r\n        return {\r\n          tabs:['半成品','标准件','电极'],\r\n          tabIndex:0,\r\n          app_flag:'',\r\n          mat_no:'',\r\n          bom_id:'',\r\n          node_id:'',\r\n          mat_type:'',\r\n          list:[\r\n//            {\r\n//              \"rawnature_name\":\"请选择\",\r\n//              \"mat_type\":\"毛坯\",\r\n//              \"mat_id\":130,\r\n//              \"total_qty\":1.00000,\r\n//              \"length\":10.00000,\r\n//              \"width\":0.00000,\r\n//              \"mat_no\":\"M2017005-20171205135643-20171205135643\",\r\n//              \"spec\":\"请选择\",\r\n//              \"node_id\":115,\r\n//              \"is_purchase\":\"1\",\r\n//              \"height\":10.00000\r\n//            },\r\n//            {\r\n//            \"rawnature_name\":\"铜\",\r\n//              \"mat_type\":\"毛坯\",\"mat_id\":132,\"total_qty\":1.00000,\"length\":10.00000,\r\n//              \"width\":0.00000,\"mat_no\":\"M2017005-20171205153251-20171205153251\",\r\n//              \"spec\":\"请选择\",\r\n//              \"node_id\":119,\r\n//              \"is_purchase\":\"1\",\r\n//              \"height\":10.00000\r\n//            },\r\n//            {\r\n//            \"rawnature_name\":\"铜\",\"mat_type\":\"毛坯\",\"mat_id\":134,\"total_qty\":1.00000,\"length\":10.00000,\"width\":0.00000,\"mat_no\":\"M2017005-20171205155421-20171205155421\",\"spec\":\"请选择\",\"node_id\":121,\"is_purchase\":\"1\",\"height\":10.00000\r\n//            }\r\n          ],\r\n          swipeX:0,\r\n        }\r\n\r\n      },\r\n      methods: {\r\n        touchstart(){\r\n          this.swipeX=event.targetTouches[0].clientX\r\n        },\r\n        touchend(){\r\n          var X=event.changedTouches[0].clientX+30\r\n          if(X<this.swipeX){\r\n            var elArr=event.currentTarget.parentNode.children\r\n            for(var i=0;i<elArr.length;i++){\r\n              if(elArr[i].classList.contains(\"active\")){\r\n                elArr[i].classList.remove(\"active\")\r\n              }\r\n            }\r\n            event.currentTarget.classList.add('active')\r\n          }\r\n        },\r\n        offSwipe(){\r\n          event.currentTarget.parentNode.classList.remove('active')\r\n        },\r\n        getData(){\r\n          const requestData={\r\n            query:{\r\n              bom_id:this.bom_id,\r\n              node_id:this.node_id,\r\n              mat_type:''\r\n            }\r\n          }\r\n          bomNodeList(requestData).then(res=>{\r\n            this.list=res.bom_node_list\r\n          }).catch(error=>{\r\n            $toast.show(error.description)\r\n          })\r\n        },\r\n        bomNodeDelete(item,index){\r\n          event.currentTarget.parentNode.classList.remove('active')\r\n          $dialog.confirm({\r\n            // 设置为ios样式\r\n            theme: 'ios',\r\n            // 标题\r\n            title: '确定要删除吗？',\r\n            // 取消按钮文本\r\n            cancelText: '取消',\r\n            // 确定按钮文本\r\n            okText: '确定'\r\n          }).then(res=>{\r\n            if(res){\r\n\r\n              const requestData={node_id:item.node_id}\r\n              bomNodeDelete(requestData).then(res=>{\r\n                this.list.splice(index,1)\r\n                $toast.show('删除成功')\r\n              }).catch(error=>{\r\n                $toast.show(error.description)\r\n              })\r\n            }\r\n          })\r\n        },\r\n      },\r\n      activated:function(){\r\n        this.getData();\r\n\r\n      },\r\n      mounted(){\r\n        this.bom_id = this.$route.params.bom_id\r\n        this.node_id = this.$route.params.node_id\r\n        this.mat_type = this.$route.params.mat_type\r\n        this.app_flag = this.$route.params.app_flag\r\n      }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// electrodeList.vue?28785c56","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"electrodeList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-36b69dbc&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/electrodeList.vue\n// module id = 517\n// module chunks = 78","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-36b69dbc&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./electrodeList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6259da79\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-36b69dbc&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/electrodeList.vue\n// module id = 618\n// module chunks = 78","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"font-size\": \"15px\"\n    }\n  }, [_vm._v(\"电极子物料列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, _vm._l((_vm.list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.$router.forward('/mats/bom/childNodeDetail/check/' + item.node_id + '/electrode/' + _vm.app_flag)\n        }\n      }\n    }, [_c('div', [_c('h3', [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.$route.params.app_flag !== 'step30'),\n      expression: \"$route.params.app_flag!=='step30'\"\n    }],\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.forward('/mats/bom/childNodeDetail/new/' + _vm.node_id + '/electrode/' + _vm.app_flag)\n      }\n    }\n  }, [_vm._v(\"添加\")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-36b69dbc!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mats/bom/electrodeList.vue\n// module id = 727\n// module chunks = 78"],"sourceRoot":""}