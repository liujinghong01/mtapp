{"version":3,"sources":["webpack:///static/js/104.fb466eeedd91eb51897e.js","webpack:///./src/views/production/work/personnelList.vue","webpack:///./src/api/production/work.js?6786***","webpack:///personnelList.vue","webpack:///./src/views/production/work/personnelList.vue?04a3","webpack:///./src/views/production/work/personnelList.vue?371c","webpack:///./src/views/production/work/personnelList.vue?007c"],"names":["webpackJsonp","316","module","exports","__webpack_require__","Component","397","__webpack_exports__","inceptList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","incept","confirmList","waitProcList","pgDetail","popAllocate","popProcInfo","popChangeStateus","515","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vuex__","__WEBPACK_IMPORTED_MODULE_2__api_production_work__","__WEBPACK_IMPORTED_MODULE_3__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_3__components_swipeItem___default","n","__WEBPACK_IMPORTED_MODULE_4__utils_sess__","name","components","SwipeItem","a","dep_id","pop_id","parent_id","type","list","computed","activated","mounted","param","this","$route","query","pg_id","methods","onInfinite","onRefresh","_this","checkList","forEach","e","check","push","member_id","requestData","resource_info","device_list","member_list","then","res","$router","go","catch","error","$toast","show","description","_this2","allocated_list","get","JSON","parse","remove","pg_info","memeber_list","length","item","index","console","log","resource_id","$set","checked","undefined","698","version","sources","names","mappings","file","sourcesContent","sourceRoot","837","content","locals","985","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","_v","staticStyle","-webkit-overflow-scrolling","_l","class","nativeOn","_s","work_name","attrs","slot","staticRenderFns"],"mappings":"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","file":"static/js/104.fb466eeedd91eb51897e.js","sourcesContent":["webpackJsonp([104],{\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(837)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(515),\n  /* template */\n  __webpack_require__(985),\n  /* scopeId */\n  \"data-v-d247a9ac\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 397:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export resourceList */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = inceptList;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = incept;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = confirmList;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = waitProcList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = pgDetail;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = popAllocate;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = popProcInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = popChangeStateus;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\nfunction resourceList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/resource_list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction inceptList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/incept_list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction incept(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/incept',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction confirmList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/confirm_list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction waitProcList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/wait_proc_list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction pgDetail(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pg/detail',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction popAllocate(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/allocate',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction popProcInfo(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/proc_info',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction popChangeStateus(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/pop/change_status',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 515:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_company__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_production_work__ = __webpack_require__(397);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'persList',\n  components: { SwipeItem: __WEBPACK_IMPORTED_MODULE_3__components_swipeItem___default.a },\n  data: function data() {\n    return {\n      dep_id: '',\n      pop_id: '',\n      parent_id: '',\n      type: '',\n      list: []\n    };\n  },\n\n  computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"a\" /* mapGetters */])(['chosenCompany', 'userinfo']),\n  activated: function activated() {},\n  mounted: function mounted() {\n    var param = this.$route.query;\n    this.pg_id = param.pg_id;\n    this.pop_id = param.pop_id;\n    this.pgDetail();\n  },\n\n  methods: {\n    onInfinite: function onInfinite() {},\n    onRefresh: function onRefresh() {},\n    popAllocate: function popAllocate() {\n      var _this = this;\n\n      var checkList = [];\n      this.list.forEach(function (e, i) {\n        if (e.check) {\n          checkList.push({ member_id: e.member_id });\n        }\n      });\n      var requestData = {\n        resource_info: {\n          device_list: [],\n          member_list: checkList,\n          pop_id: this.pop_id\n        }\n\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_production_work__[\"b\" /* popAllocate */])(requestData).then(function (res) {\n        _this.$router.go(-1);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    pgDetail: function pgDetail() {\n      var _this2 = this;\n\n      var requestData = {\n        query: {\n          pg_id: this.pg_id\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_production_work__[\"a\" /* pgDetail */])(requestData).then(function (res) {\n        var allocated_list = [];\n        if (__WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].get('allocated_list') !== null) {\n          allocated_list = JSON.parse(__WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].get('allocated_list'));\n          __WEBPACK_IMPORTED_MODULE_4__utils_sess__[\"a\" /* default */].remove('allocated_list');\n        }\n        _this2.list = res.pg_info.memeber_list;\n        if (allocated_list.length > 0) {\n          _this2.list.forEach(function (e, i) {\n            allocated_list.forEach(function (item, index) {\n              console.log(e.member_id == item.resource_id);\n              if (e.member_id == item.resource_id) {\n                _this2.$set(e, 'check', true);\n              }\n            });\n          });\n        }\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    checked: function checked(item, index) {\n      if (item.check == undefined) {\n        this.$set(item, 'check', true);\n      } else {\n        item.check = !item.check;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 698:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.item[data-v-d247a9ac] {\\n  padding-left: 40px;\\n}\\n.item > div[data-v-d247a9ac] {\\n    line-height: 20px;\\n}\\n.item.active[data-v-d247a9ac] {\\n    background: #fff;\\n}\\n.item.active > div.checkbox > i[data-v-d247a9ac] {\\n      color: #416eb6;\\n}\\n.item.active > div.checkbox > i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: block;\\n}\\n.item .checkbox[data-v-d247a9ac] {\\n    width: 40px;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.item .checkbox i[data-v-d247a9ac] {\\n      position: absolute;\\n      width: 14px;\\n      height: 20px;\\n      font-size: 18px;\\n      left: 50%;\\n      top: 50%;\\n      margin-top: -10px;\\n      margin-left: -5px;\\n}\\n.item .checkbox i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: none;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/work/personnelList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;CACpB;AACD;IACI,kBAAkB;CACrB;AACD;IACI,iBAAiB;CACpB;AACD;MACM,eAAe;CACpB;AACD;QACQ,eAAe;CACtB;AACD;IACI,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,OAAO;IACP,QAAQ;CACX;AACD;MACM,mBAAmB;MACnB,YAAY;MACZ,aAAa;MACb,gBAAgB;MAChB,UAAU;MACV,SAAS;MACT,kBAAkB;MAClB,kBAAkB;CACvB;AACD;QACQ,cAAc;CACrB\",\"file\":\"personnelList.vue\",\"sourcesContent\":[\"\\n.item[data-v-d247a9ac] {\\n  padding-left: 40px;\\n}\\n.item > div[data-v-d247a9ac] {\\n    line-height: 20px;\\n}\\n.item.active[data-v-d247a9ac] {\\n    background: #fff;\\n}\\n.item.active > div.checkbox > i[data-v-d247a9ac] {\\n      color: #416eb6;\\n}\\n.item.active > div.checkbox > i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: block;\\n}\\n.item .checkbox[data-v-d247a9ac] {\\n    width: 40px;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.item .checkbox i[data-v-d247a9ac] {\\n      position: absolute;\\n      width: 14px;\\n      height: 20px;\\n      font-size: 18px;\\n      left: 50%;\\n      top: 50%;\\n      margin-top: -10px;\\n      margin-left: -5px;\\n}\\n.item .checkbox i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(698);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"529291a4\", content, true);\n\n/***/ }),\n\n/***/ 985:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"人员列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content \"\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    }\n  }, [_vm._l((_vm.list), function(item, index) {\n    return _c('item', {\n      class: item.check ? 'active' : '',\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.checked(item, index)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"checkbox\"\n    }, [_c('i', {\n      staticClass: \"icon ion-android-checkbox-outline-blank\"\n    }), _vm._v(\" \"), _c('i', {\n      staticClass: \"icon ion-android-checkbox\"\n    })]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(item.work_name))])])\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  })], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.popAllocate\n    }\n  }, [_vm._v(\"\\n        确定\\n      \")])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/104.fb466eeedd91eb51897e.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-d247a9ac&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./personnelList.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personnelList.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-d247a9ac!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./personnelList.vue\"),\n  /* scopeId */\n  \"data-v-d247a9ac\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/production/work/personnelList.vue\n// module id = 316\n// module chunks = 104","import fetch from '@/utils/fetch'\n//查询任务资源列表  /api/pm/pop/resource_list\nexport function resourceList(data) {\n  return fetch({\n    url:'/api/pm/pop/resource_list',\n    method:'post',\n    data\n  })\n}\n//查询任务领取列表   /api/pm/pop/incept_list\nexport function inceptList(data) {\n  return fetch({\n    url:'/api/pm/pop/incept_list',\n    method:'post',\n    data\n  })\n}\n//任务领取，取消 /api/pm/pop/incept\nexport function incept(data) {\n  return fetch({\n    url:'/api/pm/pop/incept',\n    method:'post',\n    data\n  })\n}\n\n//查询小组报工列表  /api/pm/pop/confirm_list\nexport function confirmList(data) {\n  return fetch({\n    url:'/api/pm/pop/confirm_list',\n    method:'post',\n    data\n  })\n}\n\n//查询设备或人员的待加工、加工中任务列表  /api/pm/pop/wait_proc_list\nexport function waitProcList(data) {\n  return fetch({\n    url:'/api/pm/pop/wait_proc_list',\n    method:'post',\n    data\n  })\n}\n//查询生产小组详情  /api/pm/pg/detail\nexport function pgDetail(data) {\n  return fetch({\n    url:'/api/pm/pg/detail',\n    method:'post',\n    data\n  })\n}\n//为加工任务指派资源  /api/pm/pop/allocate\nexport function popAllocate(data) {\n  return fetch({\n    url:'/api/pm/pop/allocate',\n    method:'post',\n    data\n  })\n}\n//查询设备或人员的加工中任务信息  /api/pm/pop/proc_info\nexport function popProcInfo(data) {\n  return fetch({\n    url:'/api/pm/pop/proc_info',\n    method:'post',\n    data\n  })\n}\n//更改任务的加工状态（报工)   /api/pm/pop/change_status\nexport function popChangeStateus(data) {\n  return fetch({\n    url:'/api/pm/pop/change_status',\n    method:'post',\n    data\n  })\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/production/work.js","<template>\n  <div class=\"mw-page page storage\" v-nav=\"{hideNavbar:true}\">\n    <div class=\"mw-page-header\">\n      <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n      <span>人员列表</span>\n      <i class=\"right\"></i>\n    </div>\n    <div class=\"mw-page-content \">\n      <div class=\"content\" >\n        <scroll class=\"page-content\"  style=\"-webkit-overflow-scrolling: touch\" >\n          <item v-for=\"(item,index) in list\" :class=\"item.check?'active':''\"  @click.native=\"checked(item,index)\">\n            <div class=\"checkbox\">\n              <i class=\"icon ion-android-checkbox-outline-blank\"></i>\n              <i class=\"icon ion-android-checkbox\"></i>\n            </div>\n            <span>{{ item.work_name }}</span>\n          </item>\n          <div  slot=\"infinite\" class=\"text-center\"></div>\n        </scroll>\n      </div>\n    </div>\n    <div class=\"mw-page-footer\">\n      <div class=\"btns\">\n        <div class=\"btn\" @click=\"popAllocate\">\n          确定\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import { getDeptInfo } from '@/api/company'\n  import { pgDetail,popAllocate } from '@/api/production/work'\n  import SwipeItem from \"../../../components/swipeItem\"\n  import sess from '@/utils/sess'\n  export default{\n    name:'persList',\n    components: {SwipeItem},\n    data(){\n      return {\n        dep_id:'',\n        pop_id:'',\n        parent_id:'',\n        type:'',\n        list:[\n          // {name:'黄杰',id:1,check:true},\n        ]\n      }\n    },\n    computed:mapGetters([\n      'chosenCompany',\n      'userinfo'\n    ]),\n    activated(){\n    },\n    mounted(){\n      const param=this.$route.query\n      this.pg_id=param.pg_id\n      this.pop_id=param.pop_id\n      this.pgDetail()\n\n    },\n    methods: {\n      onInfinite(){},\n      onRefresh(){},\n      popAllocate(){\n        let checkList=[]\n        this.list.forEach((e,i)=>{\n          if(e.check){\n            checkList.push({member_id:e.member_id})\n          }\n        })\n        const requestData = {\n          resource_info:{\n            device_list:[],\n            member_list:checkList,\n            pop_id:this.pop_id\n          }\n\n        }\n        popAllocate(requestData).then(res => {\n          this.$router.go(-1)\n        }).catch(error => {\n          $toast.show(error.description)\n        })},\n      //获取公司部门以及成员\n      pgDetail(){\n        const  requestData={\n          query:{\n            pg_id:this.pg_id\n          }\n        }\n        pgDetail(requestData).then(res => {\n          let allocated_list=[]\n          if(sess.get('allocated_list')!==null){\n            allocated_list=JSON.parse(sess.get('allocated_list'))\n            sess.remove('allocated_list')\n          }\n          this.list=res.pg_info.memeber_list\n          if(allocated_list.length>0){\n            this.list.forEach((e,i)=>{\n              allocated_list.forEach((item,index)=>{\n                console.log(e.member_id==item.resource_id)\n                if(e.member_id==item.resource_id){\n                  this.$set(e,'check',true)\n                }\n              })\n            })\n          }\n        }).catch(error => {\n          $toast.show(error.description)\n        })\n      },\n\n      checked(item,index){\n          if(item.check==undefined){\n            this.$set(item,'check',true)\n          }else{\n            item.check=!item.check\n          }\n\n      }\n\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n.item{\n  padding-left:40px ;\n  &>div{\n    line-height: 20px\n  }\n  &.active{\n    background: #fff;\n    &>div.checkbox>i{\n      color: #416eb6;\n      &.ion-android-checkbox{\n        display: block;\n      }\n    }\n  }\n  .checkbox{\n    width: 40px;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    i{\n      position: absolute;\n      width: 14px;\n      height: 20px;\n      font-size: 18px;\n      left: 50%;\n      top: 50%;\n      margin-top: -10px;\n      margin-left: -5px;\n      &.ion-android-checkbox{\n        display: none;\n      }\n    }\n  }\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// personnelList.vue?07533052","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.item[data-v-d247a9ac] {\\n  padding-left: 40px;\\n}\\n.item > div[data-v-d247a9ac] {\\n    line-height: 20px;\\n}\\n.item.active[data-v-d247a9ac] {\\n    background: #fff;\\n}\\n.item.active > div.checkbox > i[data-v-d247a9ac] {\\n      color: #416eb6;\\n}\\n.item.active > div.checkbox > i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: block;\\n}\\n.item .checkbox[data-v-d247a9ac] {\\n    width: 40px;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.item .checkbox i[data-v-d247a9ac] {\\n      position: absolute;\\n      width: 14px;\\n      height: 20px;\\n      font-size: 18px;\\n      left: 50%;\\n      top: 50%;\\n      margin-top: -10px;\\n      margin-left: -5px;\\n}\\n.item .checkbox i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: none;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/work/personnelList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;CACpB;AACD;IACI,kBAAkB;CACrB;AACD;IACI,iBAAiB;CACpB;AACD;MACM,eAAe;CACpB;AACD;QACQ,eAAe;CACtB;AACD;IACI,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,OAAO;IACP,QAAQ;CACX;AACD;MACM,mBAAmB;MACnB,YAAY;MACZ,aAAa;MACb,gBAAgB;MAChB,UAAU;MACV,SAAS;MACT,kBAAkB;MAClB,kBAAkB;CACvB;AACD;QACQ,cAAc;CACrB\",\"file\":\"personnelList.vue\",\"sourcesContent\":[\"\\n.item[data-v-d247a9ac] {\\n  padding-left: 40px;\\n}\\n.item > div[data-v-d247a9ac] {\\n    line-height: 20px;\\n}\\n.item.active[data-v-d247a9ac] {\\n    background: #fff;\\n}\\n.item.active > div.checkbox > i[data-v-d247a9ac] {\\n      color: #416eb6;\\n}\\n.item.active > div.checkbox > i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: block;\\n}\\n.item .checkbox[data-v-d247a9ac] {\\n    width: 40px;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.item .checkbox i[data-v-d247a9ac] {\\n      position: absolute;\\n      width: 14px;\\n      height: 20px;\\n      font-size: 18px;\\n      left: 50%;\\n      top: 50%;\\n      margin-top: -10px;\\n      margin-left: -5px;\\n}\\n.item .checkbox i.ion-android-checkbox[data-v-d247a9ac] {\\n        display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-d247a9ac&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/production/work/personnelList.vue\n// module id = 698\n// module chunks = 104","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-d247a9ac&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./personnelList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"529291a4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-d247a9ac&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/production/work/personnelList.vue\n// module id = 837\n// module chunks = 104","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"人员列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content \"\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    }\n  }, [_vm._l((_vm.list), function(item, index) {\n    return _c('item', {\n      class: item.check ? 'active' : '',\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.checked(item, index)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"checkbox\"\n    }, [_c('i', {\n      staticClass: \"icon ion-android-checkbox-outline-blank\"\n    }), _vm._v(\" \"), _c('i', {\n      staticClass: \"icon ion-android-checkbox\"\n    })]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(item.work_name))])])\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  })], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.popAllocate\n    }\n  }, [_vm._v(\"\\n        确定\\n      \")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-d247a9ac!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/production/work/personnelList.vue\n// module id = 985\n// module chunks = 104"],"sourceRoot":""}