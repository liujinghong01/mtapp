webpackJsonp([98],{327:function(t,e,i){i(820);var a=i(0)(i(526),i(968),"data-v-9a6a6c44",null);t.exports=a.exports},398:function(t,e,i){"use strict";function a(t){return i.i(l.a)({url:"/api/pc/query/requestList",method:"post",data:t})}function s(t){return i.i(l.a)({url:"/api/pc/query/request",method:"post",data:t})}function n(t){return i.i(l.a)({url:"/api/pc/request/delete",method:"post",data:t})}function o(t){return i.i(l.a)({url:"/api/pc/request/deleteLine",method:"post",data:t})}function c(t){return i.i(l.a)({url:"/api/pc/request/referHis",method:"post",data:t})}function r(t){return i.i(l.a)({url:"/api/pc/request/modify",method:"post",data:t})}function u(t){return i.i(l.a)({url:"/api/pc/request/modifyLine",method:"post",data:t})}e.a=a,e.d=s,e.g=n,e.e=o,e.b=c,e.f=r,e.c=u;var l=i(10)},526:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(398);e.default={name:"requisitionLineInfo",data:function(){return{tabIndex:0,tabs:["制定中","审批中","已审批","退回","作废","筛选"],pageModel:{curr_page:0,page_size:10,total_page:0},request_list:[],checkedItem:{},query:{approve_step:""}}},mounted:function(){this.getData(!0)},methods:{onTabClick:function(t){t!==this.tabs.length-1&&(this.tabIndex=t)},onInfinite:function(t){var e=this;if(e.pageModel.total_page<=e.pageModel.curr_page)return void t();setTimeout(function(){e.pageModel.total_page<2?t():(e.getData(),t())},400)},onRefresh:function(t){setTimeout(function(){this.pageModel.curr_page=0,this.getData(!0),t()},500)},onItemClick:function(t){this.$router.forward("/purchase/requisition/detail/associate/"+t.request_id)},check:function(t){t.checked?(this.$set(t,"check",!1),this.checkedItem={}):(this.$set(this.checkedItem,"check",!1),this.$set(t,"check",!0),this.checkedItem=t)},getData:function(t){var e=this,s={curr_page:t?1:1+this.pageModel.curr_page,page_size:this.pageModel.page_size,query:this.query};i.i(a.a)(s).then(function(i){i.request_list.length>0&&(t&&(e.request_list.length=0),e.pageModel.curr_page=i.curr_page,e.pageModel.total_page=i.total_page,e.request_list=e.request_list.concat(i.request_list))}).catch(function(t){$toast.show(t.description)})},associate:function(){var t=this,e={request_id_his:this.checkedItem.request_id};i.i(a.b)(e).then(function(e){console.log(e),t.$router.forward("/purchase/requisition/detail/check/"+e.request_id)}).catch(function(t){$toast.show(t.description)})}}}},681:function(t,e,i){e=t.exports=i(225)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"history.vue",sourceRoot:""}])},820:function(t,e,i){var a=i(681);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(226)("549dbea6",a,!0)},968:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page purchase"},[i("div",{staticClass:"mw-page-header"},[i("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("span",[t._v("历史请购单列表")]),t._v(" "),i("i",{staticClass:"right"})]),t._v(" "),i("div",{staticClass:"mw-page-content has-tab"},[i("div",{staticStyle:{flex:"1"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.request_list,function(e){return i("div",[i("item",{staticClass:"req-item check"},[i("div",{staticClass:"checkBox active",on:{click:function(i){t.check(e)}}},[i("i",{class:["icon",e.check?"ion-android-radio-button-on active":"ion-android-radio-button-off"]})]),t._v(" "),i("div",{staticStyle:{width:"88%",float:"right"},on:{click:function(i){t.onItemClick(e)}}},[i("div",{staticClass:"req-item-title"},[t._v("请购单号 ："),i("span",{staticClass:"vi-color"},[t._v(t._s(e.request_no))]),i("i",{staticClass:"icon ion-ios-arrow-right"})]),t._v(" "),i("div",{staticClass:"req-item-content"},[i("span",[t._v("部门 : "+t._s(e.dep_name))]),t._v(" "),i("span",[t._v("日期 : "+t._s(e.request_date))])])])])],1)}),t._v(" "),t.pageModel.curr_page>=t.pageModel.total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1)])]),t._v(" "),i("div",{staticClass:"mw-page-footer"},[i("div",{staticClass:"btns"},[i("div",{staticClass:"btn",on:{click:t.associate}},[t._v("\n                参考\n            ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=98.f5825a67ba70c66734e5.js.map