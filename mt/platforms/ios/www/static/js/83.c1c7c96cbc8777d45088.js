webpackJsonp([83],{361:function(t,e,i){i(711);var s=i(0)(i(560),i(854),"data-v-039d0c22",null);t.exports=s.exports},419:function(t,e,i){"use strict";function s(t){return i.i(o.a)({url:"/api/iv/voucher/list",method:"post",data:t})}function a(t){return i.i(o.a)({url:"/api/iv/voucher/detail",method:"post",data:t})}e.b=s,e.a=a;var o=i(10)},560:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(419),a=i(20),o=i.n(a);e.default={name:"voucherList",components:{SwipeItem:o.a},data:function(){return{tabs:["入库单据","出库单据","盘点单据","调拨单据"],tabIndex:0,voucher_type:1,pageModels:[{curr_page:0,page_size:10,total_page:0},{curr_page:0,page_size:10,total_page:0},{curr_page:0,page_size:10,total_page:0},{curr_page:0,page_size:10,total_page:0}],list:[{voucherList:[]},{voucherList:[]},{voucherList:[]},{voucherList:[]}]}},computed:{},activated:function(){},methods:{onTabClick:function(t){t!==this.tabIndex&&(this.tabIndex=t,this.voucher_type=this.tabIndex+1,void 0===this.list[t].length&&this.getVoucherList("refresh"))},onInfinite:function(t){var e=this;if(this.pageModels[this.tabIndex].curr_page>this.pageModels[this.tabIndex].total_page)return void t();setTimeout(function(){console.log(e.pageModels),e.pageModels[e.tabIndex].total_page<2?t():e.getVoucherList(e.tabIndex+1),t()},500)},onRefresh:function(t){var e=this;setTimeout(function(){e.getVoucherList("refresh"),t()},500)},getVoucherList:function(t){var e=this;"refresh"===t&&(this.list[this.tabIndex].voucherList=[],this.pageModels[this.tabIndex].curr_page=0);var a={curr_page:this.pageModels[this.tabIndex].curr_page+1,page_size:this.pageModels[this.tabIndex].page_size,query:{voucher_type:this.voucher_type,voucher_on:""}};i.i(s.b)(a).then(function(t){t.voucher_list.length>0?(e.list[e.tabIndex].voucherList=e.list[e.tabIndex].voucherList.concat(t.voucher_list),e.pageModels[e.tabIndex].curr_page=t.curr_page,e.pageModels[e.tabIndex].total_page=t.total_page):e.pageModels[e.tabIndex].total_page=0}).catch(function(t){$toast.show(t.description)})},goDetail:function(t){this.$router.forward("/storage/voucher/Detail/"+t)}},mounted:function(){this.getVoucherList(1)}}},572:function(t,e,i){e=t.exports=i(225)(),e.push([t.i,"\n.item > div[data-v-039d0c22] {\n  line-height: 18px;\n  color: #ababab;\n}\n.item > div span[data-v-039d0c22] {\n    color: #444;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/storage/voucher/list.vue"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,eAAe;CAChB;AACD;IACI,YAAY;CACf",file:"list.vue",sourcesContent:["\n.item > div[data-v-039d0c22] {\n  line-height: 18px;\n  color: #ababab;\n}\n.item > div span[data-v-039d0c22] {\n    color: #444;\n}\n"],sourceRoot:""}])},711:function(t,e,i){var s=i(572);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(226)("5c367914",s,!0)},854:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[i("div",{staticClass:"mw-page-header"},[i("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("span",[t._v("凭证列表")]),t._v(" "),i("i",{staticClass:"right"})]),t._v(" "),i("div",{staticClass:"mw-page-content has-tab"},[i("div",{staticStyle:{height:"60px"}},[i("tabs",{attrs:{"tab-items":t.tabs,"tab-index":t.tabIndex,"on-tab-click":t.onTabClick}})],1),t._v(" "),i("div",{staticStyle:{flex:"1"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[0].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[0].curr_page>=t.pageModels[0].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex===1"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[1].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[1].curr_page>=t.pageModels[1].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex===2"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[2].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[2].curr_page>=t.pageModels[2].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.tabIndex,expression:"tabIndex===3"}],staticClass:"content"},[i("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":t.onInfinite,"on-refresh":t.onRefresh}},[t._l(t.list[3].voucherList,function(e){return i("item",{nativeOn:{click:function(i){t.goDetail(e.voucher_no)}}},[i("h3",{staticClass:"vi-color",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.voucher_no))]),t._v(" "),i("div",[t._v("类型 ："),i("span",[t._v(t._s(e.trans_type))])]),t._v(" "),i("div",[t._v("种类 ："),i("span",[t._v(t._s(e.mat_count))])]),t._v(" "),i("div",[t._v("物料数量 ："),i("span",[t._v(t._s(e.mat_sum))])]),t._v(" "),i("div",[t._v("凭证日期 ："),i("span",[t._v(t._s(e.trans_date))])]),t._v(" "),i("i",{staticClass:"icon ion-ios-arrow-right",staticStyle:{position:"absolute",top:"50%",right:"0",width:"30px",height:"40px","font-size":"40px","margin-top":"-20px",color:"#ababab"}})])}),t._v(" "),t.pageModels[3].curr_page>=t.pageModels[3].total_page?i("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=83.c1c7c96cbc8777d45088.js.map