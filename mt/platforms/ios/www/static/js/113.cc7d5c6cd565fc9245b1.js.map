{"version":3,"sources":["webpack:///static/js/113.cc7d5c6cd565fc9245b1.js","webpack:///./src/views/production/MaterialRequisition/matList.vue","webpack:///./src/api/storage/baseInfo.js?a176******************","webpack:///matList.vue?41b1","webpack:///./src/views/production/MaterialRequisition/matList.vue?c5c8","webpack:///./src/views/production/MaterialRequisition/matList.vue?847e","webpack:///./src/views/production/MaterialRequisition/matList.vue?aae8"],"names":["webpackJsonp","284","module","exports","__webpack_require__","Component","375","__webpack_exports__","storageNew","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","storageList","storageDetail","storageDel","storageRoomDel","storageMats","storageMatModify","queryMats","storeSearchMat","moldMatReq","482","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3__utils_sess__","name","matSearch","matList","list","house_id","chosenMats","action","type","bom_type","mold_no","mounted","param","this","$route","query","get","JSON","parse","length","remove","console","log","methods","cancel","searchMats","a","debounce","_this","mat_desc","mat_id","mat_model","mat_no","then","res","store_mat_list","forEach","item","index","e","$set","quantity","$toast","show","catch","error","description","_this2","apply_type","req_list","addCount","undeal_qty","stock_qty","push","countChange","minCount","_this3","$dialog","confirm","theme","title","okText","cancelText","checked","splice","ok","set","$router","go","computed","totalCount","sumCount","filter","o","watch","686","version","sources","names","mappings","file","sourcesContent","sourceRoot","825","content","locals","973","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","_v","staticStyle","height","width","padding","float","border-radius","box-sizing","attrs","placeholder","domProps","input","target","composing","flex","position","_l","display","_s","store_house_name","total_stock_qty","_e","change","background-color","color","staticRenderFns"],"mappings":"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","file":"static/js/113.cc7d5c6cd565fc9245b1.js","sourcesContent":["webpackJsonp([113],{\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(825)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(482),\n  /* template */\n  __webpack_require__(973),\n  /* scopeId */\n  \"data-v-a55ca0ec\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 375:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = storageNew;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = storageList;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = storageDetail;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = storageDel;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = storageRoomDel;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = storageMats;\n/* unused harmony export storageMatDel */\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = storageMatModify;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = queryMats;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = storeSearchMat;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = moldMatReq;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\n\n\nfunction storageNew(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/modify',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageDetail(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/detail',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storehouse/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageRoomDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/storeroom/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageMats(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/mat_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageMatDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/mat_type/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storageMatModify(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/mat_type/modify',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction queryMats(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/store_room/search_mat',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction storeSearchMat(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/iv/store/search_mat',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction moldMatReq(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pm/mold_mat_req/list',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 482:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__ = __webpack_require__(375);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'MaterialList',\n  data: function data() {\n    return {\n      matSearch: '',\n      matList: [],\n      list: [],\n      house_id: '',\n      chosenMats: [],\n      action: 'check',\n      type: '',\n      bom_type: '',\n      mold_no: ''\n    };\n  },\n  mounted: function mounted() {\n    var param = this.$route.query;\n    this.type = param.type;\n    this.bom_type = param.bom_type;\n    this.mold_no = param.mold_no;\n    var list = [];\n    if (__WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].get('matList') !== null) {\n      list = JSON.parse(__WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].get('matList'));\n    }\n    if (list.length > 0) {\n      this.chosenMats = list;\n      __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].remove('matList');\n      console.log('获取本地储存成功2' + list);\n    } else {\n      console.log('获取本地储存为空2' + list);\n    }\n    if (this.type * 1 === 1) {\n      this.moldMatReq();\n    }\n  },\n\n  methods: {\n    cancel: function cancel() {\n      this.action = 'action';\n    },\n\n    searchMats: __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.debounce(function () {\n      this.storeSearchMat();\n    }, 1000),\n    storeSearchMat: function storeSearchMat() {\n      var _this = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__[\"a\" /* storeSearchMat */])({\n        query: {\n          mat_desc: '',\n          mat_id: '',\n          mat_model: '',\n          mat_no: this.matSearch\n        }\n      }).then(function (res) {\n        if (res.store_mat_list.length > 0) {\n          _this.matList = res.store_mat_list;\n          if (_this.chosenMats.length > 0) {\n            _this.matList.forEach(function (item, index) {\n              _this.chosenMats.forEach(function (e, i) {\n                if (item.mat_no === e.mat_no) {\n                  _this.$set(item, 'quantity', e.quantity);\n                }\n              });\n            });\n          }\n        } else {\n          $toast.show('结果查询为空');\n          _this.matList = [];\n        }\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    moldMatReq: function moldMatReq() {\n      var _this2 = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_storage_baseInfo__[\"b\" /* moldMatReq */])({\n        query: {\n          apply_type: this.type,\n          bom_type: this.bom_type,\n          mold_no: this.mold_no\n        }\n      }).then(function (res) {\n        if (res.req_list.length > 0) {\n          _this2.matList = res.req_list;\n          if (_this2.chosenMats.length > 0) {\n            _this2.matList.forEach(function (item, index) {\n              _this2.chosenMats.forEach(function (e, i) {\n                if (item.mat_no === e.mat_no) {\n                  _this2.$set(item, 'quantity', e.quantity);\n                }\n              });\n            });\n          }\n        } else {\n          $toast.show('结果查询为空');\n          _this2.matList = [];\n        }\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    addCount: function addCount(item) {\n      if (!item.quantity) {\n        this.$set(item, 'quantity', 1);\n        this.chosenMats.push(item);\n      } else {\n        if (this.type === '1') {\n          if (item.quantity < item.undeal_qty) {\n            item.quantity++;\n          } else {\n            item.quantity = item.undeal_qty;\n          }\n        } else {\n          if (item.quantity < item.stock_qty) {\n            item.quantity++;\n          } else {\n            item.quantity = item.stock_qty;\n          }\n        }\n        this.chosenMats.forEach(function (e, i) {\n          if (e.mat_id == item.mat_id) {\n            e.quantity = item.quantity;\n          }\n        });\n      }\n    },\n    countChange: function countChange(item) {\n      if (item.quantity <= 0) {\n        item.quantity = 1;\n      }\n      if (this.type === '1') {\n        if (item.quantity > item.undeal_qty) {\n          item.quantity = item.undeal_qty;\n        }\n      } else {\n        if (item.quantity > item.stock_qty) {\n          item.quantity = item.stock_qty;\n        }\n      }\n      this.chosenMats.forEach(function (e, i) {\n        if (e.mat_id == item.mat_id) {\n          e.quantity = item.quantity;\n        }\n      });\n    },\n    minCount: function minCount(item) {\n      var _this3 = this;\n\n      if (item.quantity === 1) {\n        $dialog.confirm({\n          theme: 'ios',\n          title: '要删除物料吗？',\n          okText: '确定',\n          cancelText: '取消'\n        }).then(function (res) {\n          if (res) {\n            item.quantity = 0;\n            _this3.chosenMats.forEach(function (e, i) {\n              if (e.mat_id == item.mat_id) {\n                item.checked = false;\n                _this3.chosenMats.splice(i, 1);\n              }\n            });\n          }\n        });\n        return;\n      }\n      this.$set(item, 'quantity', --item.quantity);\n      this.chosenMats.forEach(function (e, i) {\n        if (e.mat_id == item.mat_id) {\n          e.quantity = item.quantity;\n        }\n      });\n    },\n    ok: function ok() {\n      if (this.chosenMats.length === 0) {\n        $toast.show('请选择物料');\n        return;\n      }\n      if (this.chosenMats.length > 0) {\n        var list = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.chosenMats);\n        __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].set('mats', list);\n        console.log(\"本地储存成功2\" + list);\n      } else {\n        console.log(\"本地储存为空2\");\n      }\n      $router.go(-1);\n    }\n  },\n  computed: {\n    totalCount: function totalCount() {\n      var sumCount = 0;\n      this.chosenMats.filter(function (o) {\n        sumCount += o.quantity;\n      });\n      return '总数量' + sumCount;\n    }\n  },\n  watch: {\n    'matSearch': function matSearch() {\n      this.searchMats();\n    }\n  }\n\n});\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.total[data-v-a55ca0ec] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-a55ca0ec] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n.icon-saoyisao[data-v-a55ca0ec] {\\n  float: left;\\n  display: block;\\n  width: 15%;\\n  text-align: center;\\n  line-height: 34px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/MaterialRequisition/matList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;MACd,cAAc;CACnB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,mBAAmB;CACtB;AACD;EACE,YAAY;EACZ,eAAe;EACf,WAAW;EACX,mBAAmB;EACnB,kBAAkB;CACnB\",\"file\":\"matList.vue\",\"sourcesContent\":[\"\\n.total[data-v-a55ca0ec] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-a55ca0ec] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n.icon-saoyisao[data-v-a55ca0ec] {\\n  float: left;\\n  display: block;\\n  width: 15%;\\n  text-align: center;\\n  line-height: 34px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 825:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(686);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"9e4d3bdc\", content, true);\n\n/***/ }),\n\n/***/ 973:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料清单\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content has-tab\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.type * 1 !== 1),\n      expression: \"type*1!==1\"\n    }],\n    staticStyle: {\n      \"height\": \"50px\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"padding\": \"10px\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.matSearch),\n      expression: \"matSearch\"\n    }],\n    staticStyle: {\n      \"float\": \"left\",\n      \"width\": \"85%\",\n      \"border-radius\": \"5px\",\n      \"padding\": \"0 5px\",\n      \"box-sizing\": \"border-box\"\n    },\n    attrs: {\n      \"type\": \"search\",\n      \"placeholder\": \"请输入物料编码\"\n    },\n    domProps: {\n      \"value\": (_vm.matSearch)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.matSearch = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-saoyisao\"\n  })])]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\",\n      \"position\": \"relative\"\n    }\n  }, [_c('div', {\n    staticClass: \"hairline-top\"\n  }), _vm._v(\" \"), _vm._l((_vm.matList), function(item) {\n    return _c('item', [_c('div', {\n      staticStyle: {\n        \"display\": \"flex\"\n      }\n    }, [_c('div', {\n      staticClass: \"matBill-content\",\n      staticStyle: {\n        \"width\": \"80%\"\n      }\n    }, [_c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料名称: \" + _vm._s(item.mat_desc))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料编码: \" + _vm._s(item.mat_no))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"规格型号: \" + _vm._s(item.mat_model))]), _vm._v(\" \"), _c('span', [_vm._v(\"所在仓库: \" + _vm._s(item.store_house_name))]), _vm._v(\"  \\n              \"), (_vm.type * 1 === 1) ? _c('span', [_vm._v(\"库存量: \" + _vm._s(item.total_stock_qty))]) : _c('span', [_vm._v(\"库存量: \" + _vm._s(item.stock_qty))]), _vm._v(\" \"), (_vm.type * 1 === 1) ? _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"需求量: \" + _vm._s(item.undeal_qty))]) : _vm._e()]), _vm._v(\" \"), (item.quantity > 0) ? _c('div', {\n      staticClass: \"edit-zone\",\n      staticStyle: {\n        \"width\": \"25%\"\n      }\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.minCount(item)\n        }\n      }\n    }, [_vm._v(\"-\")]), _vm._v(\"  \\n                \"), _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (item.quantity),\n        expression: \"item.quantity\"\n      }],\n      attrs: {\n        \"type\": \"number\"\n      },\n      domProps: {\n        \"value\": (item.quantity)\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.countChange(item)\n        },\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          _vm.$set(item, \"quantity\", $event.target.value)\n        }\n      }\n    }), _vm._v(\"\\n                  \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])]) : _c('div', {\n      staticClass: \"edit-zone\"\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])])])])\n  })], 2)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"total\"\n  }, [_c('div', {\n    staticStyle: {\n      \"display\": \"flex\"\n    }\n  }, [_c('span', [_vm._v(\"物料种类:\" + _vm._s(this.chosenMats.length))]), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"padding\": \"0 15px\"\n    }\n  }, [_vm._v(_vm._s(_vm.totalCount))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\",\n      \"color\": \"white\",\n      \"padding\": \"15px 0\"\n    },\n    on: {\n      \"click\": _vm.ok\n    }\n  }, [_vm._v(\"\\n            确定\\n        \")])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/113.cc7d5c6cd565fc9245b1.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-a55ca0ec&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./matList.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./matList.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-a55ca0ec!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./matList.vue\"),\n  /* scopeId */\n  \"data-v-a55ca0ec\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/production/MaterialRequisition/matList.vue\n// module id = 284\n// module chunks = 113","/**\n * Created by zxf on 2017/11/30.\n */\n\nimport fetch from '@/utils/fetch'\n\n\n// 仓库新增修改\nexport function storageNew(data) {\n  return fetch({\n    url:'/api/iv/storehouse/modify',\n    method:'post',\n    data\n  })\n}\n\n/// 查询仓库列表\nexport function storageList(data) {\n  return fetch({\n    url:'/api/iv/storehouse/list',\n    method:'post',\n    data\n  })\n}\n\n// 查询仓库详情\nexport function storageDetail(data) {\n  return fetch({\n    url:'/api/iv/storehouse/detail',\n    method:'post',\n    data\n  })\n}\n\n//删除仓库\nexport function storageDel(data) {\n  return fetch({\n    url:'/api/iv/storehouse/delete',\n    method:'post',\n    data\n  })\n}\n\n//删除库位\nexport function storageRoomDel(data) {\n  return fetch({\n    url:'/api/iv/storeroom/delete',\n    method:'post',\n    data\n  })\n}\n\n\n//查询仓库物料类型列表\nexport function storageMats(data) {\n  return fetch({\n    url:'/api/iv/mat_type/list',\n    method:'post',\n    data\n  })\n}\n\n\n//查询仓库物料类型删除\nexport function storageMatDel(data) {\n  return fetch({\n    url:'/api/iv/mat_type/delete',\n    method:'post',\n    data\n  })\n}\n\n//新增修改物料类型\nexport function storageMatModify(data) {\n  return fetch({\n    url:'/api/iv/mat_type/modify',\n    method:'post',\n    data\n  })\n}\n\n// 查询库存物料 /api/iv/store_room/search_mat\nexport function queryMats(data) {\n  return fetch({\n    url:'/api/iv/store_room/search_mat',\n    method:'post',\n    data\n  })\n}\n//   /api/iv/store/search_mat\nexport function storeSearchMat(data) {\n  return fetch({\n    url:'/api/iv/store/search_mat',\n    method:'post',\n    data\n  })\n}\n//查询模具物料需求表 /api/pm/mold_mat_req/list\nexport function moldMatReq(data) {\n  return fetch({\n    url:'/api/pm/mold_mat_req/list',\n    method:'post',\n    data\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/storage/baseInfo.js","<template>\n    <div class=\"mw-page page storage\" v-nav=\"{hideNavbar:true}\">\n        <div class=\"mw-page-header\">\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n            <span>物料清单</span>\n            <i class=\"right\"></i>\n        </div>\n        <div class=\"mw-page-content has-tab\">\n          <div v-show=\"type*1!==1\" style=\"height: 50px;\">\n            <div style=\"width: 100%;height: 100%;padding: 10px\">\n              <input type=\"search\" placeholder=\"请输入物料编码\" style=\"float:left;width: 85%;border-radius: 5px;padding: 0 5px;box-sizing: border-box\" v-model=\"matSearch\"/>\n              <i  class=\"iconfont icon-saoyisao\"></i>\n            </div>\n          </div>\n          <div style=\"flex: 1;position: relative\">\n            <div class=\"hairline-top\"></div>\n            <item v-for=\"item in matList\">\n              <div style=\"display: flex\">\n                <div class=\"matBill-content\" style=\"width: 80%\">\n                  <p class=\"title\">物料名称: {{item.mat_desc}}</p>\n                  <p class=\"title\">物料编码: {{item.mat_no}}</p>\n                  <p class=\"title\">规格型号: {{item.mat_model}}</p>\n                  <span>所在仓库: {{item.store_house_name}}</span>&nbsp;&nbsp;\n                  <span v-if=\"type*1===1\">库存量: {{item.total_stock_qty}}</span>\n                  <span v-else>库存量: {{item.stock_qty}}</span>\n                  <p v-if=\"type*1===1\" class=\"title\">需求量: {{item.undeal_qty}}</p>\n                </div>\n                <div class=\"edit-zone\" style=\"width: 25%\" v-if=\"item.quantity>0\">\n                    <span @click=\"minCount(item)\">-</span>&nbsp;&nbsp;\n                    <input type=\"number\" v-model=\"item.quantity\"  @change=\"countChange(item)\"/>\n                    &nbsp;&nbsp;<span @click=\"addCount(item)\">+</span>\n                </div>\n                <div v-else class=\"edit-zone\">\n                  <span @click=\"addCount(item)\">+</span>\n                </div>\n              </div>\n            </item>\n          </div>\n        </div>\n        <div class=\"mw-page-footer\">\n          <div class=\"btns\">\n            <div style=\"\" class=\"total\">\n              <div style=\"display: flex\">\n                <span >物料种类:{{this.chosenMats.length}}</span>\n                <span style=\"padding: 0 15px\">{{totalCount}}</span>\n              </div>\n            </div>\n            <div class=\"btn\" style=\"background-color: #416eb6;color: white;padding: 15px 0\" @click=\"ok\">\n                确定\n            </div>\n          </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import { storeSearchMat,moldMatReq } from '@/api/storage/baseInfo'\n  import _ from 'lodash'\n  import sess from '@/utils/sess'\n    export default{\n      name:'MaterialList',\n        data(){\n          return {\n            matSearch: '',  //搜索关键字\n            matList: [],\n            list:[],\n            house_id:'',\n            chosenMats:[],    //已选择的产品\n//            totalPrice:0.00,  //总金额\n            action:'check',\n            type:'',\n            bom_type:'',\n            mold_no:''\n          }\n        },\n      mounted() {\n        let param=this.$route.query\n        this.type=param.type\n        this.bom_type=param.bom_type\n        this.mold_no=param.mold_no\n        let list=[]\n        if(sess.get('matList')!==null){\n          list=JSON.parse(sess.get('matList'))\n        }\n        if(list.length>0){\n          this.chosenMats=list\n          sess.remove('matList')\n          console.log('获取本地储存成功2'+list)\n        }else{\n          console.log('获取本地储存为空2'+list)\n        }\n        if(this.type*1===1){\n          this.moldMatReq()\n        }\n      },\n        methods: {\n          cancel(){\n            this.action='action'\n          },\n          searchMats:_.debounce(\n            function(){\n                this.storeSearchMat()\n            },1000),\n          storeSearchMat(){\n            storeSearchMat({\n              query:{\n                mat_desc:'',\n                mat_id:'',\n                mat_model:'',\n                mat_no:this.matSearch\n              }\n            }).then(res=>{\n              if(res.store_mat_list.length>0){\n                this.matList = res.store_mat_list\n                if(this.chosenMats.length>0){\n                  this.matList.forEach((item,index)=>{\n                    this.chosenMats.forEach((e,i)=>{\n                      if(item.mat_no===e.mat_no){\n                        this.$set(item,'quantity',e.quantity)\n                      }\n                    })\n                  })\n                }\n\n              }else{\n                $toast.show('结果查询为空')\n                this.matList = []\n              }\n            }).catch(error=>{\n              $toast.show(error.description)\n            })\n          },\n          moldMatReq(){\n            moldMatReq({\n              query:{\n                apply_type:this.type,\n                bom_type:this.bom_type,\n                mold_no:this.mold_no,\n              }\n            }).then(res=>{\n              if(res.req_list.length>0){\n                this.matList = res.req_list\n                if(this.chosenMats.length>0){\n                  this.matList.forEach((item,index)=>{\n                    this.chosenMats.forEach((e,i)=>{\n                      if(item.mat_no===e.mat_no){\n                        this.$set(item,'quantity',e.quantity)\n                      }\n                    })\n                  })\n                }\n\n              }else{\n                $toast.show('结果查询为空')\n                this.matList = []\n              }\n            }).catch(error=>{\n              $toast.show(error.description)\n            })\n          },\n\n          addCount(item){\n            if(!item.quantity) {\n              this.$set(item,'quantity',1)\n              this.chosenMats.push(item)\n            }else{\n              if(this.type==='1'){\n                if(item.quantity<item.undeal_qty){\n                  item.quantity++\n                }else{\n                  item.quantity=item.undeal_qty\n                }\n              }else{\n                if(item.quantity<item.stock_qty){\n                  item.quantity++\n                }else{\n                  item.quantity=item.stock_qty\n                }\n              }\n              this.chosenMats.forEach((e,i)=>{\n                if(e.mat_id==item.mat_id){\n                  e.quantity=item.quantity\n                }\n              })\n\n            }\n          },\n          countChange(item){\n            if(item.quantity<=0){\n              item.quantity=1\n            }\n            if(this.type==='1'){\n              if(item.quantity>item.undeal_qty) {\n                item.quantity = item.undeal_qty\n              }\n            }else{\n              if(item.quantity>item.stock_qty){\n                item.quantity=item.stock_qty\n              }\n            }\n            this.chosenMats.forEach((e,i)=>{\n              if(e.mat_id==item.mat_id){\n                e.quantity=item.quantity\n              }\n            })\n          },\n          minCount(item){//点击-号\n            if(item.quantity===1){\n              $dialog.confirm({\n                theme:'ios',\n                title:'要删除物料吗？',\n                okText:'确定',\n                cancelText:'取消'\n              }).then(res=>{\n                if(res) {\n                  item.quantity=0\n                  this.chosenMats.forEach((e,i)=>{\n                    if(e.mat_id==item.mat_id){\n                      item.checked=false\n                      this.chosenMats.splice(i,1)\n                    }\n                  })\n                }\n              })\n              return\n            }\n            this.$set(item,'quantity',--item.quantity)\n            this.chosenMats.forEach((e,i)=>{\n              if(e.mat_id==item.mat_id){\n                e.quantity=item.quantity\n              }\n            })\n          },\n          ok(){\n            if(this.chosenMats.length === 0){\n              $toast.show('请选择物料')\n              return\n            }\n            if(this.chosenMats.length>0){\n              let list=JSON.stringify(this.chosenMats)\n              sess.set('mats',list)\n              console.log(\"本地储存成功2\"+list)\n            }else{\n              console.log(\"本地储存为空2\")\n            }\n            $router.go(-1)\n          }\n        },\n        computed:{\n        totalCount(){\n          let sumCount = 0\n          this.chosenMats.filter(o=>{\n            sumCount += o.quantity\n          })\n          return '总数量'+sumCount\n        },\n      },\n        watch:{\n        'matSearch':function () {\n          this.searchMats()\n        }\n      },\n\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n  .total{\n    flex: 0 0 80%;\n    span{\n      flex: 1 0 auto;text-align: center\n    }\n  }\n  .icon-saoyisao{\n    float: left;\n    display: block;width: 15%;\n    text-align: center;\n    line-height: 34px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// matList.vue?597254c4","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.total[data-v-a55ca0ec] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-a55ca0ec] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n.icon-saoyisao[data-v-a55ca0ec] {\\n  float: left;\\n  display: block;\\n  width: 15%;\\n  text-align: center;\\n  line-height: 34px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/MaterialRequisition/matList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;MACd,cAAc;CACnB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,mBAAmB;CACtB;AACD;EACE,YAAY;EACZ,eAAe;EACf,WAAW;EACX,mBAAmB;EACnB,kBAAkB;CACnB\",\"file\":\"matList.vue\",\"sourcesContent\":[\"\\n.total[data-v-a55ca0ec] {\\n  -ms-flex: 0 0 80%;\\n      flex: 0 0 80%;\\n}\\n.total span[data-v-a55ca0ec] {\\n    -ms-flex: 1 0 auto;\\n        flex: 1 0 auto;\\n    text-align: center;\\n}\\n.icon-saoyisao[data-v-a55ca0ec] {\\n  float: left;\\n  display: block;\\n  width: 15%;\\n  text-align: center;\\n  line-height: 34px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-a55ca0ec&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/production/MaterialRequisition/matList.vue\n// module id = 686\n// module chunks = 113","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-a55ca0ec&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./matList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"9e4d3bdc\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-a55ca0ec&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/production/MaterialRequisition/matList.vue\n// module id = 825\n// module chunks = 113","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page storage\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料清单\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content has-tab\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.type * 1 !== 1),\n      expression: \"type*1!==1\"\n    }],\n    staticStyle: {\n      \"height\": \"50px\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"padding\": \"10px\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.matSearch),\n      expression: \"matSearch\"\n    }],\n    staticStyle: {\n      \"float\": \"left\",\n      \"width\": \"85%\",\n      \"border-radius\": \"5px\",\n      \"padding\": \"0 5px\",\n      \"box-sizing\": \"border-box\"\n    },\n    attrs: {\n      \"type\": \"search\",\n      \"placeholder\": \"请输入物料编码\"\n    },\n    domProps: {\n      \"value\": (_vm.matSearch)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.matSearch = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-saoyisao\"\n  })])]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\",\n      \"position\": \"relative\"\n    }\n  }, [_c('div', {\n    staticClass: \"hairline-top\"\n  }), _vm._v(\" \"), _vm._l((_vm.matList), function(item) {\n    return _c('item', [_c('div', {\n      staticStyle: {\n        \"display\": \"flex\"\n      }\n    }, [_c('div', {\n      staticClass: \"matBill-content\",\n      staticStyle: {\n        \"width\": \"80%\"\n      }\n    }, [_c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料名称: \" + _vm._s(item.mat_desc))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"物料编码: \" + _vm._s(item.mat_no))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"规格型号: \" + _vm._s(item.mat_model))]), _vm._v(\" \"), _c('span', [_vm._v(\"所在仓库: \" + _vm._s(item.store_house_name))]), _vm._v(\"  \\n              \"), (_vm.type * 1 === 1) ? _c('span', [_vm._v(\"库存量: \" + _vm._s(item.total_stock_qty))]) : _c('span', [_vm._v(\"库存量: \" + _vm._s(item.stock_qty))]), _vm._v(\" \"), (_vm.type * 1 === 1) ? _c('p', {\n      staticClass: \"title\"\n    }, [_vm._v(\"需求量: \" + _vm._s(item.undeal_qty))]) : _vm._e()]), _vm._v(\" \"), (item.quantity > 0) ? _c('div', {\n      staticClass: \"edit-zone\",\n      staticStyle: {\n        \"width\": \"25%\"\n      }\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.minCount(item)\n        }\n      }\n    }, [_vm._v(\"-\")]), _vm._v(\"  \\n                \"), _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (item.quantity),\n        expression: \"item.quantity\"\n      }],\n      attrs: {\n        \"type\": \"number\"\n      },\n      domProps: {\n        \"value\": (item.quantity)\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.countChange(item)\n        },\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          _vm.$set(item, \"quantity\", $event.target.value)\n        }\n      }\n    }), _vm._v(\"\\n                  \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])]) : _c('div', {\n      staticClass: \"edit-zone\"\n    }, [_c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.addCount(item)\n        }\n      }\n    }, [_vm._v(\"+\")])])])])\n  })], 2)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"total\"\n  }, [_c('div', {\n    staticStyle: {\n      \"display\": \"flex\"\n    }\n  }, [_c('span', [_vm._v(\"物料种类:\" + _vm._s(this.chosenMats.length))]), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"padding\": \"0 15px\"\n    }\n  }, [_vm._v(_vm._s(_vm.totalCount))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\",\n      \"color\": \"white\",\n      \"padding\": \"15px 0\"\n    },\n    on: {\n      \"click\": _vm.ok\n    }\n  }, [_vm._v(\"\\n            确定\\n        \")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a55ca0ec!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/production/MaterialRequisition/matList.vue\n// module id = 973\n// module chunks = 113"],"sourceRoot":""}