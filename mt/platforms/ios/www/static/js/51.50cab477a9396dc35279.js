webpackJsonp([51],{302:function(t,e,o){o(842);var n=o(0)(o(501),o(990),"data-v-eef3b5ee",null);t.exports=n.exports},370:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(t){var e=t.target.value;this.$emit("input",e)}}}},371:function(t,e,o){e=t.exports=o(225)(),e.push([t.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},372:function(t,e,o){var n=o(371);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(226)("6ea14c28",n,!0)},373:function(t,e,o){o(372);var n=o(0)(o(370),o(374),"data-v-19336c8e",null);t.exports=n.exports},374:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"compute-item"},[o("span",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==t.editType,expression:"editType!=='color'"}],staticClass:"value"},[t.canEdit&&"check"!==t.action&&"approve"!==t.action&&"checkOnly"!==t.action?o("input",{ref:"input",attrs:{type:t.editType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}}):o("span",[t._v(t._s(t.value))])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"color"===t.editType,expression:"editType==='color'"}],staticClass:"value"},[o("span",{staticClass:"color",style:{background:t.color}})]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"note"},[o("span",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow&&t.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:t.noteClick}},[t._v(t._s(t.arrowText))]),t._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),t._v(" "),o("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},394:function(t,e,o){"use strict";function n(t){return o.i(m.a)({url:"/api/pm/prod_req_bom/list",method:"post",data:t})}function i(t){return o.i(m.a)({url:"/api/pm/prod_req_mat/list",method:"post",data:t})}function a(t){return o.i(m.a)({url:"/api/pm/prod_req_bom_node/list",method:"post",data:t})}function r(t){return o.i(m.a)({url:"/api/pm/prod_req/info",method:"post",data:t})}function s(t){return o.i(m.a)({url:"/api/pm/routing_tmpl/list",method:"post",data:t})}function d(t){return o.i(m.a)({url:"/api/pm/routing_tmpl/detail",method:"post",data:t})}function p(t){return o.i(m.a)({url:"/api/pm/prod_order/list",method:"post",data:t})}function c(t){return o.i(m.a)({url:"/api/pm/prod_order/modify",method:"post",data:t})}function l(t){return o.i(m.a)({url:"/api/pm/prod_order/detail",method:"post",data:t})}function _(t){return o.i(m.a)({url:"/api/pm/prod_order/delete",method:"post",data:t})}function u(t){return o.i(m.a)({url:"/api/pm/schedule/start",method:"post",data:t})}function f(t){return o.i(m.a)({url:"/api/pm/po/generated",method:"post",data:t})}e.k=n,e.l=i,e.j=a,e.e=r,e.f=s,e.g=d,e.c=p,e.h=c,e.i=l,e.d=_,e.b=u,e.a=f;var m=o(10)},501:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(6),i=o.n(n),a=o(394),r=o(20),s=o.n(r),d=o(373),p=o.n(d),c=o(1);e.default={name:"processRouteDetaile",components:{SwipeItem:s.a,CstItem:p.a},data:function(){return{action:"",mat_no:"",prod_id:"",isEdit:!1,selectInfo:{switch:!1,list:[]},curr_page:0,total_page:"",times:"",dragx:"",dragy:"",dragX:0,dragY:0,top:0,topList:[],drag:!1,dragTime:"",Timeout:"",currItem:"",prod_info:{req_id:"",bom_qty:"",bom_type:"",prod_qty:"",delivery_date:"",mat_id:"",mat_name:"",mat_no:"",mat_type_id:"",mat_type_name:"",mold_no:"",node_pos:"",plan_end_time:"",plan_start_time:"",pri:"",po_status:"",prod_detail_list:[]}}},computed:{},activated:function(){this.getProcInfo()},mounted:function(){var t=this.$route.query;this.action=t.action,"new"===this.action?(this.mat_no=t.mat_no,this.prod_info.req_id=t.req_id,this.getDemand()):"new"!==this.action&&(this.prod_id=t.prod_id,this.prodOrderDetail()),this.tmplList()},methods:{selectProc:function(){this.selectInfo.switch=!0},goBack:function(){this.isEdit?$dialog.confirm({theme:"ios",title:"是否放弃修改并返回？",cancelText:"取消",okText:"确定"}).then(function(t){t&&$router.go(-1)}):$router.go(-1)},itemClick:function(t){var e=this;this.prod_info.prod_detail_list.length>0?$dialog.confirm({theme:"ios",title:"确定要覆盖之前的工艺路线么？",cancelText:"取消",okText:"确定"}).then(function(o){o&&e.tmplDetail(t)}):this.tmplDetail(t)},getDemand:function(){var t=this,e={query:{req_id:this.prod_info.req_id}};o.i(a.e)(e).then(function(e){t.prod_info.bom_qty=e.node_req_info.req_qty,t.prod_info.mat_id=e.node_req_info.mat_id,t.prod_info.mat_model=e.node_req_info.mat_model,t.prod_info.mat_name=e.node_req_info.mat_name,t.prod_info.mat_type_id=e.node_req_info.mat_type_id,t.prod_info.mat_type_name=e.node_req_info.mat_type_name,t.prod_info.mold_no=e.node_req_info.mold_no,t.prod_info.node_pos=e.node_req_info.node_pos,t.prod_info.undeal_qty=e.node_req_info.undeal_qty,t.prod_info.prod_qty=e.node_req_info.undeal_qty,t.prod_info.mat_no=e.node_req_info.mat_no,t.prod_info.rawnature_name=e.node_req_info.rawnature_name,t.prod_info.rawnature_id=e.node_req_info.rawnature_id,t.prod_info.first_try_date=e.node_req_info.first_try_date}).catch(function(t){$toast.show(t.description)})},procDelete:function(t,e){var o=this;event.cancelBubble=!0,this.prod_info.prod_detail_list.splice(e,1),this.isEdit=!0,this.prod_info.prod_detail_list.length>0&&this.prod_info.prod_detail_list.forEach(function(t,e){o.prod_info.prod_detail_list[e].proc_seq=e})},onItemClick:function(t){c.a.set("procInfo",i()(t)),this.$router.forward({path:"addProcedure",query:{action:"action"}})},getProcInfo:function(){var t=this;if(null!==c.a.get("procInfo")){var e=c.a.get("procInfo");if(c.a.remove("procInfo"),e.proc_seq+""==""&&(e.proc_seq=this.prod_info.prod_detail_list.length+1),null!==e){var o=!0;this.prod_info.prod_detail_list.length>0&&this.prod_info.prod_detail_list.forEach(function(n,i){console.log(n.proc_seq+":"+e.proc_seq),n.proc_seq==e.proc_seq&&(t.prod_info.prod_detail_list.splice(i,1,e),o=!1)}),o&&(this.prod_info.prod_detail_list.push(e),this.isEdit=!0)}}},tmplList:function(){var t=this,e={curr_page:this.curr_page+1,page_size:10,query:{status:"",tmpl_name:"",tmpl_type_id:"",tmpl_type_name:""}};o.i(a.f)(e).then(function(e){t.curr_page=e.curr_page,t.selectInfo.list=t.selectInfo.list.concat(e.routing_tmpl_info),t.total_page=e.total_page}).catch(function(t){$toast.show(t.description)})},onInfinite:function(t){if(!(this.curr_page>=this.total_page)){var e=this;setTimeout(function(){e.tmplList(),t()},500)}},tmplDetail:function(t){var e=this,n={query:{tmpl_id:t.id}};o.i(a.g)(n).then(function(t){e.prod_info.prod_detail_list=t.routing_tmpl_info.sub_list,e.prod_info.prod_detail_list.forEach(function(t,o){e.prod_info.prod_detail_list[o].id="",e.prod_info.prod_detail_list[o].tmpl_id=""}),e.isEdit=!0,e.selectInfo.switch=!1}).catch(function(t){$toast.show(t.description)})},submit:function(){$router.forward({path:"scheduling",query:{po_id:this.prod_info.po_id,undeal_qty:this.prod_info.prod_qty,first_try_date:"2018-05-12"}})},prodOrderModify:function(t){var e=this;if(this.prod_info.prod_detail_list.length<1)return void $toast.show("请配置工艺路线");if(0===t&&!1===this.isEdit)return void $toast.show("已保存");void 0===t?""===this.prod_info.po_status&&(this.prod_info.po_status=0):this.prod_info.po_status=t,this.prod_info.prod_detail_list.forEach(function(t,o){e.prod_info.prod_detail_list[o].proc_id=null,e.prod_info.prod_detail_list[o].id=null});var n={prod_info:this.prod_info};o.i(a.h)(n).then(function(t){e.prod_info=t.proc_info,e.isEdit=!1,$toast.show("保存成功")}).catch(function(t){$toast.show(t.description)})},prodOrderDetail:function(){var t=this,e={query:{po_id:this.prod_id}};o.i(a.i)(e).then(function(e){t.prod_info=e.prod_info,null==t.prod_info.prod_detail_list&&(t.prod_info.prod_detail_list=[])}).catch(function(t){$toast.show(t.description)})},touchstart:function(t,e,o){this.dragx=t.targetTouches[0].clientX,this.dragy=t.targetTouches[0].clientY,this.top=this.dragy-20,this.longTouch(t.currentTarget,e)},touchmove:function(t,e){this.dragX=t.targetTouches[0].clientX,this.dragY=t.targetTouches[0].clientY,this.top=this.dragY-20,console.log(this.top)},touchend:function(t,e,o){var n=this;clearTimeout(this.Timeout);var i=this.top+20;this.topList.forEach(function(t,e){if(t-75<i&&i<t){if(console.log(e,o,t),e==o||!n.drag)return;var a=n.prod_info.prod_detail_list[o];n.prod_info.prod_detail_list.splice(o,1),n.prod_info.prod_detail_list.splice(e,0,a),n.prod_info.prod_detail_list.forEach(function(t,e){n.prod_info.prod_detail_list[e].proc_seq=e})}}),e.drag&&this.$set(e,"drag",!1),this.drag=!1,this.dragX=0,this.dragY=0},longTouch:function(t,e){var o=this;this.Timeout=setTimeout(function(){if(0===o.dragX&&0===o.dragY){o.drag=!0,o.currItem=e,o.$set(e,"drag",!0);var n=t.parentNode.children,i=document.querySelector(".mw-page-content").scrollTop;o.topList=[];for(var a=0;a<n.length;a++)o.topList.push(n[a].offsetTop-i+135);console.log(o.topList)}},400)}},watch:{prod_info:{handler:function(t){clearTimeout(this.times);var e=this;this.times=setTimeout(function(){t.prod_qty<=0?e.prod_info.prod_qty=1:t.prod_qty>e.prod_info.bom_qty&&(e.prod_info.prod_qty=e.prod_info.bom_qty)},700)},deep:!0}}}},703:function(t,e,o){e=t.exports=o(225)(),e.push([t.i,"\n.itemBtn[data-v-eef3b5ee] {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 65px;\n  line-height: 65px;\n  width: 70px;\n  text-align: center;\n  color: #416eb6;\n}\n.select-box.active[data-v-eef3b5ee] {\n  z-index: 10;\n}\n.drag[data-v-eef3b5ee] {\n  background: #fff;\n  padding: 17px 15px;\n  border-bottom: 1px solid #ccc;\n  transition: all .3s;\n  position: relative;\n}\n.drag.active[data-v-eef3b5ee] {\n    opacity: 0.3;\n}\n.drag .ion-ios-close[data-v-eef3b5ee] {\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 40px;\n    height: 75px;\n    line-height: 75px;\n    font-size: 18px;\n    color: red;\n    text-align: center;\n}\n.drag p[data-v-eef3b5ee] {\n    margin: 0;\n}\n.isDrag[data-v-eef3b5ee] {\n  overflow: hidden;\n}\n.flip-list-move[data-v-eef3b5ee] {\n  transition: transform .5s;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/processRoute/detaile.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,WAAW;EACX,SAAS;EACT,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,mBAAmB;EACnB,eAAe;CAChB;AACD;EACE,YAAY;CACb;AACD;EACE,iBAAiB;EACjB,mBAAmB;EACnB,8BAA8B;EAC9B,oBAAoB;EACpB,mBAAmB;CACpB;AACD;IACI,aAAa;CAChB;AACD;IACI,mBAAmB;IACnB,SAAS;IACT,OAAO;IACP,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,gBAAgB;IAChB,WAAW;IACX,mBAAmB;CACtB;AACD;IACI,UAAU;CACb;AACD;EACE,iBAAiB;CAClB;AACD;EACE,0BAA0B;CAC3B",file:"detaile.vue",sourcesContent:["\n.itemBtn[data-v-eef3b5ee] {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 65px;\n  line-height: 65px;\n  width: 70px;\n  text-align: center;\n  color: #416eb6;\n}\n.select-box.active[data-v-eef3b5ee] {\n  z-index: 10;\n}\n.drag[data-v-eef3b5ee] {\n  background: #fff;\n  padding: 17px 15px;\n  border-bottom: 1px solid #ccc;\n  transition: all .3s;\n  position: relative;\n}\n.drag.active[data-v-eef3b5ee] {\n    opacity: 0.3;\n}\n.drag .ion-ios-close[data-v-eef3b5ee] {\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 40px;\n    height: 75px;\n    line-height: 75px;\n    font-size: 18px;\n    color: red;\n    text-align: center;\n}\n.drag p[data-v-eef3b5ee] {\n    margin: 0;\n}\n.isDrag[data-v-eef3b5ee] {\n  overflow: hidden;\n}\n.flip-list-move[data-v-eef3b5ee] {\n  transition: transform .5s;\n}\n"],sourceRoot:""}])},842:function(t,e,o){var n=o(703);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(226)("3dacf8cd",n,!0)},990:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[o("div",{staticClass:"mw-page-header"},[o("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:t.goBack}}),t._v(" "),o("span",[t._v("工艺路线")]),t._v(" "),o("i",{staticClass:"right",on:{click:t.selectProc}},[t._v("参考工艺")])]),t._v(" "),o("div",{staticClass:"mw-page-content "},[o("div",{staticClass:"content"},[o("cst-item",{attrs:{label:"物料名称",action:"check"},model:{value:t.prod_info.mat_name,callback:function(e){t.$set(t.prod_info,"mat_name",e)},expression:"prod_info.mat_name"}}),t._v(" "),o("cst-item",{attrs:{label:"物料编号",action:"check"},model:{value:t.prod_info.mat_no,callback:function(e){t.$set(t.prod_info,"mat_no",e)},expression:"prod_info.mat_no"}}),t._v(" "),o("cst-item",{attrs:{label:"规格型号",action:"check"},model:{value:t.prod_info.mat_model,callback:function(e){t.$set(t.prod_info,"mat_model",e)},expression:"prod_info.mat_model"}}),t._v(" "),o("cst-item",{attrs:{label:"所属模号",action:"check"},model:{value:t.prod_info.mold_no,callback:function(e){t.$set(t.prod_info,"mold_no",e)},expression:"prod_info.mold_no"}}),t._v(" "),o("cst-item",{attrs:{label:"试模日期",action:"check"},model:{value:t.prod_info.first_try_date,callback:function(e){t.$set(t.prod_info,"first_try_date",e)},expression:"prod_info.first_try_date"}}),t._v(" "),o("cst-item",{attrs:{label:"材质",action:"check"},model:{value:t.prod_info.rawnature_name,callback:function(e){t.$set(t.prod_info,"rawnature_name",e)},expression:"prod_info.rawnature_name"}}),t._v(" "),o("cst-item",{attrs:{label:"未处理量",action:"check"},model:{value:t.prod_info.undeal_qty,callback:function(e){t.$set(t.prod_info,"undeal_qty",e)},expression:"prod_info.undeal_qty"}}),t._v(" "),o("cst-item",{attrs:{label:"当前排产数量",action:"action"},model:{value:t.prod_info.prod_qty,callback:function(e){t.$set(t.prod_info,"prod_qty",e)},expression:"prod_info.prod_qty"}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.prod_info.prod_detail_list.length>0,expression:"prod_info.prod_detail_list.length>0"}],staticClass:"proc_list"},[t._m(0,!1,!1),t._v(" "),o("transition-group",{attrs:{name:"flip-list",tag:"div"}},t._l(t.prod_info.prod_detail_list,function(e,n){return o("div",{key:e.proc_seq,staticClass:"drag",class:!0===e.drag?"active":"",on:{click:function(o){t.onItemClick(e)},touchstart:function(o){t.touchstart(o,e,n)},touchmove:function(o){t.touchmove(o,e)},touchend:function(o){t.touchend(o,e,n)}}},[o("p",[t._v("工序名称："+t._s(e.proc_name))]),t._v(" "),o("p",[t._v("工序类型："+t._s(1==e.proc_type?"生产":"外协"))]),t._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:"check"!==t.action,expression:"action!=='check'"}],staticClass:"ion-ios-close",on:{click:function(o){t.procDelete(e,n)}}})])}))],1),t._v(" "),o("p",{staticStyle:{"margin-top":"10px","text-align":"center",color:"#416eb6","border-bottom":"1px solid #416eb6","border-top":"1px solid #416eb6","line-height":"40px",background:"#fff"},on:{click:function(e){t.$router.forward({path:"addProcedure",query:{action:"new"}})}}},[t._v("+添加工序")])],1)]),t._v(" "),o("div",{staticClass:"mw-page-footer"},[o("div",{staticClass:"btns"},[o("div",{staticClass:"btn",on:{click:function(e){t.prodOrderModify()}}},[t._v("\n        保存\n      ")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:0==t.prod_info.po_status,expression:"prod_info.po_status==0"}]},[t._v("|")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==t.prod_info.po_status,expression:"prod_info.po_status==0"}],staticClass:"btn",on:{click:function(e){t.prodOrderModify(1)}}},[t._v("\n        制定完毕\n      ")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:1===Number(t.prod_info.po_status),expression:"Number(prod_info.po_status)===1"}]},[t._v("|")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1===Number(t.prod_info.po_status),expression:"Number(prod_info.po_status)===1"}],staticClass:"btn",on:{click:function(e){t.submit()}}},[t._v("\n        提交排产\n      ")])])]),t._v(" "),o("div",{staticClass:"select-box",class:t.selectInfo.switch?"active":""},[o("div",{staticClass:"select-click",on:{click:function(e){t.selectInfo.switch=!1}}}),t._v(" "),o("div",{staticClass:"select-main"},[t._m(1,!1,!1),t._v(" "),o("div",{staticClass:"main-list",staticStyle:{height:"100%"}},[o("scroll",{staticStyle:{"-webkit-overflow-scrolling":"touch",top:"40px"},attrs:{"on-infinite":t.onInfinite}},[t._l(t.selectInfo.list,function(e,n){return o("p",{staticStyle:{margin:"0"},on:{click:function(o){t.itemClick(e)}}},[t._v(t._s(e.tmpl_name))])}),t._v(" "),this.curr_page>=this.total_page?o("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1)])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.drag,expression:"drag"}],staticClass:"model",staticStyle:{width:"96%",height:"40px",background:"#F5F5F5",opacity:".9",position:"fixed",left:"2%","padding-left":"5px","box-sizing":"border-box"},style:{top:this.top+"px"}},[o("p",{staticStyle:{margin:"0"}},[t._v("工序名称："+t._s(t.currItem.proc_name))]),t._v(" "),o("p",{staticStyle:{margin:"0"}},[t._v("工序类型："+t._s(1==t.currItem.proc_type?"生产":"外协"))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"item-divider",staticStyle:{"padding-left":"15px"}},[t._v("工序列表")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-header",staticStyle:{height:"40px"}},[o("p",[t._v("请选择工艺模板")])])}]}}});
//# sourceMappingURL=51.50cab477a9396dc35279.js.map