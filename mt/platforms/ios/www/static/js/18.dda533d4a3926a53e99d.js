webpackJsonp([18],{250:function(t,e,n){n(636);var a=n(0)(n(407),n(745),"data-v-4fb1dc05",null);t.exports=a.exports},328:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(t){var e=t.target.value;this.$emit("input",e)}}}},329:function(t,e,n){e=t.exports=n(220)(),e.push([t.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},330:function(t,e,n){var a=n(329);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(221)("6ea14c28",a,!0)},331:function(t,e,n){n(330);var a=n(0)(n(328),n(332),"data-v-19336c8e",null);t.exports=a.exports},332:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compute-item"},[n("span",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==t.editType,expression:"editType!=='color'"}],staticClass:"value"},[t.canEdit&&"check"!==t.action&&"approve"!==t.action?"check"!==t.action||"approve"!==t.action?n("input",{ref:"input",attrs:{type:t.editType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}}):t._e():n("span",[t._v(t._s(t.value))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"===t.editType,expression:"editType==='color'"}],staticClass:"value"},[n("span",{staticClass:"color",style:{background:t.color}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"note"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow&&t.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:t.noteClick}},[t._v(t._s(t.arrowText))]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),t._v(" "),n("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},334:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mwRadio",data:function(){return{tmpChosen:{}}},props:{obj:{type:Object,required:!0},chosenObj:{type:Object},hasArrow:{type:Boolean,default:!0},iClick:{type:Function},aClick:{type:Function}},methods:{itemClick:function(){this.$set(this.obj,"chosen",!0),this.iClick&&this.iClick(this.obj)},arrowClick:function(){this.aClick&&this.aClick(this.obj)}}}},335:function(t,e,n){e=t.exports=n(220)(),e.push([t.i,"\n.item .label[data-v-5a0c5df3] {\n  width: 90%;\n  height: 100%;\n}\n.item .label .check[data-v-5a0c5df3] {\n    width: 10%;\n    float: left;\n    height: 100%;\n    padding: 10px 0;\n}\n.item .label .check .radio-icon[data-v-5a0c5df3] {\n      left: 10px;\n      color: #bbbbbb;\n}\n.item .label .check .radio-icon.active[data-v-5a0c5df3] {\n        color: #416eb6;\n}\n.item .label .radio-content[data-v-5a0c5df3] {\n    width: 90%;\n    float: right;\n    padding-left: 15px;\n}\n.item .arrow[data-v-5a0c5df3] {\n  color: #DDD;\n  padding: 10px 0;\n  height: 100% !important;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/components/mwRadio.vue"],names:[],mappings:";AACA;EACE,WAAW;EACX,aAAa;CACd;AACD;IACI,WAAW;IACX,YAAY;IACZ,aAAa;IACb,gBAAgB;CACnB;AACD;MACM,WAAW;MACX,eAAe;CACpB;AACD;QACQ,eAAe;CACtB;AACD;IACI,WAAW;IACX,aAAa;IACb,mBAAmB;CACtB;AACD;EACE,YAAY;EACZ,gBAAgB;EAChB,wBAAwB;CACzB",file:"mwRadio.vue",sourcesContent:["\n.item .label[data-v-5a0c5df3] {\n  width: 90%;\n  height: 100%;\n}\n.item .label .check[data-v-5a0c5df3] {\n    width: 10%;\n    float: left;\n    height: 100%;\n    padding: 10px 0;\n}\n.item .label .check .radio-icon[data-v-5a0c5df3] {\n      left: 10px;\n      color: #bbbbbb;\n}\n.item .label .check .radio-icon.active[data-v-5a0c5df3] {\n        color: #416eb6;\n}\n.item .label .radio-content[data-v-5a0c5df3] {\n    width: 90%;\n    float: right;\n    padding-left: 15px;\n}\n.item .arrow[data-v-5a0c5df3] {\n  color: #DDD;\n  padding: 10px 0;\n  height: 100% !important;\n}\n"],sourceRoot:""}])},336:function(t,e,n){var a=n(335);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(221)("e60fe1aa",a,!0)},337:function(t,e,n){n(336);var a=n(0)(n(334),n(338),"data-v-5a0c5df3",null);t.exports=a.exports},338:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item item-icon-right"},[n("div",{staticClass:"label",on:{click:t.itemClick}},[n("div",{staticClass:"check"},[n("i",{class:["icon radio-icon",t.obj.chosen?"ion-android-radio-button-on active":"ion-android-radio-button-off"]})]),t._v(" "),n("input",{staticStyle:{position:"absolute",left:"-5000px",top:"-5000px"},attrs:{type:"radio"}}),t._v(" "),n("div",{staticClass:"radio-content"},[t._t("default")],2)]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow",on:{click:t.arrowClick}})])},staticRenderFns:[]}},407:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(n(1),n(337)),i=n.n(a),o=n(82),s=n(331),r=n.n(s);e.default={name:"orderHistory",components:{CstItem:r.a,mwRadio:i.a},data:function(){return{query:{project_no:"",cst_prod_name:"",salesman:[]},searchCompanyName:"",pageModel:{curr_page:0,total_page:1,page_size:10},action:"",chosenItem:{},historys:[],searchSales:"",chosenHistorys:[],cstList:[],chosenCst:[],showCstList:!1,showFilter:!1,chosenSalesman:[]}},mounted:function(){this.queryHistory()},methods:{onInfinite:function(t){var e=this;if(e.pageModel.total_page<=e.pageModel.curr_page)return void t();setTimeout(function(){e.pageModel.total_page<2?t():(e.queryHistory(),t())},600)},queryHistory:function(){var t=this,e={query:this.query,curr_page:1+this.pageModel.curr_page,page_size:this.pageModel.page_size};n.i(o.g)(e).then(function(e){t.historys=t.historys.concat(e.cst_order_list),t.pageModel.curr_page=e.curr_page,t.pageModel.total_page=e.total_page}).catch(function(t){$toast.show(t.description)})},chooseItem:function(t){this.chosenItem.project_id!==t.project_id&&(this.chosenItem.chosen&&(this.chosenItem.chosen=!1),this.chosenItem=t)},arrowClick:function(t){this.$router.forward("/customerOrder/order/detail/check/"+t.project_id)},saveData:function(){var t=this,e={project_id:this.chosenItem.project_id};n.i(o.h)(e).then(function(e){console.log(e),t.$router.forward("/customerOrder/order/detail/edit/"+e.project_head.project_id)}).catch(function(t){$toast.show(t.description)})},onMenuClick:function(){this.showFilter=!0},reset:function(){},submit:function(){},chooseSalesman:function(){}}}},535:function(t,e,n){e=t.exports=n(220)(),e.push([t.i,"\n.history[data-v-4fb1dc05] {\n  padding-left: -20px;\n}\n.history p[data-v-4fb1dc05] {\n    transform: scale(0.9, 0.9);\n    margin-left: -20px;\n}\n.mask[data-v-4fb1dc05] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 14;\n  background-color: #2e2e2d;\n  opacity: .4;\n}\n.filter[data-v-4fb1dc05] {\n  width: 0;\n}\n.filter.active[data-v-4fb1dc05] {\n  width: 80%;\n  height: 100%;\n  background-color: #F3F6FB;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 15;\n  transition: width .5s;\n  -moz-transition: width .2s;\n  /* Firefox 4 */\n  -webkit-transition: width .2s;\n  /* Safari and Chrome */\n  -o-transition: width .2s;\n  /* Opera */\n}\n.filter.active .btns[data-v-4fb1dc05] {\n    display: -ms-flexbox;\n    display: flex;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    height: 40px;\n}\n.filter.active .btns .btn[data-v-4fb1dc05] {\n      -ms-flex: 1;\n          flex: 1;\n      text-align: center;\n      line-height: 40px;\n      background-color: #416eb6;\n      color: white;\n}\n.filter.active .btns .btn.reset[data-v-4fb1dc05] {\n        background-color: #FFFFFF;\n        color: #416eb6;\n}\n","",{version:3,sources:["E:/weibosi/webs-mt/mt/www_dev/src/views/customerOrder/orders/orderHistory.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;IACI,2BAA2B;IAC3B,mBAAmB;CACtB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,0BAA0B;EAC1B,YAAY;CACb;AACD;EACE,SAAS;CACV;AACD;EACE,WAAW;EACX,aAAa;EACb,0BAA0B;EAC1B,mBAAmB;EACnB,OAAO;EACP,SAAS;EACT,YAAY;EACZ,sBAAsB;EACtB,2BAA2B;EAC3B,eAAe;EACf,8BAA8B;EAC9B,uBAAuB;EACvB,yBAAyB;EACzB,WAAW;CACZ;AACD;IACI,qBAAqB;IACrB,cAAc;IACd,mBAAmB;IACnB,UAAU;IACV,YAAY;IACZ,aAAa;CAChB;AACD;MACM,YAAY;UACR,QAAQ;MACZ,mBAAmB;MACnB,kBAAkB;MAClB,0BAA0B;MAC1B,aAAa;CAClB;AACD;QACQ,0BAA0B;QAC1B,eAAe;CACtB",file:"orderHistory.vue",sourcesContent:["\n.history[data-v-4fb1dc05] {\n  padding-left: -20px;\n}\n.history p[data-v-4fb1dc05] {\n    transform: scale(0.9, 0.9);\n    margin-left: -20px;\n}\n.mask[data-v-4fb1dc05] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 14;\n  background-color: #2e2e2d;\n  opacity: .4;\n}\n.filter[data-v-4fb1dc05] {\n  width: 0;\n}\n.filter.active[data-v-4fb1dc05] {\n  width: 80%;\n  height: 100%;\n  background-color: #F3F6FB;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 15;\n  transition: width .5s;\n  -moz-transition: width .2s;\n  /* Firefox 4 */\n  -webkit-transition: width .2s;\n  /* Safari and Chrome */\n  -o-transition: width .2s;\n  /* Opera */\n}\n.filter.active .btns[data-v-4fb1dc05] {\n    display: -ms-flexbox;\n    display: flex;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    height: 40px;\n}\n.filter.active .btns .btn[data-v-4fb1dc05] {\n      -ms-flex: 1;\n          flex: 1;\n      text-align: center;\n      line-height: 40px;\n      background-color: #416eb6;\n      color: white;\n}\n.filter.active .btns .btn.reset[data-v-4fb1dc05] {\n        background-color: #FFFFFF;\n        color: #416eb6;\n}\n"],sourceRoot:""}])},636:function(t,e,n){var a=n(535);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(221)("07c2d088",a,!0)},745:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page"},[n("div",{staticClass:"mw-page-header"},[n("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),n("span",[t._v("历史定单列表")]),t._v(" "),n("i",{staticClass:"right"})]),t._v(" "),n("div",{staticClass:"mw-page-content has-tab"},[n("div",{staticStyle:{position:"relative",height:"100%"}},[n("scroll",{staticStyle:{top:"0"},attrs:{"on-infinite":t.onInfinite}},[t._l(t.historys,function(e){return n("div",{staticClass:"history"},[n("mw-radio",{attrs:{active:e.chosen,obj:e,iClick:t.chooseItem,aClick:t.arrowClick,chosenObj:t.chosenItem}},[n("p",[t._v("定单编号:"+t._s(e.project_no))]),t._v(" "),n("p",[t._v("客户:"+t._s(e.cst_name))])])],1)}),t._v(" "),t.pageModel.curr_page>=t.pageModel.total_page?n("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[t._v("没有更多数据")]):t._e()],2)],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],staticClass:"mask",on:{click:function(e){t.showFilter=!1}}}),t._v(" "),n("div",{class:t.showFilter?"filter active":"filter"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],staticClass:"item item-divider"},[t._v("\n      筛选\n    ")]),t._v(" "),n("list",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],staticClass:"list-ios",staticStyle:{position:"relative"}},[n("von-input",{attrs:{type:"text",placeholder:"输入客户定单编号"},model:{value:t.query.project_no,callback:function(e){t.$set(t.query,"project_no",e)},expression:"query.project_no"}}),t._v(" "),n("von-input",{attrs:{type:"text",placeholder:"产品名称"},model:{value:t.query.cst_prod_name,callback:function(e){t.$set(t.query,"cst_prod_name",e)},expression:"query.cst_prod_name"}}),t._v(" "),n("von-input",{attrs:{type:"text",placeholder:"输入客户名称"},model:{value:t.searchCompanyName,callback:function(e){t.searchCompanyName=e},expression:"searchCompanyName"}}),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.cstList.length>0&&t.showCstList,expression:"cstList.length>0&&showCstList"}],staticClass:"searchCsts"},[t._l(t.cstList,function(e){return n("li",{key:e.cst_company_id,on:{click:function(n){t.chooseCst(e)}}},[t._v(t._s(e.cst_company_name)+"\n        ")])}),t._v(" "),n("li",{staticStyle:{"text-align":"center"},on:{click:function(e){t.showCstList=!1}}},[t._v("收起\n        ")])],2),t._v(" "),n("cst-item",{attrs:{label:"业务员",hasArrow:!0,arrowClick:t.chooseSalesman},model:{value:t.searchSales,callback:function(e){t.searchSales=e},expression:"searchSales"}}),t._v(" "),n("ul",{staticClass:"types",staticStyle:{"padding-top":"5px"}},t._l(t.chosenSalesman,function(e){return n("li",{staticClass:"type active"},[t._v(t._s(e.username))])}))],1),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.chosenCst.length>0,expression:"chosenCst.length>0"}],staticStyle:{margin:"8px 15px","font-size":"12px"}},[t._v("已选公司")]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.chosenCst.length>0,expression:"chosenCst.length>0"}],staticClass:"companys"},t._l(t.chosenCst,function(e){return n("li",{key:e.cst_company_id},[t._v(t._s(e.cst_company_name))])})),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],staticClass:"btns"},[n("div",{staticClass:"btn reset",on:{click:t.reset}},[t._v("重置")]),t._v(" "),n("div",{staticClass:"btn",on:{click:t.submit}},[t._v("确定")])])],1),t._v(" "),n("div",{staticClass:"mw-page-footer"},[n("div",{staticClass:"btns"},[n("div",{staticClass:"btn",on:{click:t.saveData}},[t._v("\n        确定参考\n      ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=18.dda533d4a3926a53e99d.js.map