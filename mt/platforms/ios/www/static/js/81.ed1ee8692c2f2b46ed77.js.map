{"version":3,"sources":["webpack:///static/js/81.ed1ee8692c2f2b46ed77.js","webpack:///./src/views/mats/bom/nodes.vue","webpack:///./src/api/mats/index.js?b5c8*","webpack:///./src/api/approve.js?a958***","webpack:///nodes.vue","webpack:///./src/views/mats/bom/nodes.vue?602d","webpack:///./src/views/mats/bom/nodes.vue?ab53","webpack:///./src/views/mats/bom/nodes.vue?4dc8"],"names":["webpackJsonp","281","module","exports","__webpack_require__","Component","395","__webpack_exports__","bomList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","bomNodeList","updateNodes","cascadeType","mateName","matNameSpec","cascadeMat","rawnatureList","rawnaturePrice","bomNodeInfo","bomNodeDelete","396","submitApprove","approveSuggests","479","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default","__WEBPACK_IMPORTED_MODULE_2__api_approve__","__WEBPACK_IMPORTED_MODULE_3__api_mats__","__WEBPACK_IMPORTED_MODULE_4__components_mwPrompt__","__WEBPACK_IMPORTED_MODULE_4__components_mwPrompt___default","__WEBPACK_IMPORTED_MODULE_5_vuex__","name","components","MwPrompt","a","SwipeItem","action","swipeX","tabs","tabIndex","node_id","bom_id","app_flag","showApprove","approve","suggestion","list","bom_node_list","computed","methods","onInfinite","done","submit","_this","this","reqData","bill_id","bill_type","approve_flag","approve_step","then","res","$toast","show","$router","go","catch","error","description","onRefresh","getData","_this2","that","requestData","query","mat_type","item","index","_this3","event","currentTarget","parentNode","classList","remove","$dialog","confirm","theme","title","cancelText","okText","splice","onMenuClick","touchstart","targetTouches","clientX","touchend","X","changedTouches","elArr","children","length","contains","add","offSwipe","onTabClick","onItemClick","forward","goNodesList","path","type","electrode","is_purchase","delItem","console","log","approveProcess","flag","approve_sugg","approve_man_id","userinfo","uid","approve_man_name","username","history","activated","mounted","$route","params","571","push","version","sources","names","mappings","file","sourceRoot","710","content","locals","853","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","_v","staticStyle","height","attrs","tab-items","tab-index","on-tab-click","flex","_l","text-overflow","display","white-space","_s","mat_no","mat_name","spec","rawnature_name","total_qty","okFunction","placeholder","cancelFunction","promptType","hidePop","model","callback","$$v","$set","_e","staticRenderFns"],"mappings":"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","file":"static/js/81.ed1ee8692c2f2b46ed77.js","sourcesContent":["webpackJsonp([81],{\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(710)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(479),\n  /* template */\n  __webpack_require__(853),\n  /* scopeId */\n  \"data-v-03211aa2\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 395:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = bomList;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = bomNodeList;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = updateNodes;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = cascadeType;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = mateName;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = matNameSpec;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = cascadeMat;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = rawnatureList;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = rawnaturePrice;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = bomNodeInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = bomNodeDelete;\n/* unused harmony export commitBom */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\n\nfunction bomList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: 'api/bom_node/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction updateNodes(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/update',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeType(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction mateName(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction matNameSpec(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name_spec/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeMat(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_mat/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnatureList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnaturePrice(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/price',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeInfo(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/info',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeDelete(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction commitBom(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/app',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 396:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = submitApprove;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = approveSuggests;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\n\nfunction submitApprove(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/workflow/process',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction approveSuggests(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/workflow/show_opinion',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 479:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_approve__ = __webpack_require__(396);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_mats__ = __webpack_require__(395);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_mwPrompt__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_mwPrompt___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_mwPrompt__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(5);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'bomNodes',\n  components: {\n    MwPrompt: __WEBPACK_IMPORTED_MODULE_4__components_mwPrompt___default.a,\n    SwipeItem: __WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default.a },\n  data: function data() {\n    return {\n      action: '',\n      swipeX: 0,\n      tabs: ['半成品', '标准件', '电极'],\n      tabIndex: 0,\n      node_id: '',\n      bom_id: '',\n      app_flag: '',\n      showApprove: false,\n      approve: {\n        suggestion: ''\n      },\n      list: [{\n        bom_node_list: [] }, {\n        bom_node_list: [] }, {\n        bom_node_list: [] }]\n\n    };\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"a\" /* mapGetters */])(['userinfo'])),\n  methods: {\n    onInfinite: function onInfinite(done) {\n      done();\n    },\n    submit: function submit() {\n      var _this = this;\n\n      var reqData = {\n        bill_id: this.bom_id,\n        bill_type: '20',\n        approve_flag: '1',\n        approve_step: 'step10'\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_approve__[\"a\" /* submitApprove */])(reqData).then(function (res) {\n        $toast.show('提交成功');\n        _this.$router.go(-1);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    onRefresh: function onRefresh() {},\n    getData: function getData() {\n      var _this2 = this;\n\n      var that = this;\n      var requestData = {\n        query: {\n          bom_id: that.bom_id,\n          node_id: that.node_id,\n          mat_type: that.tabs[that.tabIndex]\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__api_mats__[\"i\" /* bomNodeList */])(requestData).then(function (res) {\n        _this2.list[that.tabIndex].bom_node_list = res.bom_node_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    bomNodeDelete: function bomNodeDelete(item, index) {\n      var _this3 = this;\n\n      event.currentTarget.parentNode.classList.remove('active');\n      $dialog.confirm({\n        theme: 'ios',\n\n        title: '确定要删除吗？',\n\n        cancelText: '取消',\n\n        okText: '确定'\n      }).then(function (res) {\n        if (res) {\n\n          var requestData = { node_id: item.node_id };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__api_mats__[\"j\" /* bomNodeDelete */])(requestData).then(function (res) {\n            _this3.list[_this3.tabIndex].bom_node_list.splice(index, 1);\n            $toast.show('删除成功');\n          }).catch(function (error) {\n            $toast.show(error.description);\n          });\n        }\n      });\n    },\n    onMenuClick: function onMenuClick() {},\n    touchstart: function touchstart() {\n      this.swipeX = event.targetTouches[0].clientX;\n    },\n    touchend: function touchend() {\n      var X = event.changedTouches[0].clientX + 30;\n      if (this.app_flag === 'step30' || this.tabIndex === 2) {\n        return;\n      }\n      if (X < this.swipeX) {\n        var elArr = event.currentTarget.parentNode.children;\n        for (var i = 0; i < elArr.length; i++) {\n          if (elArr[i].classList.contains(\"active\")) {\n            elArr[i].classList.remove(\"active\");\n          }\n        }\n        event.currentTarget.classList.add('active');\n      }\n    },\n    offSwipe: function offSwipe() {\n      event.currentTarget.parentNode.classList.remove('active');\n    },\n    onTabClick: function onTabClick(index) {\n      if (index === this.tabIndex) {\n        return;\n      }\n      this.tabIndex = index;\n      this.getData();\n    },\n    onItemClick: function onItemClick(item) {\n      this.$router.forward('/mats/bom/nodeDetail/check/' + item.node_id + '/' + this.tabIndex + '/' + this.app_flag);\n    },\n    goNodesList: function goNodesList(item) {\n      this.$router.forward({\n        path: '/mats/bom/nodes/childNode',\n        query: {\n          type: item.mat_type,\n          bom_id: this.bom_id,\n          node_id: item.node_id,\n          app_flag: this.app_flag\n        }\n      });\n    },\n    electrode: function electrode(item) {\n      if (item.is_purchase === '0') {\n        if (this.app_flag !== 'step30') {\n          this.$router.forward('/mats/bom/nodeDetail/new/' + item.node_id + '/2/' + this.app_flag);\n        } else {\n          $toast.show('该半成品下没有电极');\n        }\n      } else {\n        this.$router.forward({\n          path: '/mats/bom/nodes/childNode',\n          query: {\n            bom_id: this.bom_id,\n            node_id: item.node_id,\n            app_flag: this.app_flag,\n            type: '电极'\n          }\n        });\n      }\n    },\n    delItem: function delItem(item) {\n      console.log(item);\n    },\n    approveProcess: function approveProcess(flag) {\n      console.log('approveProcess');\n      flag = flag === 'ok' ? 1 : 2;\n      var reqData = {\n        approve_sugg: this.approve.suggestion,\n        bill_id: this.bom_id,\n        bill_type: 20,\n        approve_step: this.app_flag,\n        approve_man_id: this.userinfo.uid,\n        approve_man_name: this.userinfo.username,\n        approve_flag: flag\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_approve__[\"a\" /* submitApprove */])(reqData).then(function (res) {\n        history.go(-1);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    }\n  },\n  activated: function activated() {\n    this.getData();\n  },\n  mounted: function mounted() {\n    this.node_id = this.$route.params.node_id;\n    this.bom_id = this.$route.params.bom_id;\n    this.action = this.$route.params.action;\n    this.app_flag = this.$route.params.app_flag;\n  }\n});\n\n/***/ }),\n\n/***/ 571:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"nodes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 710:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(571);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"9d7e99da\", content, true);\n\n/***/ }),\n\n/***/ 853:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), (_vm.$route.params.app_flag === 'step30') ? _c('span', [_vm._v(\"BOM详情\")]) : _c('span', [_vm._v(\"BOM编辑\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('div', {\n    staticClass: \"mw-page-content has-tab\"\n  }, [_c('div', {\n    staticStyle: {\n      \"height\": \"60px\"\n    }\n  }, [_c('tabs', {\n    attrs: {\n      \"tab-items\": _vm.tabs,\n      \"tab-index\": _vm.tabIndex,\n      \"on-tab-click\": _vm.onTabClick\n    }\n  })], 1)]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex === 0),\n      expression: \"tabIndex===0\"\n    }],\n    staticClass: \"content\"\n  }, _vm._l((_vm.list[_vm.tabIndex].bom_node_list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\"\n    }, [_c('div', {\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('h3', {\n      staticStyle: {\n        \"text-overflow\": \"ellipsis\",\n        \"display\": \"block\",\n        \"white-space\": \"nowrap\"\n      }\n    }, [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])]), _vm._v(\" \"), _c('span', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (item.is_purchase === '1'),\n        expression: \"item.is_purchase==='1'\"\n      }],\n      staticClass: \"icon ion-ios-arrow-right\",\n      on: {\n        \"click\": function($event) {\n          _vm.goNodesList(item)\n        }\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_c('p', [_vm._v(\"删除\")])])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex === 1),\n      expression: \"tabIndex===1\"\n    }],\n    staticClass: \"content\"\n  }, _vm._l((_vm.list[_vm.tabIndex].bom_node_list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('div', [_c('h3', {\n      staticStyle: {\n        \"text-overflow\": \"ellipsis\",\n        \"display\": \"block\",\n        \"white-space\": \"nowrap\"\n      }\n    }, [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_type))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": _vm.offSwipe\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_c('p', [_vm._v(\"删除\")])])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex === 2),\n      expression: \"tabIndex===2\"\n    }],\n    staticClass: \"content\"\n  }, _vm._l((_vm.list[_vm.tabIndex].bom_node_list), function(item, index) {\n    return _c('div', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (!((_vm.app_flag === 'step30' || _vm.app_flag === 'step0') && item.is_purchase + '' === '0')),\n        expression: \"!((app_flag==='step30'||app_flag==='step0')&&item.is_purchase+''==='0')\"\n      }],\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.electrode(item)\n        }\n      }\n    }, [_c('div', [_c('h3', {\n      staticStyle: {\n        \"text-overflow\": \"ellipsis\",\n        \"display\": \"block\",\n        \"white-space\": \"nowrap\"\n      }\n    }, [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_type))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])]), _vm._v(\" \"), (item.is_purchase === '1') ? _c('span', {}) : _c('span', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (_vm.action === 'check' && _vm.app_flag !== 'step30' && _vm.app_flag !== 'step0'),\n        expression: \"action==='check'&&app_flag!=='step30'&&app_flag!=='step0'\"\n      }],\n      staticClass: \"right\"\n    }, [_vm._v(\"添加电极\")])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": _vm.offSwipe\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  }))])]), _vm._v(\" \"), _c('mw-prompt', {\n    attrs: {\n      \"show\": _vm.showApprove,\n      \"okFunction\": _vm.approveProcess,\n      \"title\": \"核算单审批\",\n      \"placeholder\": \"请输入审批意见\",\n      \"okText\": \"同意\",\n      \"cancelText\": \"不同意\",\n      \"cancelFunction\": _vm.approveProcess,\n      \"promptType\": \"textarea\"\n    },\n    on: {\n      \"hidePop\": function($event) {\n        _vm.showApprove = false\n      }\n    },\n    model: {\n      value: (_vm.approve.suggestion),\n      callback: function($$v) {\n        _vm.$set(_vm.approve, \"suggestion\", $$v)\n      },\n      expression: \"approve.suggestion\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [(_vm.app_flag !== 'step30' && _vm.app_flag !== 'step0') ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex !== 2),\n      expression: \"tabIndex!==2\"\n    }],\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.forward('/mats/bom/nodeDetail/new/' + _vm.node_id + '/' + _vm.tabIndex + '/' + _vm.app_flag)\n      }\n    }\n  }, [_vm._v(\"\\n                添加\\n            \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"\\n                提交审批\\n            \")])]) : (_vm.$route.params.action === 'approve') ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.showApprove = true\n      }\n    }\n  }, [_vm._v(\"\\n          审批\\n        \")])]) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/81.ed1ee8692c2f2b46ed77.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-03211aa2&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./nodes.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./nodes.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-03211aa2!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./nodes.vue\"),\n  /* scopeId */\n  \"data-v-03211aa2\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mats/bom/nodes.vue\n// module id = 281\n// module chunks = 81","/**\n * Created by zxf on 2017/11/27.\n */\n\n//物料相关接口\nimport fetch from '@/utils/fetch'\n//bom列表\nexport function bomList(data) {\n  return fetch({\n    url: '/api/bom/list',\n    method: 'post',\n    data\n  })\n}\n// 某bom下的一级节点列表\n///api/bom_node/list\nexport function bomNodeList(data) {\n  return fetch({\n    url: 'api/bom_node/list',\n    method: 'post',\n    data\n  })\n}\n//新建或修改Bom节点\n// /api/bom_node/update\nexport function updateNodes(data) {\n  return fetch({\n    url: '/api/bom_node/update',\n    method: 'post',\n    data\n  })\n}\n//物料类别列表\n//  /api/cascade_type/list\nexport function cascadeType(data) {\n  return fetch({\n    url: '/api/cascade_type/list',\n    method: 'post',\n    data\n  })\n}\n//物料名称列表\n// /api/mat_name/list\nexport function mateName(data) {\n  return fetch({\n    url: '/api/mat_name/list',\n    method: 'post',\n    data\n  })\n}\n//物料名称级联规格查询\n//  /api/mat_name_spec/list\nexport function matNameSpec(data) {\n  return fetch({\n    url: '/api/mat_name_spec/list',\n    method: 'post',\n    data\n  })\n}\n//物料类型级联名称查询\n// /api/cascade_mat/list\nexport function cascadeMat(data) {\n  return fetch({\n    url: '/api/cascade_mat/list',\n    method: 'post',\n    data\n  })\n}\n//材质列表\n//  /api/rawnature/list\nexport function rawnatureList(data) {\n  return fetch({\n    url: '/api/rawnature/list',\n    method: 'post',\n    data\n  })\n}\n//计划单价计算\n// /api/rawnature/price\nexport function rawnaturePrice(data) {\n  return fetch({\n    url: '/api/rawnature/price',\n    method: 'post',\n    data\n  })\n}\n//查询BOM节点详细信息\n//  /api/bom_node/info\nexport function bomNodeInfo(data) {\n  return fetch({\n    url: '/api/bom_node/info',\n    method: 'post',\n    data\n  })\n}\n//删除Bom节点\n//  /api/bom_node/delete\nexport function bomNodeDelete(data) {\n  return fetch({\n    url: '/api/bom_node/delete',\n    method: 'post',\n    data\n  })\n}\n//提交审批\n//  /api/bom/app\nexport function commitBom(data) {\n  return fetch({\n    url: '/api/bom/app',\n    method: 'post',\n    data\n  })\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mats/index.js","/**\n * Created by zxf on 2017/12/7.\n */\nimport fetch from '@/utils/fetch';\n\nexport function submitApprove(data) {\n  return fetch({\n    url: '/api/workflow/process',\n    method: 'post',\n    data\n  });\n}\n//approveSuggests 审批意见\nexport function approveSuggests(data) {\n  return fetch({\n    url: '/api/workflow/show_opinion',\n    method: 'post',\n    data\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/approve.js","<template>\n    <div class=\"mw-page page mats\" v-nav=\"{hideNavbar:true}\">\n        <div class=\"mw-page-header\">\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n            <span v-if=\"$route.params.app_flag==='step30'\">BOM详情</span>\n            <span v-else>BOM编辑</span>\n            <i class=\"right\"></i>\n        </div>\n        <div class=\"mw-page-content\">\n          <div class=\"mw-page-content has-tab\">\n            <div style=\"height: 60px\">\n              <tabs :tab-items=\"tabs\" :tab-index=\"tabIndex\" :on-tab-click=\"onTabClick\"></tabs>\n            </div>\n          </div>\n          <div style=\"flex: 1\">\n            <div class=\"content\" v-show=\"tabIndex===0\">\n                  <div v-for=\"(item,index) in list[tabIndex].bom_node_list\" class=\"bom-swipe-item\"  @touchstart=\"touchstart($event)\"  @touchend=\"touchend($event)\" >\n                    <div class=\"swipe-content\">\n                      <div  @click=\"onItemClick(item)\">\n                        <h3 style=\"text-overflow: ellipsis;display: block;white-space: nowrap;\">物料编号：<span >{{item.mat_no}}</span></h3>\n                        <h3>物料名称：<span>{{item.mat_name}}</span></h3>\n                        <p>\n                          <span>规格尺寸({{item.spec}})</span>\n                          <span>材质({{item.rawnature_name}})</span>\n                        </p>\n                        <p>\n                          <span>数量({{item.total_qty}})</span>\n                        </p>\n                      </div>\n                      <span v-show=\"item.is_purchase==='1'\" @click=\"goNodesList(item)\" class=\"icon ion-ios-arrow-right\" ></span>\n                    </div>\n                    <div class=\"swipe-click\" @click=\"offSwipe('点击事件')\"></div>\n                    <div class=\"swipe-side\" @click=\"bomNodeDelete(item,index)\">\n                      <p>删除</p>\n                    </div>\n                  </div>\n            </div>\n            <div class=\"content\" v-show=\"tabIndex===1\">\n                <div v-for=\"(item,index) in list[tabIndex].bom_node_list\" class=\"bom-swipe-item\"  @touchstart=\"touchstart($event)\"  @touchend=\"touchend($event)\" >\n                  <div class=\"swipe-content\" @click=\"onItemClick(item)\">\n                    <div>\n                      <h3 style=\"text-overflow: ellipsis;display: block;white-space: nowrap;\">物料编号：<span>{{item.mat_no}}</span></h3>\n                      <h3>物料名称：<span>{{item.mat_type}}</span></h3>\n                      <p>\n                        <span>规格尺寸({{item.spec}})</span>\n                        <span>材质({{item.rawnature_name}})</span>\n                        <span>数量({{item.total_qty}})</span>\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"swipe-click\" @click=\"offSwipe\"></div>\n                  <div class=\"swipe-side\" @click=\"bomNodeDelete(item,index)\">\n                    <p>删除</p>\n                  </div>\n                </div>\n            </div>\n            <div class='content' v-show='tabIndex===2'>\n                <div v-for=\"(item,index) in list[tabIndex].bom_node_list\" v-show=\"!((app_flag==='step30'||app_flag==='step0')&&item.is_purchase+''==='0')\"  class='bom-swipe-item'  @touchstart='touchstart($event)'  @touchend=\"touchend($event)\"  >\n                  <div class='swipe-content' @click=\"electrode(item)\" >\n                    <div>\n                      <h3 style=\"text-overflow: ellipsis;display: block;white-space: nowrap;\">物料编号：<span>{{item.mat_no}}</span></h3>\n                      <h3>物料名称：<span>{{item.mat_type}}</span></h3>\n                      <p>\n                        <span>规格尺寸({{item.spec}})</span>\n                        <span>材质({{item.rawnature_name}})</span>\n\n                      </p>\n                      <p>\n                        <span>数量({{item.total_qty}})</span>\n                      </p>\n                    </div>\n                    <span v-if=\"item.is_purchase==='1'\" class=\"\" ></span>\n                    <span v-else v-show=\"action==='check'&&app_flag!=='step30'&&app_flag!=='step0'\" class=\"right\">添加电极</span>\n                  </div>\n                  <div class='swipe-click' @click='offSwipe'></div>\n                  <div class='swipe-side' @click=\"bomNodeDelete(item,index)\">删除</div>\n                </div>\n            </div>\n          </div>\n        </div>\n      <mw-prompt :show=\"showApprove\"\n                 :okFunction=\"approveProcess\"\n                 v-on:hidePop=\"showApprove = false\"\n                 title=\"核算单审批\"\n                 placeholder=\"请输入审批意见\"\n                 v-model=\"approve.suggestion\"\n                 okText=\"同意\"\n                 cancelText=\"不同意\"\n                 :cancelFunction=\"approveProcess\"\n                 promptType=\"textarea\"\n      ></mw-prompt>\n        <div class='mw-page-footer'>\n            <div  v-if=\"app_flag!=='step30'&&app_flag!=='step0'\" class='btns'>\n                <div  v-show=\"tabIndex!==2\" class='btn' @click=\"$router.forward('/mats/bom/nodeDetail/new/'+node_id+'/'+tabIndex+'/'+app_flag)\">\n                    添加\n                </div>\n                <div class=\"btn\" @click=\"submit\">\n                    提交审批\n                </div>\n            </div>\n          <div v-else-if=\"$route.params.action==='approve'\" class=\"btns\">\n            <div  class=\"btn\" @click=\"showApprove = true\">\n              审批\n            </div>\n          </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import SwipeItem from \"../../../components/swipeItem\"\n  import { submitApprove } from '@/api/approve'\n  import { bomNodeList,bomNodeDelete,commitBom } from '@/api/mats'\n  import MwPrompt from \"../../../components/mwPrompt\";\n  import { mapGetters } from 'vuex'\n    export default{\n      name:'bomNodes',\n      components: {\n        MwPrompt,\n        SwipeItem},\n      data(){\n        return {\n          action:'',\n          swipeX:0,\n          tabs:['半成品','标准件','电极'],\n          tabIndex:0,\n          node_id:'',\n          bom_id:'',\n          app_flag:'',\n          showApprove:false,\n          approve:{\n            suggestion:''\n          },\n          list:[\n            {\n              bom_node_list: [\n//                {\n//                  \"height\": 35326,\n//                  \"is_purchase\": \"测试内容60ew\",\n//                  \"length\": 86815,\n//                  \"mat_id\": 55203,\n//                  \"mat_no\": \"测试内容nj77\",\n//                  \"mat_type\": \"测试内容5v3e\",\n//                  \"node_id\": 60111,\n//                  \"rawnature_name\": \"测试内容q5mk\",\n//                  \"spec\": \"测试内容672h\",\n//                  \"total_qty\": \"测试内容iz75\",\n//                  \"width\": 46064\n//                }\n              ]},\n            {\n              bom_node_list: [\n//                {\n//                  \"height\": 35326,\n//                  \"is_purchase\": \"测试内容60ew\",\n//                  \"length\": 86815,\n//                  \"mat_id\": 55203,\n//                  \"mat_no\": \"测试内容nj77\",\n//                  \"mat_type\": \"测试内容5v3e\",\n//                  \"node_id\": 60111,\n//                  \"rawnature_name\": \"测试内容q5mk\",\n//                  \"spec\": \"测试内容672h\",\n//                  \"total_qty\": \"测试内容iz75\",\n//                  \"width\": 46064\n//                }\n              ]},\n            {\n              bom_node_list: [\n//                {\n//                  \"height\": 35326,\n//                  \"is_purchase\": \"测试内容60ew\",\n//                  \"length\": 86815,\n//                  \"mat_id\": 55203,\n//                  \"mat_no\": \"测试内容nj77\",\n//                  \"mat_type\": \"测试内容5v3e\",\n//                  \"node_id\": 60111,\n//                  \"rawnature_name\": \"测试内容q5mk\",\n//                  \"spec\": \"测试内容672h\",\n//                  \"total_qty\": \"测试内容iz75\",\n//                  \"width\": 46064\n//                }\n              ]}\n          ],\n\n        }\n      },\n      computed:{\n        ...mapGetters(['userinfo'])\n      },\n      methods: {\n        onInfinite(done){\n          done()\n        },\n        submit(){\n          const reqData = {\n            bill_id: this.bom_id,\n            bill_type: '20',\n            approve_flag: '1',\n            approve_step: 'step10'\n          }\n          submitApprove(reqData).then(res=>{\n            $toast.show('提交成功')\n            this.$router.go(-1)\n          }).catch(error=>{\n            $toast.show(error.description)\n          })\n        },\n        onRefresh(){},\n        getData(){\n          const that = this;\n          const requestData={\n            query:{\n              bom_id:that.bom_id,\n              node_id:that.node_id,\n              mat_type:that.tabs[that.tabIndex]\n            }\n          }\n          bomNodeList(requestData).then(res=>{\n            this.list[that.tabIndex].bom_node_list=res.bom_node_list\n          }).catch(error=>{\n            $toast.show(error.description)\n          })\n\n        },\n        bomNodeDelete(item,index){\n          event.currentTarget.parentNode.classList.remove('active')\n          $dialog.confirm({\n            // 设置为ios样式\n            theme: 'ios',\n            // 标题\n            title: '确定要删除吗？',\n            // 取消按钮文本\n            cancelText: '取消',\n            // 确定按钮文本\n            okText: '确定'\n          }).then(res=>{\n            if(res){\n\n              const requestData={node_id:item.node_id}\n              bomNodeDelete(requestData).then(res=>{\n                this.list[this.tabIndex].bom_node_list.splice(index,1)\n                $toast.show('删除成功')\n              }).catch(error=>{\n                $toast.show(error.description)\n              })\n            }\n          })\n        },\n        onMenuClick(){\n\n        },\n        touchstart(){\n          this.swipeX=event.targetTouches[0].clientX\n        },\n        touchend(){\n          var X=event.changedTouches[0].clientX+30\n          if(this.app_flag==='step30'||this.tabIndex===2){\n            return\n          }\n          if(X<this.swipeX){\n            var elArr=event.currentTarget.parentNode.children\n            for(var i=0;i<elArr.length;i++){\n              if(elArr[i].classList.contains(\"active\")){\n                elArr[i].classList.remove(\"active\")\n              }\n            }\n            event.currentTarget.classList.add('active')\n          }\n        },\n        offSwipe(){\n          event.currentTarget.parentNode.classList.remove('active')\n        },\n        onTabClick(index){\n          if (index===this.tabIndex) {\n              return\n          }\n          this.tabIndex = index\n          this.getData()\n        },\n        onItemClick(item){\n          this.$router.forward('/mats/bom/nodeDetail/check/'+item.node_id+'/'+this.tabIndex+'/'+this.app_flag)\n        },\n        goNodesList(item){\n          this.$router.forward({\n            path:'/mats/bom/nodes/childNode',\n            query:{\n              type:item.mat_type,\n              bom_id:this.bom_id,\n              node_id:item.node_id,\n              app_flag:this.app_flag\n            }\n          })\n        },\n        electrode(item){\n          if(item.is_purchase==='0'){\n            if(this.app_flag!=='step30'){\n              this.$router.forward('/mats/bom/nodeDetail/new/'+item.node_id+'/2/'+this.app_flag)\n            }else{\n              $toast.show('该半成品下没有电极')\n            }\n          }else{\n            this.$router.forward({\n              path:'/mats/bom/nodes/childNode',\n              query:{\n                bom_id:this.bom_id,\n                node_id:item.node_id,\n                app_flag:this.app_flag,\n                type:'电极'\n              }\n            })\n          }\n\n        },\n        delItem(item){\n          console.log(item)\n        },\n        approveProcess(flag){\n          console.log('approveProcess')\n          flag = flag === 'ok' ? 1 : 2\n          const reqData = {\n            approve_sugg:this.approve.suggestion,\n            bill_id: this.bom_id,\n            bill_type: 20,\n            approve_step: this.app_flag,\n            approve_man_id:this.userinfo.uid,\n            approve_man_name:this.userinfo.username,\n            approve_flag:flag\n          }\n          submitApprove(reqData).then(res=>{\n//          $toast.show('提交成功')\n            history.go(-1)\n          }).catch(error=>{\n            $toast.show(error.description)\n          })\n        }\n      },\n      activated:function(){\n        this.getData()\n      },\n      mounted(){\n        this.node_id = this.$route.params.node_id\n        this.bom_id = this.$route.params.bom_id\n        this.action=this.$route.params.action\n        this.app_flag=this.$route.params.app_flag\n      }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// nodes.vue?b0d0a278","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"nodes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-03211aa2&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/nodes.vue\n// module id = 571\n// module chunks = 81","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-03211aa2&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./nodes.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"9d7e99da\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-03211aa2&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/nodes.vue\n// module id = 710\n// module chunks = 81","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), (_vm.$route.params.app_flag === 'step30') ? _c('span', [_vm._v(\"BOM详情\")]) : _c('span', [_vm._v(\"BOM编辑\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('div', {\n    staticClass: \"mw-page-content has-tab\"\n  }, [_c('div', {\n    staticStyle: {\n      \"height\": \"60px\"\n    }\n  }, [_c('tabs', {\n    attrs: {\n      \"tab-items\": _vm.tabs,\n      \"tab-index\": _vm.tabIndex,\n      \"on-tab-click\": _vm.onTabClick\n    }\n  })], 1)]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex === 0),\n      expression: \"tabIndex===0\"\n    }],\n    staticClass: \"content\"\n  }, _vm._l((_vm.list[_vm.tabIndex].bom_node_list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\"\n    }, [_c('div', {\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('h3', {\n      staticStyle: {\n        \"text-overflow\": \"ellipsis\",\n        \"display\": \"block\",\n        \"white-space\": \"nowrap\"\n      }\n    }, [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])]), _vm._v(\" \"), _c('span', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (item.is_purchase === '1'),\n        expression: \"item.is_purchase==='1'\"\n      }],\n      staticClass: \"icon ion-ios-arrow-right\",\n      on: {\n        \"click\": function($event) {\n          _vm.goNodesList(item)\n        }\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_c('p', [_vm._v(\"删除\")])])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex === 1),\n      expression: \"tabIndex===1\"\n    }],\n    staticClass: \"content\"\n  }, _vm._l((_vm.list[_vm.tabIndex].bom_node_list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('div', [_c('h3', {\n      staticStyle: {\n        \"text-overflow\": \"ellipsis\",\n        \"display\": \"block\",\n        \"white-space\": \"nowrap\"\n      }\n    }, [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_type))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": _vm.offSwipe\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_c('p', [_vm._v(\"删除\")])])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex === 2),\n      expression: \"tabIndex===2\"\n    }],\n    staticClass: \"content\"\n  }, _vm._l((_vm.list[_vm.tabIndex].bom_node_list), function(item, index) {\n    return _c('div', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (!((_vm.app_flag === 'step30' || _vm.app_flag === 'step0') && item.is_purchase + '' === '0')),\n        expression: \"!((app_flag==='step30'||app_flag==='step0')&&item.is_purchase+''==='0')\"\n      }],\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.electrode(item)\n        }\n      }\n    }, [_c('div', [_c('h3', {\n      staticStyle: {\n        \"text-overflow\": \"ellipsis\",\n        \"display\": \"block\",\n        \"white-space\": \"nowrap\"\n      }\n    }, [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_type))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])]), _vm._v(\" \"), (item.is_purchase === '1') ? _c('span', {}) : _c('span', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (_vm.action === 'check' && _vm.app_flag !== 'step30' && _vm.app_flag !== 'step0'),\n        expression: \"action==='check'&&app_flag!=='step30'&&app_flag!=='step0'\"\n      }],\n      staticClass: \"right\"\n    }, [_vm._v(\"添加电极\")])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": _vm.offSwipe\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  }))])]), _vm._v(\" \"), _c('mw-prompt', {\n    attrs: {\n      \"show\": _vm.showApprove,\n      \"okFunction\": _vm.approveProcess,\n      \"title\": \"核算单审批\",\n      \"placeholder\": \"请输入审批意见\",\n      \"okText\": \"同意\",\n      \"cancelText\": \"不同意\",\n      \"cancelFunction\": _vm.approveProcess,\n      \"promptType\": \"textarea\"\n    },\n    on: {\n      \"hidePop\": function($event) {\n        _vm.showApprove = false\n      }\n    },\n    model: {\n      value: (_vm.approve.suggestion),\n      callback: function($$v) {\n        _vm.$set(_vm.approve, \"suggestion\", $$v)\n      },\n      expression: \"approve.suggestion\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [(_vm.app_flag !== 'step30' && _vm.app_flag !== 'step0') ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tabIndex !== 2),\n      expression: \"tabIndex!==2\"\n    }],\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.forward('/mats/bom/nodeDetail/new/' + _vm.node_id + '/' + _vm.tabIndex + '/' + _vm.app_flag)\n      }\n    }\n  }, [_vm._v(\"\\n                添加\\n            \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"\\n                提交审批\\n            \")])]) : (_vm.$route.params.action === 'approve') ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.showApprove = true\n      }\n    }\n  }, [_vm._v(\"\\n          审批\\n        \")])]) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-03211aa2!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mats/bom/nodes.vue\n// module id = 853\n// module chunks = 81"],"sourceRoot":""}