webpackJsonp([137],{230:function(e,t,a){a(778);var n=a(0)(a(428),a(925),"data-v-55c8b8ac",null);e.exports=n.exports},428:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(14),s=a.n(n),o=a(5),i=(a(22),a(20)),p=a.n(i),c=a(21),r=(a.n(c),a(80));a(1);t.default={name:"approveComputes",components:{swipeItem:p.a},data:function(){return{tabIndex:0,pageModels:[{curr_page:0,page_size:10},{curr_page:0,page_size:10}],query:{compute_no:"",approve_step:[],cst_company_id:[],cst_prod_name:"",type:[]},items:[{list:[]},{list:[]}]}},mounted:function(){this.query.approve_step.push("step20"),this.query.approve_step.push("step30")},activated:function(){this.setList(!0)},computed:s()({},a.i(o.a)(["chosenCompany"])),methods:{onMenuClick:function(){this.$router.forward("/customerOrder/compute/new")},onTabClick:function(e){console.log("onTabClick");var t=this;if(e!==this.tabIndex){switch(e){case 0:t.query.approve_step.length=0,t.query.approve_step.push("step20"),t.query.approve_step.push("step30");break;case 1:t.query.approve_step.length=0,t.query.approve_step.push("step0")}t.tabIndex=e,0===this.items[t.tabIndex].list.length&&this.setList()}},onInfinite:function(e){var t=this;if(t.pageModels[t.tabIndex].total_page<=t.pageModels[t.tabIndex].curr_page)return void e();setTimeout(function(){t.pageModels[t.tabIndex].total_page<2?e():(t.setList(),e())},400)},onRefresh:function(e){var t=this;setTimeout(function(){t.setList(!0),e()},400)},setList:function(e){var t=this,n={curr_page:e?1:++t.pageModels[t.tabIndex].curr_page,page_size:t.pageModels[t.tabIndex].page_size,query:this.query};a.i(r.m)(n).then(function(a){console.log(a),t.items[t.tabIndex].list=e?a.list:t.items[t.tabIndex].list.concat(a.list),t.pageModels[t.tabIndex].total_page=a.total_page,t.pageModels[t.tabIndex].curr_page=a.curr_page,t.pageModels[t.tabIndex].total_count=a.total_count}).catch(function(e){$toast.show(e.description)})},onItemClick:function(e){this.$router.forward("/customerOrder/compute/detail/approve/"+e.compute_id)}},watch:{searchCompanyName:function(){if(0===this.searchCompanyName.trim().length)return this.searchCompanyName="",void(this.cstList.length=0);this.searchCompany()}}}},639:function(e,t,a){t=e.exports=a(225)(),t.push([e.i,"\n.content[data-v-55c8b8ac] {\n  height: 100%;\n  display: none;\n}\n.item span[data-v-55c8b8ac] {\n  width: 50%;\n  float: left;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 5px;\n  overflow: hidden;\n}\n.active[data-v-55c8b8ac] {\n  display: block;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/approve/customerOrder/compute.vue"],names:[],mappings:";AACA;EACE,aAAa;EACb,cAAc;CACf;AACD;EACE,WAAW;EACX,YAAY;EACZ,wBAAwB;EACxB,oBAAoB;EACpB,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,eAAe;CAChB",file:"compute.vue",sourcesContent:["\n.content[data-v-55c8b8ac] {\n  height: 100%;\n  display: none;\n}\n.item span[data-v-55c8b8ac] {\n  width: 50%;\n  float: left;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 5px;\n  overflow: hidden;\n}\n.active[data-v-55c8b8ac] {\n  display: block;\n}\n"],sourceRoot:""}])},778:function(e,t,a){var n=a(639);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(226)("dfd34dd2",n,!0)},925:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page"},[a("div",{staticClass:"mw-page-header"},[a("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(t){e.$router.go(-1)}}}),e._v(" "),a("span",[e._v("待审批核算单列表")]),e._v(" "),a("i",{staticClass:"right"})]),e._v(" "),a("div",{staticClass:"mw-page-content has-tab"},[a("div",{class:["content",0===e.tabIndex?"active":""]},[a("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"},attrs:{"on-infinite":e.onInfinite,"on-refresh":e.onRefresh}},[e._l(e.items[0].list,function(t,n){return a("div",{key:n},[a("swipe-item",{attrs:{swipeItemText:"删除",canSwipe:!1,obj:t},nativeOn:{click:function(a){e.onItemClick(t)}}},[a("span",[e._v("类型:"+e._s(t.type_name))]),e._v(" "),a("span",[e._v("编号:"+e._s(t.compute_no))]),e._v(" "),a("span",[e._v("客户:"+e._s(t.cst_company_name))]),e._v(" "),a("span",[e._v("核算日期:"+e._s(t.created_at))])])],1)}),e._v(" "),e.pageModels[0].curr_page>=e.pageModels[0].total_page?a("div",{staticClass:"text-center",attrs:{slot:"infinite"},slot:"infinite"},[e._v("没有更多数据")]):e._e()],2)],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=137.8367daf7b53d5d822438.js.map