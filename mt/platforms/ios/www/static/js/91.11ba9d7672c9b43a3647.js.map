{"version":3,"sources":["webpack:///static/js/91.11ba9d7672c9b43a3647.js","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue","webpack:///cst_process_list.vue","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue?08da","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue?d333","webpack:///./src/views/customerOrder/quotes/compute/cst_process_list.vue?8582"],"names":["webpackJsonp","257","module","exports","__webpack_require__","Component","414","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default","__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__","__WEBPACK_IMPORTED_MODULE_3__utils_sess__","name","components","swipeItem","a","data","process_list","action","currItem","computed","totalPrice","total","this","length","i","parseFloat","process_cost","toFixed","mounted","compute_id","$route","params","activated","processItem","get","id","push","saveData","remove","getProcessList","methods","_this","reqData","then","res","console","log","catch","error","$toast","show","description","backClick","history","go","closeMask","swipe","delItem","item","_this2","$dialog","confirm","theme","title","process_name","cancelText","okText","processItemIds","filter","o","onItemClick","$router","forward","path","query","process_detail","encodeURIComponent","onSwipeLeft","$set","_this3","addOneProcess","514","version","sources","names","mappings","file","sourcesContent","sourceRoot","615","content","locals","724","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","_v","staticStyle","padding-left","_s","_l","attrs","swipeItemText","canSwipe","hasArrow","obj","SwipeItemClick","ItemClick","SwipeLeft","staticRenderFns"],"mappings":"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","file":"static/js/91.11ba9d7672c9b43a3647.js","sourcesContent":["webpackJsonp([91],{\n\n/***/ 257:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(615)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(414),\n  /* template */\n  __webpack_require__(724),\n  /* scopeId */\n  \"data-v-3694baee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 414:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'cst_process_list',\n  components: {\n    swipeItem: __WEBPACK_IMPORTED_MODULE_1__components_swipeItem___default.a\n  },\n  data: function data() {\n    return {\n      process_list: [],\n      action: '',\n      currItem: {}\n    };\n  },\n\n  computed: {\n    totalPrice: function totalPrice() {\n      var total = 0;\n      if (this.process_list.length > 0) {\n        for (var i in this.process_list) {\n          if (parseFloat(this.process_list[i].process_cost)) {\n            total += parseFloat(this.process_list[i].process_cost);\n          }\n        }\n        return total.toFixed(2);\n      } else {\n        return 0.00;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.compute_id = this.$route.params.compute_id;\n    this.action = this.$route.params.action;\n  },\n  activated: function activated() {\n    var processItem = __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].get('process_detail');\n    if (processItem) {\n      if (!processItem.id) {\n        this.process_list.push(processItem);\n      } else {\n        for (var i in this.process_list) {\n          if (this.process_list[i].id === processItem.id) {\n            this.process_list[i] = processItem;\n          }\n        }\n      }\n      this.saveData();\n      __WEBPACK_IMPORTED_MODULE_3__utils_sess__[\"a\" /* default */].remove('process_detail');\n    } else {\n      this.getProcessList();\n    }\n  },\n\n  methods: {\n    getProcessList: function getProcessList() {\n      var _this = this;\n\n      var reqData = {\n        compute_id: this.compute_id\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__[\"b\" /* processList */])(reqData).then(function (res) {\n        console.log(res);\n        _this.process_list = res.process_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    backClick: function backClick() {\n      history.go(-1);\n    },\n    closeMask: function closeMask() {\n      this.currItem.swipe = false;\n      this.currItem = {};\n    },\n    delItem: function delItem(item) {\n      var _this2 = this;\n\n      $dialog.confirm({\n        theme: 'ios',\n\n        title: '确定要删除' + item.process_name + '吗?',\n\n        cancelText: '取消',\n\n        okText: '确定'\n      }).then(function (res) {\n        console.log('confirm result: ', res);\n        if (res) {\n          var reqData = {\n            compute_id: _this2.compute_id,\n            processItemIds: [item.id]\n          };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__[\"c\" /* processItemDel */])(reqData).then(function (res) {\n            $toast.show('删除成功');\n            _this2.process_list = _this2.process_list.filter(function (o) {\n              return o.process_name != item.process_name;\n            });\n          }).catch(function (error) {});\n        }\n      });\n    },\n    onItemClick: function onItemClick(item) {\n      if (this.currItem.swipe) {\n        this.currItem.swipe = false;\n        return;\n      }\n\n      $router.forward({\n        path: '/customerOrder/compute/cst_process_detail',\n        query: {\n          action: this.action,\n          process_detail: encodeURIComponent(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(item))\n        }\n      });\n    },\n    onSwipeLeft: function onSwipeLeft(item) {\n      this.$set(item, 'swipe', true);\n      this.currItem = item;\n    },\n    saveData: function saveData() {\n      var _this3 = this;\n\n      var reqData = {\n        compute_id: this.compute_id,\n        process_list: this.process_list\n      };\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_customerOrder_compute__[\"d\" /* addProcess */])(reqData).then(function (res) {\n        _this3.action = 'check';\n        console.log(res);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    addOneProcess: function addOneProcess() {\n      $router.forward({\n        path: '/customerOrder/compute/cst_process_detail',\n        query: {\n          action: 'new',\n          process_detail: this.compute_id\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 514:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(220)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/weibosi/webs-mt/mt/www_dev/src/views/customerOrder/quotes/compute/cst_process_list.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,WAAW;EACX,aAAa;EACb,kBAAkB;EAClB,oBAAoB;CACrB\",\"file\":\"cst_process_list.vue\",\"sourcesContent\":[\"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 615:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(514);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(221)(\"f061bece\", content, true);\n\n/***/ }),\n\n/***/ 724:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"加工费明细\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('list', [_c('item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.process_list.length > 0),\n      expression: \"process_list.length>0\"\n    }]\n  }, [_c('p', {\n    staticClass: \"label\"\n  }, [_vm._v(\"总计\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"value\",\n    staticStyle: {\n      \"padding-left\": \"16px\"\n    }\n  }, [_vm._v(_vm._s(_vm.totalPrice) + \" 元\")])]), _vm._v(\" \"), _vm._l((_vm.process_list), function(item) {\n    return _c('swipe-item', {\n      attrs: {\n        \"swipeItemText\": \"删除\",\n        \"canSwipe\": true,\n        \"hasArrow\": true,\n        \"obj\": item\n      },\n      on: {\n        \"SwipeItemClick\": _vm.delItem,\n        \"ItemClick\": _vm.onItemClick,\n        \"SwipeLeft\": _vm.onSwipeLeft\n      }\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(_vm._s(item.process_name))]), _c('span', {\n      staticClass: \"value\"\n    }, [_vm._v(_vm._s(item.process_cost) + \" 元\")])])\n  }), _vm._v(\" \"), _c('button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.action === 'edit' || _vm.action === 'new'),\n      expression: \"action ==='edit' || action ==='new'\"\n    }],\n    staticClass: \"button button-calm button-block button-outline\",\n    on: {\n      \"click\": _vm.addOneProcess\n    }\n  }, [_vm._v(\"添加加工项目\")])], 2)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/91.11ba9d7672c9b43a3647.js","\n/* styles */\nrequire(\"!!../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3694baee&scoped=true!sass-loader?sourceMap!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cst_process_list.vue\")\n\nvar Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cst_process_list.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3694baee!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cst_process_list.vue\"),\n  /* scopeId */\n  \"data-v-3694baee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 257\n// module chunks = 91","<template>\r\n  <div class=\"mw-page page\" v-nav=\"{hideNavbar:true}\">\r\n    <div class=\"mw-page-header\">\r\n      <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\r\n      <span>加工费明细</span>\r\n      <i class=\"right\"></i>\r\n    </div>\r\n    <div class=\"mw-page-content\">\r\n      <list>\r\n        <item v-show=\"process_list.length>0\">\r\n          <p class=\"label\">总计</p>\r\n          <p class=\"value\" style=\"padding-left: 16px\">{{totalPrice}} 元</p>\r\n        </item>\r\n        <swipe-item\r\n          swipeItemText=\"删除\"\r\n          :canSwipe=\"true\"\r\n          v-on:SwipeItemClick=\"delItem\"\r\n          v-on:ItemClick=\"onItemClick\"\r\n          v-on:SwipeLeft=\"onSwipeLeft\"\r\n          v-for=\"item in process_list\"\r\n          :hasArrow=\"true\"\r\n          :obj=\"item\">\r\n          <span class=\"label\">{{item.process_name}}</span><span class=\"value\">{{item.process_cost}} 元</span>\r\n        </swipe-item>\r\n        <button @click=\"addOneProcess\" v-show=\"action ==='edit' || action ==='new'\" class=\"button button-calm button-block button-outline\">添加加工项目</button>\r\n      </list>\r\n    </div>\r\n    </div>\r\n</template>\r\n<script>\r\n  import swipeItem from '@/components/swipeItem'\r\n  import { addProcess,processList,processItemDel } from '@/api/customerOrder/compute'\r\n  import sess from '@/utils/sess'\r\n  export default{\r\n    name:'cst_process_list',\r\n    components:{\r\n      swipeItem\r\n    },\r\n    data(){\r\n      return {\r\n        process_list:[\r\n\r\n        ],\r\n        action:'',\r\n        currItem:{\r\n\r\n        }\r\n      }\r\n    },\r\n    computed:{\r\n      totalPrice(){\r\n        let total = 0;\r\n        if(this.process_list.length > 0){\r\n          for(let i in this.process_list){\r\n            if(parseFloat(this.process_list[i].process_cost)){\r\n              total += parseFloat(this.process_list[i].process_cost)\r\n            }\r\n          }\r\n          return total.toFixed(2)\r\n        }else{\r\n          return 0.00\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      this.compute_id = this.$route.params.compute_id\r\n      this.action = this.$route.params.action\r\n    },\r\n    activated(){\r\n      const processItem = sess.get('process_detail')\r\n      if(processItem){\r\n        if(!processItem.id){\r\n          this.process_list.push(processItem)\r\n        }else{\r\n          for(let i in this.process_list){\r\n            if(this.process_list[i].id === processItem.id){\r\n              this.process_list[i] = processItem\r\n            }\r\n          }\r\n        }\r\n        this.saveData()\r\n        sess.remove('process_detail')\r\n      }else{\r\n        this.getProcessList()\r\n      }\r\n    },\r\n    methods:{\r\n      getProcessList(){\r\n        const reqData = {\r\n          compute_id:this.compute_id\r\n        }\r\n        processList(reqData).then(res=>{\r\n          console.log(res)\r\n          this.process_list = res.process_list\r\n        }).catch(error=>{\r\n          $toast.show(error.description)\r\n        })\r\n      },\r\n      backClick(){\r\n        history.go(-1)\r\n      },\r\n      closeMask(){\r\n        this.currItem.swipe = false;\r\n        this.currItem = {}\r\n      },\r\n      delItem(item){\r\n        $dialog.confirm({\r\n          theme:'ios',\r\n          // 标题\r\n          title: '确定要删除'+item.process_name+'吗?',\r\n          // 取消按钮文本\r\n          cancelText: '取消',\r\n          // 确定按钮文本\r\n          okText: '确定'\r\n        }).then((res) => {\r\n          console.log('confirm result: ', res)\r\n          if(res){\r\n            const reqData = {\r\n              compute_id:this.compute_id,\r\n              processItemIds:[item.id]\r\n            }\r\n            processItemDel(reqData).then(res=>{\r\n              $toast.show('删除成功')\r\n              this.process_list = this.process_list.filter(o=>{\r\n                return o.process_name != item.process_name\r\n              })\r\n            }).catch(error=>{\r\n\r\n            })\r\n          }\r\n\r\n        })\r\n      },\r\n      onItemClick(item){\r\n        if(this.currItem.swipe){\r\n          this.currItem.swipe = false;\r\n          return;\r\n        }\r\n        //$router.forward('/customerOrder/compute/cst_process_detail/'+this.action+'/'+encodeURIComponent(JSON.stringify(item)));\r\n        $router.forward({\r\n          path:'/customerOrder/compute/cst_process_detail',\r\n          query:{\r\n            action:this.action,\r\n            process_detail:encodeURIComponent(JSON.stringify(item))\r\n          }\r\n        })\r\n      },\r\n      onSwipeLeft(item){\r\n        this.$set(item,'swipe',true);\r\n        this.currItem = item\r\n      },\r\n      saveData(){\r\n        const reqData = {\r\n          compute_id:this.compute_id,\r\n          process_list:this.process_list\r\n        }\r\n\r\n        addProcess(reqData).then(res=>{\r\n          this.action = 'check'\r\n          console.log(res)\r\n        }).catch(error=>{\r\n          $toast.show(error.description)\r\n        })\r\n      },\r\n      addOneProcess(){\r\n        $router.forward({\r\n          path:'/customerOrder/compute/cst_process_detail',\r\n          query:{\r\n            action:'new',\r\n            process_detail:this.compute_id\r\n          }\r\n        });\r\n      }\r\n    },\r\n  }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .label{\r\n    width: 30%;\r\n    float: left;\r\n    height: 100%;\r\n    text-align: left;\r\n  }\r\n  .value{\r\n    width: 70%;\r\n    float: right;\r\n    text-align: right;\r\n    padding-right: 15px;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// cst_process_list.vue?228cdcfa","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/weibosi/webs-mt/mt/www_dev/src/views/customerOrder/quotes/compute/cst_process_list.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,WAAW;EACX,aAAa;EACb,kBAAkB;EAClB,oBAAoB;CACrB\",\"file\":\"cst_process_list.vue\",\"sourcesContent\":[\"\\n.label[data-v-3694baee] {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n  text-align: left;\\n}\\n.value[data-v-3694baee] {\\n  width: 70%;\\n  float: right;\\n  text-align: right;\\n  padding-right: 15px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3694baee&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 514\n// module chunks = 91","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-3694baee&scoped=true!../../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./cst_process_list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"f061bece\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3694baee&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 615\n// module chunks = 91","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"加工费明细\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, [_c('list', [_c('item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.process_list.length > 0),\n      expression: \"process_list.length>0\"\n    }]\n  }, [_c('p', {\n    staticClass: \"label\"\n  }, [_vm._v(\"总计\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"value\",\n    staticStyle: {\n      \"padding-left\": \"16px\"\n    }\n  }, [_vm._v(_vm._s(_vm.totalPrice) + \" 元\")])]), _vm._v(\" \"), _vm._l((_vm.process_list), function(item) {\n    return _c('swipe-item', {\n      attrs: {\n        \"swipeItemText\": \"删除\",\n        \"canSwipe\": true,\n        \"hasArrow\": true,\n        \"obj\": item\n      },\n      on: {\n        \"SwipeItemClick\": _vm.delItem,\n        \"ItemClick\": _vm.onItemClick,\n        \"SwipeLeft\": _vm.onSwipeLeft\n      }\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(_vm._s(item.process_name))]), _c('span', {\n      staticClass: \"value\"\n    }, [_vm._v(_vm._s(item.process_cost) + \" 元\")])])\n  }), _vm._v(\" \"), _c('button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.action === 'edit' || _vm.action === 'new'),\n      expression: \"action ==='edit' || action ==='new'\"\n    }],\n    staticClass: \"button button-calm button-block button-outline\",\n    on: {\n      \"click\": _vm.addOneProcess\n    }\n  }, [_vm._v(\"添加加工项目\")])], 2)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3694baee!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/customerOrder/quotes/compute/cst_process_list.vue\n// module id = 724\n// module chunks = 91"],"sourceRoot":""}