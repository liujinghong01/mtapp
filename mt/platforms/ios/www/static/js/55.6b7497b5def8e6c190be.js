webpackJsonp([55],{294:function(e,t,n){n(766);var a=n(0)(n(492),n(913),"data-v-4c38499a",null);e.exports=a.exports},370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(e){var t=e.target.value;this.$emit("input",t)}}}},371:function(e,t,n){t=e.exports=n(225)(),t.push([e.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},372:function(e,t,n){var a=n(371);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(226)("6ea14c28",a,!0)},373:function(e,t,n){n(372);var a=n(0)(n(370),n(374),"data-v-19336c8e",null);e.exports=a.exports},374:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compute-item"},[n("span",{staticClass:"label"},[e._v(e._s(e.label))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==e.editType,expression:"editType!=='color'"}],staticClass:"value"},[e.canEdit&&"check"!==e.action&&"approve"!==e.action&&"checkOnly"!==e.action?n("input",{ref:"input",attrs:{type:e.editType,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.input}}):n("span",[e._v(e._s(e.value))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"===e.editType,expression:"editType==='color'"}],staticClass:"value"},[n("span",{staticClass:"color",style:{background:e.color}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow,expression:"hasArrow"}],staticClass:"note"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow&&e.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:e.noteClick}},[e._v(e._s(e.arrowText))]),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),e._v(" "),n("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},388:function(e,t,n){"use strict";function a(e){return n.i(k.a)({url:"/api/pm/pg/detail",method:"post",data:e})}function i(e){return n.i(k.a)({url:"/api/pm/pg/list",method:"post",data:e})}function o(e){return n.i(k.a)({url:"/api/pm/pg_device/list",method:"post",data:e})}function r(e){return n.i(k.a)({url:"/api/pm/device_maintain_curr/query",method:"post",data:e})}function s(e){return n.i(k.a)({url:"/api/pm/pg_device/maintain_record",method:"post",data:e})}function c(e){return n.i(k.a)({url:"/api/pm/pg_device_check_allocate/list",method:"post",data:e})}function d(e){return n.i(k.a)({url:"/api/pm/pg_device/check_allocate_delete",method:"post",data:e})}function p(e){return n.i(k.a)({url:"/api/pm/pg_device_check/list",method:"post",data:e})}function l(e){return n.i(k.a)({url:"/api/pm/pg_device/detail",method:"post",data:e})}function u(e){return n.i(k.a)({url:"/api/pm/pg/delete",method:"post",data:e})}function m(e){return n.i(k.a)({url:"/api/pm/pg/modify",method:"post",data:e})}function A(e){return n.i(k.a)({url:"/api/pm/pg_device/delete",method:"post",data:e})}function v(e){return n.i(k.a)({url:"/api/pm/pg_device/modify",method:"post",data:e})}function h(e){return n.i(k.a)({url:"/api/pm/device_maintain_bill/save",method:"post",data:e})}function f(e){return n.i(k.a)({url:"/api/pm/device_maintain/start",method:"post",data:e})}function _(e){return n.i(k.a)({url:"/api/pm/pg_device/check",method:"post",data:e})}function C(e){return n.i(k.a)({url:"/api/pm/pg_device/check_allocate_modify",method:"post",data:e})}function g(e){return n.i(k.a)({url:"/api/pm/pg_device_check_allocate/detail",method:"post",data:e})}function x(e){return n.i(k.a)({url:"/api/company/getAllDeptMember",method:"post",data:e})}function B(e){return n.i(k.a)({url:"/api/pm/pg_member/delete",method:"post",data:e})}function b(e){return n.i(k.a)({url:"/api/pm/pg_member/modify",method:"post",data:e})}function w(e){return n.i(k.a)({url:"api/company/get-all-members",method:"post",data:e})}t.o=a,t.a=i,t.n=o,t.e=r,t.g=s,t.j=c,t.k=d,t.d=p,t.b=l,t.v=u,t.t=m,t.s=A,t.i=v,t.f=h,t.h=f,t.c=_,t.m=C,t.l=g,t.u=x,t.r=B,t.q=b,t.p=w;var k=n(10)},492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(388),i=n(373),o=n.n(i);t.default={name:"overhaulForm",components:{CstItem:o.a},data:function(){return{action:"",device_id:"",reason:"",device_maintain_info:{cycle:"1",device_id:"设备ID",device_name:"\t设备名称",end_date:"\t实际检修结束时间",is_maintained:"是否检修完毕",length:"检修时长(天)",maintain_id:"\t检修Id",maintain_no:"\t检修单号",next_end_date:"下次计划检修结束时间",next_start_date:"下次计划检修开始时间",prev_end_date:"\t上次检修完毕时间",reason:"\t检修原因",start_date:"实际检修开始时间"}}},computed:{},activated:function(){},mounted:function(){var e=this.$route.query;this.action=e.action,"new"==this.action&&(this.device_id=e.device_id,this.deviceMaintainInfo())},methods:{onTabClick:function(e){e!==this.tabIndex&&(this.tabIndex=e)},deviceMaintainInfo:function(){var e=this,t={query:{device_id:this.device_id}};n.i(a.e)(t).then(function(t){e.device_maintain_info=t.device_maintain_info}).catch(function(e){$toast.show(e.description)})},deviceMaintainBill:function(){this.device_maintain_info.reason=this.reason,alert(this.device_maintain_info.reason);var e={device_maintain_info:this.device_maintain_info};n.i(a.f)(e).then(function(e){$toast.show("设备检修完成"),$router.go(-1)}).catch(function(e){$toast.show(e.description)})}}}},627:function(e,t,n){t=e.exports=n(225)(),t.push([e.i,"\n.item > div[data-v-4c38499a] {\n  line-height: 26px;\n}\n.reason[data-v-4c38499a] {\n  background: #fff;\n  padding: 15px;\n  border-top: 1px solid #ddd;\n}\n.reason textarea[data-v-4c38499a] {\n    width: 100%;\n    resize: none;\n    height: 50px;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/equipment/overhaulForm.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;EACE,iBAAiB;EACjB,cAAc;EACd,2BAA2B;CAC5B;AACD;IACI,YAAY;IACZ,aAAa;IACb,aAAa;CAChB",file:"overhaulForm.vue",sourcesContent:["\n.item > div[data-v-4c38499a] {\n  line-height: 26px;\n}\n.reason[data-v-4c38499a] {\n  background: #fff;\n  padding: 15px;\n  border-top: 1px solid #ddd;\n}\n.reason textarea[data-v-4c38499a] {\n    width: 100%;\n    resize: none;\n    height: 50px;\n}\n"],sourceRoot:""}])},766:function(e,t,n){var a=n(627);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(226)("d058a36c",a,!0)},913:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[n("div",{staticClass:"mw-page-header"},[n("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(t){e.$router.go(-1)}}}),e._v(" "),n("span",[e._v("检修单")]),e._v(" "),n("i",{staticClass:"right"})]),e._v(" "),n("div",{staticClass:"mw-page-content "},[n("div",{staticClass:"content"},[n("cst-item",{attrs:{label:"本次检修开始时间",action:"action"},model:{value:e.device_maintain_info.start_date.substring(0,10),callback:function(t){e.$set(e.device_maintain_info.start_date,"substring(0,10)",t)},expression:"device_maintain_info.start_date.substring(0,10)"}}),e._v(" "),n("cst-item",{attrs:{label:"检修周期(年)",action:"action"},model:{value:e.device_maintain_info.cycle,callback:function(t){e.$set(e.device_maintain_info,"cycle",t)},expression:"device_maintain_info.cycle"}}),e._v(" "),n("cst-item",{attrs:{label:"下次计划检修开始时间",action:"action"},model:{value:e.device_maintain_info.next_start_date.substring(0,10),callback:function(t){e.$set(e.device_maintain_info.next_start_date,"substring(0,10)",t)},expression:"device_maintain_info.next_start_date.substring(0,10)"}}),e._v(" "),n("cst-item",{attrs:{label:"下次计划检修结束时间",action:"action"},model:{value:e.device_maintain_info.next_end_date.substring(0,10),callback:function(t){e.$set(e.device_maintain_info.next_end_date,"substring(0,10)",t)},expression:"device_maintain_info.next_end_date.substring(0,10)"}}),e._v(" "),n("div",{staticClass:"reason"},[n("p",[e._v("检修原因")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],attrs:{placeholder:"请输入维修原因"},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}})])],1)]),e._v(" "),n("div",{staticClass:"mw-page-footer"},[n("div",{staticClass:"btns"},[n("div",{staticClass:"btn",on:{click:function(t){e.deviceMaintainBill()}}},[e._v("\n        保存\n      ")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=55.6b7497b5def8e6c190be.js.map