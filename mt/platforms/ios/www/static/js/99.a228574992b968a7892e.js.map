{"version":3,"sources":["webpack:///static/js/99.a228574992b968a7892e.js","webpack:///./src/views/purchase/requirements/index.vue","webpack:///./src/api/purchase/requirement.js","webpack:///index.vue?3f53","webpack:///./src/views/purchase/requirements/index.vue?b56f","webpack:///./src/views/purchase/requirements/index.vue?279c","webpack:///./src/views/purchase/requirements/index.vue?3f82"],"names":["webpackJsonp","325","module","exports","__webpack_require__","Component","414","__webpack_exports__","requirementList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","requirementDetail","querySupplier","524","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__","__WEBPACK_IMPORTED_MODULE_2__utils_sess__","name","check","showFilter","isCheckAll","pageModel","curr_page","total_page","page_size","require_list","query","create_type","mat_desc","types","code","computed","checkedMats","this","filter","o","methods","onInfinite","done","that","setTimeout","getData","onRefresh","onItemClick","item","$router","forward","require_id","createPurchase","_this","length","$toast","show","mat_ids","forEach","e","push","mat_id","reqData","then","res","sup_list","set","catch","error","description","inquiry","console","log","refresh","_this2","concat","checkAll","_this3","$set","checkType","checked","index","indexOf","splice","delItems","$dialog","confirm","theme","title","cancelText","confirmText","reset","mounted","activated","615","version","sources","names","mappings","file","sourcesContent","sourceRoot","754","content","locals","901","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","go","_v","_e","staticStyle","position","padding-top","padding-left","float","color","padding-right","_s","-webkit-overflow-scrolling","attrs","on-infinite","on-refresh","_l","class","mat_no","create_type_name","plan_qty","buy_qty","mat_type_name","total_price","slot","text-align","padding","key","background-color","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCDjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,YEpBO,SAASI,GAAgBC,GAC9B,MAAOL,GAAAM,EAAAC,EAAA,IACLC,IAAK,gCACLC,OAAQ,OACRJ,SAMG,QAASK,GAAkBL,GAChC,MAAOL,GAAAM,EAAAC,EAAA,IACLC,IAAK,iCACLC,OAAQ,OACRJ,SAaG,QAASM,GAAcN,GAC5B,MAAOL,GAAAM,EAAAC,EAAA,IACLC,IAAK,kCACLC,OAAQ,OACRJ,SFV6BF,EAAuB,EAAIC,EAC3BD,EAAuB,EAAIO,EAE3BP,EAAuB,EAAIQ,CACvC,IAAIJ,GAA6CP,EAAoB,KAuCpFY,IACA,SAAUd,EAAQK,EAAqBH,GAE7C,YACAa,QAAOC,eAAeX,EAAqB,cAAgBY,OAAO,GAC7C,IAAIC,GAAqEhB,EAAoB,GACzFiB,EAA6EjB,EAAoBkB,EAAEF,GACnGG,EAA0DnB,EAAoB,KAC9EoB,EAA4CpB,EAAoB,EAM5DG,GAA6B,SACxDkB,KGTF,eHUEhB,KAAM,WACJ,OACEiB,OGTN,EHUMC,YGTN,EHUMC,YGTN,EHUMC,WACEC,UGTR,EHUQC,WGTR,EHUQC,UGRR,IHUMC,gBACAC,OACEC,eACAC,SGNR,IHQMC,QGPNC,KAAA,EAAAnB,MACA,QAAAmB,KAAA,EAAAnB,MACA,OAAAmB,KAAA,EAAAnB,MACA,QAAAmB,KAAA,EAAAnB,MACA,SAAAmB,KAAA,EAAAnB,MACA,SAAAmB,KAAA,EAAAnB,MAGA,YHGEoB,UACEC,YAAa,WAKX,MAHOC,MAAKR,aAAaS,OAAO,SAAUC,GACxC,OGDR,IHCeA,EAAEjB,UAKfkB,SACEC,WAAY,SAAoBC,GAC9B,GAAIC,GGDVN,IHEM,IAAIM,EAAKlB,UAAUE,YAAcgB,EAAKlB,UAAUC,UGCtD,WADAgB,IHIME,YAAW,WACLD,EAAKlB,UAAUE,WAAa,EGAxCe,KHGUC,EGDVE,UACAH,MAEA,MHGII,UAAW,SAAmBJ,GAC5B,GAAIC,GGDVN,IHEMO,YAAW,WACTD,EAAKE,SGDb,GACAH,KACA,MHGIK,YAAa,SAAqBC,GAChCX,KAAKY,QAAQC,QAAQ,iCAAmCF,EGD9DG,aHGIC,eAAgB,WGApB,GAAAC,GAAAhB,IHGM,IAAgC,IAA5BA,KAAKD,YAAYkB,OGA3B,WHCQC,QAAOC,KGFf,SHKM,IAAIC,KACJpB,MAAKD,YAAYsB,QAAQ,SAAUC,EAAGrD,GACpCmD,EAAQG,KAAKD,EGFrBE,SHIM,IAAIC,IACFhC,OACE2B,QGAVA,GHGMzD,GAAoBM,EAAEa,EAA+E,GAAG2C,GAASC,KAAK,SAAUC,GAC1HA,EAAIC,SAASX,OAAS,EACxBC,OAAOC,KAAK,gBGFtB,MHIUpC,EAA2D,EAAE8C,IAAI,OAAQjD,IAA6EoC,EGFhKjB,cHGUiB,EAAMJ,QAAQC,QGFxB,yCHISiB,MAAM,SAAUC,GACjBb,OAAOC,KAAKY,EGFpBC,gBHKIC,QAAS,WACP,GAAgC,IAA5BjC,KAAKD,YAAYkB,OGG3B,WHFQC,QAAOC,KGCf,SHEMpC,GAA2D,EAAE8C,IAAI,OAAQjD,IAA6EoB,KGC5JD,cHAMmC,QAAQC,IAAInC,KGClBD,aHAMC,KAAKY,QAAQC,QGCnB,wCHCIL,QAAS,SAAiB4B,GGC9B,GAAAC,GAAArC,KHEUyB,GACFpC,UAAW+C,EAAU,EAAI,EAAIpC,KAAKZ,UGD1CC,UHEQE,UAAWS,KAAKZ,UGDxBG,UHEQE,MAAOO,KGAfP,MHEM9B,GAAoBM,EAAEa,EAAiF,GAAG2C,GAASC,KAAK,SAAUC,GAC5HS,IACFC,EAAO7C,aAAayB,OGD9B,EHEUoB,EAAOnD,YGDjB,GHGQmD,EAAOjD,UAAUC,UAAYsC,EGDrCtC,UHEQgD,EAAOjD,UAAUE,WAAaqC,EGDtCrC,WHEQ+C,EAAO7C,aAAe6C,EAAO7C,aAAa8C,OAAOX,EGAzDnC,gBHCSsC,MAAM,SAAUC,GACjBb,OAAOC,KAAKY,EGApBC,gBHGIO,SAAU,WGAd,GAAAC,GAAAxC,IHGMA,MAAKb,YAAca,KGFzBb,WHGMa,KAAKR,aAAa6B,QAAQ,SAAUV,GAC9B6B,EAAOrD,WACTqD,EAAOC,KAAK9B,EAAM,SGF5B,GHIU6B,EAAOC,KAAK9B,EAAM,SGF5B,MHMI+B,UAAW,SAAmB/B,GAE5B,GADAX,KAAKyC,KAAK9B,EAAM,WAAYA,EGFlCgC,SHGUhC,EAAKgC,QACP3C,KAAKP,MAAMC,YAAY6B,KAAKZ,EGFpCd,UACA,CHGQ,GAAI+C,GAAQ5C,KAAKP,MAAMC,YAAYmD,QAAQlC,EGFnDd,KHGQG,MAAKP,MAAMC,YAAYoD,OAAOF,EGFtC,KHKIG,SAAU,WACwB,IAA5B/C,KAAKD,YAAYkB,QAGrB+B,QAAQC,SACNC,MGDR,MHEQC,MAAO,SAAWnD,KAAKD,YAAYkB,OGD3C,MHEQmC,WGDR,KHEQC,YGDR,OAJA3B,KAAA,SAAAC,OHUI2B,MAAO,WACLtD,KAAKJ,MAAMyB,QAAQ,SAAUpD,GAC3BA,EAAE0E,SGCV,IHCM3C,KAAKP,MAAMC,iBAGf6D,QAAS,WACPvD,KAAKQ,SGCT,IHCEgD,UAAW,WACTxD,KAAKQ,SGCT,MHKMiD,IACA,SAAUhG,EAAQC,EAASC,GI1PjCD,EAAAD,EAAAC,QAAAC,EAAA,OAKAD,EAAA6D,MAAA9D,EAAAQ,EAAA,wGAA6H,IAAUyF,QAAA,EAAAC,SAAA,0GAAAC,SAAAC,SAAA,wDAAyMC,KAAA,YAAAC,gBAAA,yGAA+IC,WAAA,OJmQzdC,IACA,SAAUxG,EAAQC,EAASC,GKtQjC,GAAAuG,GAAAvG,EAAA,IACA,iBAAAuG,SAAAzG,EAAAQ,EAAAiG,EAAA,MACAA,EAAAC,SAAA1G,EAAAC,QAAAwG,EAAAC,OAEAxG,GAAA,gBAAAuG,GAAA,IL+QME,IACA,SAAU3G,EAAQC,GMvRxBD,EAAAC,SAAgB2G,OAAA,WAAmB,GAAAC,GAAAtE,KAAauE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,aACA3F,KAAA,MACA4F,QAAA,QACAlG,OACAmG,YAAA,GAEAC,WAAA,sBAEAC,YAAA,0BACGN,EAAA,OACHM,YAAA,mBACGN,EAAA,KACHM,YAAA,+BACAC,IACAC,MAAA,SAAAC,GACAZ,EAAA1D,QAAAuE,IAAA,OAGGb,EAAAc,GAAA,KAAAX,EAAA,QAAAH,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAd,EAAArF,MAOAqF,EAAAe,KAPAZ,EAAA,KACHM,YAAA,QACAC,IACAC,MAAA,SAAAC,GACAZ,EAAArF,OAAA,MAGGqF,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAd,EAAA,MAAAG,EAAA,KACHM,YAAA,QACAC,IACAC,MAAA,SAAAC,GACAZ,EAAArF,OAAA,MAGGqF,EAAAc,GAAA,QAAAd,EAAAe,OAAAf,EAAAc,GAAA,KAAAX,EAAA,OACHM,YAAA,kBACAO,aACAC,SAAA,WACAC,cAAA,UAEGf,EAAA,OACHM,YAAA,iBACGN,EAAA,QACHE,aACA3F,KAAA,OACA4F,QAAA,SACAlG,MAAA4F,EAAA,MACAQ,WAAA,UAEAQ,aACAG,eAAA,OACAC,MAAA,OACAC,MAAA,WAEAX,IACAC,MAAAX,EAAA/B,YAEG+B,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAd,EAAArF,MAWAqF,EAAAe,KAXAZ,EAAA,QACHa,aACAI,MAAA,QACAE,gBAAA,OACAD,MAAA,WAEAX,IACAC,MAAA,SAAAC,GACAZ,EAAApF,YAAA,MAGGoF,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAd,EAAA,MAAAG,EAAA,QACHa,aACAI,MAAA,QACAE,gBAAA,OACAD,MAAA,WAEAX,IACAC,MAAAX,EAAAvB,YAEGuB,EAAAc,GAAA,MAAAd,EAAAuB,GAAAvB,EAAAvE,YAAAkB,QAAA,OAAAqD,EAAAe,OAAAf,EAAAc,GAAA,KAAAX,EAAA,OACHM,YAAA,YACGN,EAAA,UACHM,YAAA,eACAO,aACAQ,6BAAA,SAEAC,OACAC,cAAA1B,EAAAlE,WACA6F,aAAA3B,EAAA7D,aAEG6D,EAAA4B,GAAA5B,EAAA,sBAAA3D,GACH,MAAA8D,GAAA,OAAAA,EAAA,QACA0B,OAAA,WAAA7B,EAAArF,MAAA,cACKwF,EAAA,OACLM,YAAA,WACAC,IACAC,MAAA,SAAAC,GACAZ,EAAA7B,KAAA9B,EAAA,SAAAA,EAAA1B,WAGKwF,EAAA,KACL0B,OAAA,OAAAxF,EAAA1B,MAAA,wEACKqF,EAAAc,GAAA,KAAAX,EAAA,OACLM,YAAA,kBACAC,IACAC,MAAA,SAAAC,GACAZ,EAAA5D,YAAAC,OAGK8D,EAAA,OACLM,YAAA,mBACKT,EAAAc,GAAA,UAAAX,EAAA,QACLM,YAAA,aACKT,EAAAc,GAAAd,EAAAuB,GAAAlF,EAAAhB,aAAA8E,EAAA,KACLM,YAAA,+BACKT,EAAAc,GAAA,KAAAX,EAAA,OACLM,YAAA,mBACKT,EAAAc,GAAA,UAAAX,EAAA,QACLM,YAAA,aACKT,EAAAc,GAAAd,EAAAuB,GAAAlF,EAAAyF,aAAA9B,EAAAc,GAAA,KAAAX,EAAA,OACLM,YAAA,qBACKN,EAAA,QAAAH,EAAAc,GAAA,UAAAd,EAAAuB,GAAAlF,EAAA0F,qBAAA5B,EAAA,QAAAH,EAAAc,GAAA,WAAAd,EAAAuB,GAAAlF,EAAA2F,SAAA3F,EAAA4F,YAAAjC,EAAAc,GAAA,KAAAX,EAAA,QAAAH,EAAAc,GAAA,UAAAd,EAAAuB,GAAAlF,EAAA6F,kBAAA/B,EAAA,QAAAH,EAAAc,GAAA,QAAAd,EAAAuB,GAAAlF,EAAA8F,uBAAA,KACFnC,EAAAc,GAAA,KAAAd,EAAAlF,UAAAC,WAAAiF,EAAAlF,UAAAE,WAAAmF,EAAA,OACHM,YAAA,cACAgB,OACAW,KAAA,YAEAA,KAAA,aACGpC,EAAAc,GAAA,YAAAd,EAAAe,MAAA,SAAAf,EAAAc,GAAA,KAAAX,EAAA,OACHE,aACA3F,KAAA,OACA4F,QAAA,SACAlG,MAAA4F,EAAA,WACAQ,WAAA,eAEAC,YAAA,OACAC,IACAC,MAAA,SAAAC,GACAZ,EAAApF,YAAA,MAGGoF,EAAAc,GAAA,KAAAX,EAAA,OACH0B,MAAA7B,EAAApF,WAAA,2BACGuF,EAAA,OACHE,aACA3F,KAAA,OACA4F,QAAA,SACAlG,MAAA4F,EAAA,WACAQ,WAAA,eAEAC,YAAA,QACAO,aACAqB,aAAA,YAEGrC,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAX,EAAA,QACHE,aACA3F,KAAA,OACA4F,QAAA,SACAlG,MAAA4F,EAAA,WACAQ,WAAA,eAEAQ,aACAC,SAAA,cAEGd,EAAA,MAAAH,EAAAc,GAAA,KAAAX,EAAA,QACHa,aACAsB,QAAA,UAEGtC,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAX,EAAA,MACHM,YAAA,SACGT,EAAA4B,GAAA5B,EAAA,eAAA3D,GACH,MAAA8D,GAAA,MACAoC,IAAAlG,EAAAd,KACAsG,MAAAxF,EAAAgC,QAAA,YACAqC,IACAC,MAAA,SAAAC,GACAZ,EAAA5B,UAAA/B,OAGK2D,EAAAc,GAAAd,EAAAuB,GAAAlF,EAAAjC,eACF4F,EAAAc,GAAA,KAAAX,EAAA,OACHE,aACA3F,KAAA,OACA4F,QAAA,SACAlG,MAAA4F,EAAA,WACAQ,WAAA,eAEAC,YAAA,SACGN,EAAA,OACHM,YAAA,YACAC,IACAC,MAAAX,EAAAhB,SAEGgB,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAX,EAAA,OACHM,YAAA,MACAO,aACAwB,mBAAA,WAEA9B,IACAC,MAAA,SAAAC,GACAZ,EAAA9D,SAAA,OAGG8D,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAd,EAAA,MAAAG,EAAA,OACHM,YAAA,mBACGT,EAAA,MAAAG,EAAA,OACHM,YAAA,SACGN,EAAA,OACHM,YAAA,MACAC,IACAC,MAAAX,EAAAvD,kBAEGuD,EAAAc,GAAA,0BAAAd,EAAAc,GAAA,KAAAX,EAAA,OACHM,YAAA,YACGT,EAAAc,GAAA,KAAAX,EAAA,OACHM,YAAA,MACAC,IACAC,MAAAX,EAAArC,WAEGqC,EAAAc,GAAA,4BAAAd,EAAAe,OAAAf,EAAAe,QACF0B","file":"static/js/99.a228574992b968a7892e.js","sourcesContent":["webpackJsonp([99],{\n\n/***/ 325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(754)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(524),\n  /* template */\n  __webpack_require__(901),\n  /* scopeId */\n  \"data-v-3b208cd6\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 414:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = requirementList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = requirementDetail;\n/* unused harmony export requirementDel */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = querySupplier;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(10);\n\n\n\n\nfunction requirementList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pc/mat_require_plan/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction requirementDetail(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: 'api/pc/mat_require_plan/detail',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction requirementDel(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/pc/mat_require_plan/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction querySupplier(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/dict/query_supplier_by_mat',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 524:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__ = __webpack_require__(414);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_sess__ = __webpack_require__(1);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'requirements',\n  data: function data() {\n    return {\n      check: false,\n      showFilter: false,\n      isCheckAll: true,\n      pageModel: {\n        curr_page: 0,\n        total_page: 0,\n        page_size: 10\n      },\n      require_list: [],\n      query: {\n        create_type: [],\n        mat_desc: ''\n      },\n      types: [{ code: 1, value: 'Bom' }, { code: 2, value: '外协' }, { code: 3, value: '请购单' }, { code: 4, value: '仓库报警' }, { code: 5, value: '库存下料' }, { code: 6, value: '工序转外协' }]\n    };\n  },\n\n  computed: {\n    checkedMats: function checkedMats() {\n      var mats = [];\n      mats = this.require_list.filter(function (o) {\n        return o.check === true;\n      });\n      return mats;\n    }\n  },\n  methods: {\n    onInfinite: function onInfinite(done) {\n      var that = this;\n      if (that.pageModel.total_page <= that.pageModel.curr_page) {\n        done();\n        return;\n      }\n      setTimeout(function () {\n        if (that.pageModel.total_page < 2) {\n          done();\n        } else {\n          that.getData();\n          done();\n        }\n      }, 400);\n    },\n    onRefresh: function onRefresh(done) {\n      var that = this;\n      setTimeout(function () {\n        that.getData(true);\n        done();\n      }, 500);\n    },\n    onItemClick: function onItemClick(item) {\n      this.$router.forward('/purchase/requirements/detail/' + item.require_id);\n    },\n    createPurchase: function createPurchase() {\n      var _this = this;\n\n      if (this.checkedMats.length === 0) {\n        $toast.show('请先选择物料');\n        return;\n      }\n      var mat_ids = [];\n      this.checkedMats.forEach(function (e, i) {\n        mat_ids.push(e.mat_id);\n      });\n      var reqData = {\n        query: {\n          mat_ids: mat_ids\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__[\"b\" /* querySupplier */])(reqData).then(function (res) {\n        if (res.sup_list.length < 1) {\n          $toast.show('所选物料不属于同一家供应商', 600);\n        } else {\n          __WEBPACK_IMPORTED_MODULE_2__utils_sess__[\"a\" /* default */].set('mats', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.checkedMats));\n          _this.$router.forward('/purchase/purchase/detail/new/null');\n        }\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    inquiry: function inquiry() {\n      if (this.checkedMats.length === 0) {\n        $toast.show('请先选择物料');\n        return;\n      }\n      __WEBPACK_IMPORTED_MODULE_2__utils_sess__[\"a\" /* default */].set('mats', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.checkedMats));\n      console.log(this.checkedMats);\n      this.$router.forward('/purchase/inquiry/feedback/new/null');\n    },\n    getData: function getData(refresh) {\n      var _this2 = this;\n\n      var reqData = {\n        curr_page: refresh ? 1 : 1 + this.pageModel.curr_page,\n        page_size: this.pageModel.page_size,\n        query: this.query\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_purchase_requirement__[\"c\" /* requirementList */])(reqData).then(function (res) {\n        if (refresh) {\n          _this2.require_list.length = 0;\n          _this2.showFilter = false;\n        }\n        _this2.pageModel.curr_page = res.curr_page;\n        _this2.pageModel.total_page = res.total_page;\n        _this2.require_list = _this2.require_list.concat(res.require_list);\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    checkAll: function checkAll() {\n      var _this3 = this;\n\n      this.isCheckAll = !this.isCheckAll;\n      this.require_list.forEach(function (item) {\n        if (_this3.isCheckAll) {\n          _this3.$set(item, 'check', false);\n        } else {\n          _this3.$set(item, 'check', true);\n        }\n      });\n    },\n    checkType: function checkType(item) {\n      this.$set(item, 'checked', !item.checked);\n      if (item.checked) {\n        this.query.create_type.push(item.code);\n      } else {\n        var index = this.query.create_type.indexOf(item.code);\n        this.query.create_type.splice(index, 1);\n      }\n    },\n    delItems: function delItems() {\n      if (this.checkedMats.length === 0) {\n        return;\n      }\n      $dialog.confirm({\n        theme: 'ios',\n        title: '确定要删除这' + this.checkedMats.length + '项吗？',\n        cancelText: '取消',\n        confirmText: '确定'\n      }).then(function (res) {\n        if (res) {}\n      });\n    },\n    reset: function reset() {\n      this.types.forEach(function (i) {\n        i.checked = false;\n      });\n      this.query.create_type = [];\n    }\n  },\n  mounted: function mounted() {\n    this.getData(true);\n  },\n  activated: function activated() {\n    this.getData(true);\n  }\n});\n\n/***/ }),\n\n/***/ 615:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(225)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.item-divider[data-v-3b208cd6] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/purchase/requirements/index.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;CACb\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.item-divider[data-v-3b208cd6] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 754:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(615);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(226)(\"668b0c4e\", content, true);\n\n/***/ }),\n\n/***/ 901:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page purchase\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料需求计划列表\")]), _vm._v(\" \"), (!_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = true\n      }\n    }\n  }, [_vm._v(\"操作\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = false\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\",\n    staticStyle: {\n      \"position\": \"relative\",\n      \"padding-top\": \"35px\"\n    }\n  }, [_c('div', {\n    staticClass: \"item-divider\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.check),\n      expression: \"check\"\n    }],\n    staticStyle: {\n      \"padding-left\": \"15px\",\n      \"float\": \"left\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.checkAll\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), (!_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = true\n      }\n    }\n  }, [_vm._v(\"筛选\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.delItems\n    }\n  }, [_vm._v(\"删除(\" + _vm._s(_vm.checkedMats.length) + \")\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    },\n    attrs: {\n      \"on-infinite\": _vm.onInfinite,\n      \"on-refresh\": _vm.onRefresh\n    }\n  }, [_vm._l((_vm.require_list), function(item) {\n    return _c('div', [_c('item', {\n      class: ['req-item', _vm.check ? 'check' : '']\n    }, [_c('div', {\n      staticClass: \"checkBox\",\n      on: {\n        \"click\": function($event) {\n          _vm.$set(item, 'check', !item.check)\n        }\n      }\n    }, [_c('i', {\n      class: ['icon', item.check ? 'ion-android-checkbox active' : 'ion-android-checkbox-outline-blank']\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-detail\",\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料描述 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_desc))]), _c('i', {\n      staticClass: \"icon ion-ios-arrow-right\"\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料编码 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-content\"\n    }, [_c('span', [_vm._v(\"需求来源 : \" + _vm._s(item.create_type_name))]), _c('span', [_vm._v(\"当前需求量 : \" + _vm._s(item.plan_qty - item.buy_qty))]), _vm._v(\" \"), _c('span', [_vm._v(\"物料类型 : \" + _vm._s(item.mat_type_name))]), _c('span', [_vm._v(\"金额 : \" + _vm._s(item.total_price))])])])])], 1)\n  }), _vm._v(\" \"), (_vm.pageModel.curr_page >= _vm.pageModel.total_page) ? _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  }, [_vm._v(\"没有更多数据\")]) : _vm._e()], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"mask\",\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = false\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: _vm.showFilter ? 'filter active' : 'filter'\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"item \",\n    staticStyle: {\n      \"text-align\": \"center\"\n    }\n  }, [_vm._v(\"\\n      筛选\\n    \")]), _vm._v(\" \"), _c('list', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('br'), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"padding\": \"10px\"\n    }\n  }, [_vm._v(\"物料来源\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"types\"\n  }, _vm._l((_vm.types), function(item) {\n    return _c('li', {\n      key: item.code,\n      class: item.checked ? 'active' : '',\n      on: {\n        \"click\": function($event) {\n          _vm.checkType(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.value))])\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn reset\",\n    on: {\n      \"click\": _vm.reset\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getData(true)\n      }\n    }\n  }, [_vm._v(\"确定\")])])], 1), _vm._v(\" \"), (_vm.check) ? _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [(_vm.check) ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.createPurchase\n    }\n  }, [_vm._v(\"\\n        采购\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"divider\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.inquiry\n    }\n  }, [_vm._v(\"\\n        询价\\n      \")])]) : _vm._e()]) : _vm._e()])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/99.a228574992b968a7892e.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3b208cd6&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3b208cd6!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  \"data-v-3b208cd6\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/purchase/requirements/index.vue\n// module id = 325\n// module chunks = 99","/**\n * Created by zxf on 2017/11/21.\n */\n\nimport fetch from '@/utils/fetch'\n//物料需求相关接口\n\n//需求列表\nexport function requirementList(data) {\n  return fetch({\n    url: '/api/pc/mat_require_plan/list',\n    method: 'post',\n    data\n  });\n}\n\n\n///api/pc/mat_require_plan/detail\nexport function requirementDetail(data) {\n  return fetch({\n    url: 'api/pc/mat_require_plan/detail',\n    method: 'post',\n    data\n  });\n}\n\n/// api/pc/mat_require_plan/delete\nexport function requirementDel(data) {\n  return fetch({\n    url: '/api/pc/mat_require_plan/delete',\n    method: 'post',\n    data\n  });\n}\n//根据物料查询供应商 /api/dict/query_supplier_by_mat\nexport function querySupplier(data) {\n  return fetch({\n    url: '/api/dict/query_supplier_by_mat',\n    method: 'post',\n    data\n  });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/purchase/requirement.js","<template>\n    <div class=\"mw-page page purchase\" v-nav=\"{hideNavbar:true}\">\n        <div class=\"mw-page-header\">\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\n            <span>物料需求计划列表</span>\n            <i class=\"right\"  v-if=\"!check\" @click=\"check=true\">操作</i>\n            <i class=\"right\" v-if=\"check\" @click=\"check=false\">取消</i>\n        </div>\n        <div class=\"mw-page-content\" style=\"position: relative;padding-top: 35px;\">\n          <div class=\"item-divider\" >\n            <span style=\"padding-left: 15px;float:left;color: #416eb6;\" v-show=\"check\" @click=\"checkAll\">全选</span>\n            <span style=\"float:right;padding-right: 15px;color: #416eb6;\" @click=\"showFilter=true\" v-if=\"!check\">筛选</span>\n            <span style=\"float:right;padding-right: 15px;color: #416eb6;\" @click=\"delItems\" v-if=\"check\">删除({{checkedMats.length}})</span>\n          </div>\n          <div class=\"content\">\n            <scroll class=\"page-content\" :on-infinite=\"onInfinite\" :on-refresh=\"onRefresh\" style=\"-webkit-overflow-scrolling: touch\">\n              <div v-for=\"item in require_list\">\n                <item :class=\"['req-item',check?'check':'']\" >\n                  <div class=\"checkBox\" @click=\"$set(item,'check',!item.check)\"><i :class=\"['icon',item.check?'ion-android-checkbox active':'ion-android-checkbox-outline-blank']\"></i> </div>\n                  <div class=\"req-item-detail\" @click=\"onItemClick(item)\">\n                    <div class=\"req-item-title\">物料描述 ：<span class=\"vi-color\">{{item.mat_desc}}</span><i class=\"icon ion-ios-arrow-right\"></i></div>\n                    <div class=\"req-item-title\">物料编码 ：<span class=\"vi-color\">{{item.mat_no}}</span></div>\n                    <div class=\"req-item-content\">\n                      <span>需求来源 : {{item.create_type_name}}</span><span>当前需求量 : {{item.plan_qty-item.buy_qty}}</span>\n                      <span>物料类型 : {{item.mat_type_name}}</span><span>金额 : {{item.total_price}}</span>\n                    </div>\n                  </div>\n                </item>\n              </div>\n              <div v-if=\"pageModel.curr_page >= pageModel.total_page\" slot=\"infinite\" class=\"text-center\">没有更多数据</div>\n            </scroll>\n          </div>\n        </div>\n      <div class=\"mask\" v-show=\"showFilter\" @click=\"showFilter=false\"></div>\n      <div :class=\"showFilter?'filter active':'filter'\">\n        <div class=\"item \" style=\"text-align: center\" v-show=\"showFilter\">\n          筛选\n        </div>\n        <list v-show=\"showFilter\" style=\"position: relative\">\n          <br>\n          <span style=\"padding: 10px\">物料来源</span>\n          <ul class=\"types\">\n            <li v-for=\"item in types\" :key=\"item.code\" @click=\"checkType(item)\" :class=\"item.checked?'active':''\">{{item.value}}</li>\n          </ul>\n        </list>\n        <div class=\"btns\" v-show=\"showFilter\">\n          <div class=\"btn reset\" @click=\"reset\">重置</div>\n          <div class=\"btn\" style=\"background-color: #416eb6\" @click=\"getData(true)\">确定</div>\n        </div>\n      </div>\n      <div class=\"mw-page-footer\"  v-if=\"check\">\n        <!--<div class=\"btns\" v-if=\"!check\">-->\n          <!--<div class=\"btn\" @click=\"check=true\">-->\n            <!--操作-->\n          <!--</div>-->\n        <!--</div>-->\n        <div class=\"btns\" v-if=\"check\">\n          <div class=\"btn\" @click=\"createPurchase\">\n            采购\n          </div>\n          <div class=\"divider\"></div>\n          <div class=\"btn\" @click=\"inquiry\">\n            询价\n          </div>\n          <!--<div class=\"divider\"></div>-->\n          <!--<div class=\"btn\" @click=\"check=true\">-->\n            <!--下料-->\n          <!--</div>-->\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n  import { requirementList,requirementDel,querySupplier } from '@/api/purchase/requirement'\n  import sess from '@/utils/sess'\n    export default{\n      name:'requirements',\n        data(){\n          return {\n            check:false,\n            showFilter:false,\n            isCheckAll:true,\n            pageModel:{\n              curr_page:0,\n              total_page:0,\n              page_size:10\n            },\n            require_list:[\n\n            ],\n            query:{\n              create_type:[],\n              mat_desc:''\n            },\n            types:[\n              {code:1,value:'Bom'},\n              {code:2,value:'外协'},\n              {code:3,value:'请购单'},\n              {code:4,value:'仓库报警'},\n              {code:5,value:'库存下料'},\n              {code:6,value:'工序转外协'},\n            ],\n          }\n        },\n      computed:{\n        checkedMats(){\n          let mats = []\n          mats = this.require_list.filter(o=>{\n            return o.check===true\n          })\n          return mats\n        }\n      },\n        methods: {\n          onInfinite(done){\n            const that = this\n            if(that.pageModel.total_page<=that.pageModel.curr_page){\n              done()\n              return\n            }\n            setTimeout(function () {\n              if(that.pageModel.total_page<2){\n                done()\n              }else{\n                that.getData();\n                done()\n              }\n            },400)\n          },\n          onRefresh(done){\n            const that = this\n            setTimeout(function () {\n              that.getData(true)\n              done()\n            },500)\n          },\n          onItemClick(item){\n            this.$router.forward('/purchase/requirements/detail/'+item.require_id)\n          },\n          //生成采购单\n          createPurchase(){\n            if(this.checkedMats.length===0){\n              $toast.show('请先选择物料')\n              return\n            }\n            let mat_ids=[]\n            this.checkedMats.forEach((e,i)=>{\n              mat_ids.push(e.mat_id)\n            })\n            const reqData = {\n              query:{\n                mat_ids:mat_ids\n              }\n            }\n            querySupplier(reqData).then(res=>{\n              if(res.sup_list.length<1){\n                $toast.show('所选物料不属于同一家供应商',600)\n              }else{\n                sess.set('mats',JSON.stringify(this.checkedMats))\n                this.$router.forward('/purchase/purchase/detail/new/null')\n              }\n            }).catch(error=>{\n              $toast.show(error.description)\n            })\n\n          },\n\n          //询价单\n          inquiry(){\n            if(this.checkedMats.length===0){\n              $toast.show('请先选择物料')\n              return\n            }\n            sess.set('mats',JSON.stringify(this.checkedMats))\n            console.log(this.checkedMats)\n            this.$router.forward('/purchase/inquiry/feedback/new/null')\n          },\n          getData(refresh){\n            const reqData = {\n              curr_page :refresh? 1:1+this.pageModel.curr_page,\n              page_size : this.pageModel.page_size,\n              query:this.query\n            }\n            requirementList(reqData).then(res=>{\n              if(refresh){\n                this.require_list.length = 0\n                this.showFilter=false\n              }\n              this.pageModel.curr_page = res.curr_page\n              this.pageModel.total_page = res.total_page\n              this.require_list = this.require_list.concat(res.require_list)\n\n            }).catch(error=>{\n              $toast.show(error.description)\n            })\n          },\n          checkAll(){\n            this.isCheckAll = !this.isCheckAll\n            this.require_list.forEach(item=>{\n              if(this.isCheckAll){\n                this.$set(item,'check',false)\n              }else{\n                this.$set(item,'check',true)\n              }\n            })\n          },\n          checkType(item){\n            this.$set(item,'checked',!item.checked)\n            if(item.checked){\n              this.query.create_type.push(item.code)\n            }else{\n              let index=this.query.create_type.indexOf(item.code)\n              this.query.create_type.splice(index,1)\n            }\n\n          },\n          delItems(){\n            if(this.checkedMats.length===0){\n              return\n            }\n            $dialog.confirm({\n              theme:'ios',\n              title:'确定要删除这'+this.checkedMats.length+'项吗？',\n              cancelText:'取消',\n              confirmText:'确定'\n            }).then(res=>{\n              if(res){\n\n              }\n            })\n          },\n          reset(){\n            this.types.forEach(i=>{\n              i.checked  = false\n            })\n            this.query.create_type=[]\n          }\n        },\n      mounted(){\n        this.getData(true)\n      },\n      activated(){\n        this.getData(true)\n      }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n  .item-divider{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?7bcaba9f","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.item-divider[data-v-3b208cd6] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/purchase/requirements/index.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;CACb\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.item-divider[data-v-3b208cd6] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3b208cd6&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/purchase/requirements/index.vue\n// module id = 615\n// module chunks = 99","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-3b208cd6&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"668b0c4e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-3b208cd6&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/purchase/requirements/index.vue\n// module id = 754\n// module chunks = 99","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page purchase\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料需求计划列表\")]), _vm._v(\" \"), (!_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = true\n      }\n    }\n  }, [_vm._v(\"操作\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('i', {\n    staticClass: \"right\",\n    on: {\n      \"click\": function($event) {\n        _vm.check = false\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\",\n    staticStyle: {\n      \"position\": \"relative\",\n      \"padding-top\": \"35px\"\n    }\n  }, [_c('div', {\n    staticClass: \"item-divider\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.check),\n      expression: \"check\"\n    }],\n    staticStyle: {\n      \"padding-left\": \"15px\",\n      \"float\": \"left\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.checkAll\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), (!_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = true\n      }\n    }\n  }, [_vm._v(\"筛选\")]) : _vm._e(), _vm._v(\" \"), (_vm.check) ? _c('span', {\n    staticStyle: {\n      \"float\": \"right\",\n      \"padding-right\": \"15px\",\n      \"color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": _vm.delItems\n    }\n  }, [_vm._v(\"删除(\" + _vm._s(_vm.checkedMats.length) + \")\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('scroll', {\n    staticClass: \"page-content\",\n    staticStyle: {\n      \"-webkit-overflow-scrolling\": \"touch\"\n    },\n    attrs: {\n      \"on-infinite\": _vm.onInfinite,\n      \"on-refresh\": _vm.onRefresh\n    }\n  }, [_vm._l((_vm.require_list), function(item) {\n    return _c('div', [_c('item', {\n      class: ['req-item', _vm.check ? 'check' : '']\n    }, [_c('div', {\n      staticClass: \"checkBox\",\n      on: {\n        \"click\": function($event) {\n          _vm.$set(item, 'check', !item.check)\n        }\n      }\n    }, [_c('i', {\n      class: ['icon', item.check ? 'ion-android-checkbox active' : 'ion-android-checkbox-outline-blank']\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-detail\",\n      on: {\n        \"click\": function($event) {\n          _vm.onItemClick(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料描述 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_desc))]), _c('i', {\n      staticClass: \"icon ion-ios-arrow-right\"\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-title\"\n    }, [_vm._v(\"物料编码 ：\"), _c('span', {\n      staticClass: \"vi-color\"\n    }, [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"req-item-content\"\n    }, [_c('span', [_vm._v(\"需求来源 : \" + _vm._s(item.create_type_name))]), _c('span', [_vm._v(\"当前需求量 : \" + _vm._s(item.plan_qty - item.buy_qty))]), _vm._v(\" \"), _c('span', [_vm._v(\"物料类型 : \" + _vm._s(item.mat_type_name))]), _c('span', [_vm._v(\"金额 : \" + _vm._s(item.total_price))])])])])], 1)\n  }), _vm._v(\" \"), (_vm.pageModel.curr_page >= _vm.pageModel.total_page) ? _c('div', {\n    staticClass: \"text-center\",\n    attrs: {\n      \"slot\": \"infinite\"\n    },\n    slot: \"infinite\"\n  }, [_vm._v(\"没有更多数据\")]) : _vm._e()], 2)], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"mask\",\n    on: {\n      \"click\": function($event) {\n        _vm.showFilter = false\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: _vm.showFilter ? 'filter active' : 'filter'\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"item \",\n    staticStyle: {\n      \"text-align\": \"center\"\n    }\n  }, [_vm._v(\"\\n      筛选\\n    \")]), _vm._v(\" \"), _c('list', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('br'), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"padding\": \"10px\"\n    }\n  }, [_vm._v(\"物料来源\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"types\"\n  }, _vm._l((_vm.types), function(item) {\n    return _c('li', {\n      key: item.code,\n      class: item.checked ? 'active' : '',\n      on: {\n        \"click\": function($event) {\n          _vm.checkType(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.value))])\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showFilter),\n      expression: \"showFilter\"\n    }],\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn reset\",\n    on: {\n      \"click\": _vm.reset\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    staticStyle: {\n      \"background-color\": \"#416eb6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getData(true)\n      }\n    }\n  }, [_vm._v(\"确定\")])])], 1), _vm._v(\" \"), (_vm.check) ? _c('div', {\n    staticClass: \"mw-page-footer\"\n  }, [(_vm.check) ? _c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.createPurchase\n    }\n  }, [_vm._v(\"\\n        采购\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"divider\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.inquiry\n    }\n  }, [_vm._v(\"\\n        询价\\n      \")])]) : _vm._e()]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3b208cd6!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/purchase/requirements/index.vue\n// module id = 901\n// module chunks = 99"],"sourceRoot":""}