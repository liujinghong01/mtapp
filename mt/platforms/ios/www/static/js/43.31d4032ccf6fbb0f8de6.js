webpackJsonp([43],{315:function(t,e,n){n(795);var i=n(0)(n(514),n(943),"data-v-690b71c4",null);t.exports=i.exports},370:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"cstItem",data:function(){return{selectId:"select-"+Math.random().toString(36).substring(3,6)}},props:{label:{type:String,required:!0},value:{type:"",default:""},placeholder:{type:String,default:""},canEdit:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!1},arrowText:{type:[String,Number],default:""},arrowClick:{type:Function},editType:{type:String,default:"text"},isSelect:{type:Boolean,default:!1},options:{type:Array},action:{type:String,default:"check"},color:""},methods:{noteClick:function(){this.arrowClick&&this.arrowClick()},input:function(t){var e=t.target.value;this.$emit("input",e)}}}},371:function(t,e,n){e=t.exports=n(225)(),e.push([t.i,"\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/components/cstItem.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,qBAAqB;EACrB,cAAc;CACf;AACD;IACI,gBAAgB;CACnB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,gBAAgB;CACnB;AACD;MACM,UAAU;CACf;AACD;IACI,oBAAoB;QAChB,gBAAgB;IACpB,aAAa;IACb,eAAe;IACf,0BAA0B;IAC1B,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,kBAAkB;CACrB;AACD;IACI,mBAAmB;QACf,eAAe;IACnB,kBAAkB;CACrB;AACD;MACM,UAAU;MACV,WAAW;MACX,aAAa;MACb,eAAe;MACf,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,kBAAkB;MAClB,wBAAwB;MACxB,oBAAoB;MACpB,iBAAiB;CACtB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,sBAAsB;QACtB,YAAY;QACZ,aAAa;QACb,mBAAmB;CAC1B;AACD;IACI,iBAAiB;QACb,aAAa;CACpB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,oBAAoB;CACzB",file:"cstItem.vue",sourcesContent:["\n.compute-item[data-v-19336c8e] {\n  min-height: 49px;\n  position: relative;\n  padding: 12px 15px;\n  background-color: white;\n  display: -ms-flexbox;\n  display: flex;\n}\n.compute-item.noneBorder > .hairlineTop[data-v-19336c8e]:before {\n    background: red;\n}\n.compute-item .arrow[data-v-19336c8e] {\n    color: #DDD;\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 20px;\n}\n.compute-item .arrow.down[data-v-19336c8e] {\n      top: 13px;\n}\n.compute-item .label[data-v-19336c8e] {\n    -ms-flex: 0 0  auto;\n        flex: 0 0  auto;\n    height: 100%;\n    display: table;\n    padding: 7px 10px 7px 0px;\n    max-width: 52%;\n    color: #484746;\n    text-align: left;\n    line-height: 12px;\n}\n.compute-item .value[data-v-19336c8e] {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    text-align: right;\n}\n.compute-item .value input[data-v-19336c8e] {\n      margin: 0;\n      padding: 0;\n      border: none;\n      color: #ababab;\n      width: 100%;\n      height: 24px;\n      line-height: 24px;\n      text-align: right;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n.compute-item .value span[data-v-19336c8e] {\n      height: 24px;\n      line-height: 24px;\n}\n.compute-item .value span.color[data-v-19336c8e] {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n}\n.compute-item .note[data-v-19336c8e] {\n    -ms-flex: 0 0 5%;\n        flex: 0 0 5%;\n}\n.compute-item .note .item-notes[data-v-19336c8e] {\n      float: right;\n      color: #ababab;\n      line-height: 24px;\n      /*padding: 0 5px;*/\n      padding-right: 15px;\n}\n"],sourceRoot:""}])},372:function(t,e,n){var i=n(371);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(226)("6ea14c28",i,!0)},373:function(t,e,n){n(372);var i=n(0)(n(370),n(374),"data-v-19336c8e",null);t.exports=i.exports},374:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compute-item"},[n("span",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"!==t.editType,expression:"editType!=='color'"}],staticClass:"value"},[t.canEdit&&"check"!==t.action&&"approve"!==t.action&&"checkOnly"!==t.action?n("input",{ref:"input",attrs:{type:t.editType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}}):n("span",[t._v(t._s(t.value))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"color"===t.editType,expression:"editType==='color'"}],staticClass:"value"},[n("span",{staticClass:"color",style:{background:t.color}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"note"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow&&t.arrowText,expression:"hasArrow&&arrowText"}],staticClass:"item-notes",on:{click:t.noteClick}},[t._v(t._s(t.arrowText))]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.hasArrow,expression:"hasArrow"}],staticClass:"icon ion-ios-arrow-right arrow "})]),t._v(" "),n("div",{staticClass:"hairline-top"})])},staticRenderFns:[]}},397:function(t,e,n){"use strict";function i(t){return n.i(A.a)({url:"/api/pm/pop/incept_list",method:"post",data:t})}function a(t){return n.i(A.a)({url:"/api/pm/pop/incept",method:"post",data:t})}function o(t){return n.i(A.a)({url:"/api/pm/pop/confirm_list",method:"post",data:t})}function s(t){return n.i(A.a)({url:"/api/pm/pop/wait_proc_list",method:"post",data:t})}function r(t){return n.i(A.a)({url:"/api/pm/pg/detail",method:"post",data:t})}function p(t){return n.i(A.a)({url:"/api/pm/pop/allocate",method:"post",data:t})}function c(t){return n.i(A.a)({url:"/api/pm/pop/proc_info",method:"post",data:t})}function l(t){return n.i(A.a)({url:"/api/pm/pop/change_status",method:"post",data:t})}e.c=i,e.d=a,e.h=o,e.f=s,e.a=r,e.b=p,e.e=c,e.g=l;var A=n(10)},514:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(397),a=n(20),o=n.n(a),s=n(373),r=n.n(s);e.default={name:"work",components:{SwipeItem:o.a,CstItem:r.a},data:function(){return{tabs:["任务列表","资源列表"],tabIndex:0,inceptList:[],resourceList:[]}},computed:{},activated:function(){this.getData()},mounted:function(){},methods:{joinProc:function(t){alert(1),console.log(t),event.cancelBubble=!0},onTabClick:function(t){t!==this.tabIndex&&(this.tabIndex=t,this.getData())},getData:function(){var t=this,e={query:{type:this.tabIndex+1}};n.i(i.h)(e).then(function(e){0===t.tabIndex?t.inceptList=e.pg_list.pg_list:1===t.tabIndex&&(t.resourceList=e.pg_list.pg_list)}).catch(function(t){$toast.show(t.description)})},memberClick:function(t,e,n){for(var i=!1,a=0;a<t.member_sub_list.length;a++)if(1*t.member_sub_list[a].member_flag==1){i=!0;break}i?$router.forward({path:"/production/work/taskList",query:{pg_id:e,resource_id:t.member_sub_list[0].member_id,type:n,pop_status:t.member_sub_list[0].member_status}}):1*t.member_sub_list[0].member_status==0?$toast.show("无法打开他人任务列表"):$router.forward({path:"/production/work/workInfo",query:{pg_id:e,resource_id:t.member_sub_list[0].member_flag,type:n}})},devClick:function(t,e,n){1*t.device_status==3?$toast.show("设备维修中"):1*t.device_status==2?$toast.show("设备检修中"):1*t.device_status==1?1*t.resource_flag==1?$router.forward({path:"/production/work/taskList",query:{pg_id:e,resource_id:t.device_id,type:n,pop_status:t.device_status}}):$router.forward({path:"/production/work/workInfo",query:{pg_id:e,resource_id:t.device_id,type:n}}):1*t.device_status==0&&(t.resource_flag,$router.forward({path:"/production/work/taskList",query:{pg_id:e,resource_id:t.device_id,type:n,pop_status:t.device_status}}))},onItemClick:function(t){0==this.tabIndex?$router.forward({path:"/production/processRouteDetaile",query:{prod_id:t.prod_id}}):$router.forward("/production/calendar/check/"+t.calendar_id)},check:function(t){void 0===t.check?this.$set(t,"check",!0):this.$delete(t,"check")}}}},656:function(t,e,n){e=t.exports=n(225)(),e.push([t.i,"\n.itemBox[data-v-690b71c4] {\n  overflow: hidden;\n  transition: all .3s;\n}\n.itemBox .itemTitle[data-v-690b71c4] {\n    margin: 0;\n    height: 40px;\n    line-height: 40px;\n    padding: 0 15px;\n    position: relative;\n}\n.itemBox .itemTitle i[data-v-690b71c4] {\n      position: absolute;\n      right: 15px;\n      top: 0;\n      width: 40px;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      color: #416eb6;\n}\n.item > p[data-v-690b71c4] {\n  font-size: 13px;\n  margin-bottom: 3px;\n  color: #999;\n}\n.item > span.right[data-v-690b71c4] {\n  width: 70px;\n  height: 126px;\n  line-height: 126px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  color: #416eb6;\n}\n.itemInfo[data-v-690b71c4] {\n  width: 100%;\n  height: 42px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 12px 15px 0px 55px;\n  line-height: 20px;\n}\n.itemInfo.hasCheck[data-v-690b71c4] {\n    width: 92%;\n}\n.itemInfo > div > p[data-v-690b71c4] {\n    margin-bottom: 0;\n    height: 14px;\n    line-height: 14px;\n}\n.itemInfo span[data-v-690b71c4] {\n    font-size: 12px;\n    color: #999;\n    height: 12px;\n    line-height: 12px;\n}\n.itemInfo .status[data-v-690b71c4] {\n    width: 30px;\n    height: 24px;\n    position: absolute;\n    left: 15px;\n    top: 17px;\n    background: red;\n}\n","",{version:3,sources:["/Users/zxf/code/motooling/mt-app/webs-mtapp/mtApp/mt/www_dev/src/views/production/work/index.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,oBAAoB;CACrB;AACD;IACI,UAAU;IACV,aAAa;IACb,kBAAkB;IAClB,gBAAgB;IAChB,mBAAmB;CACtB;AACD;MACM,mBAAmB;MACnB,YAAY;MACZ,OAAO;MACP,YAAY;MACZ,aAAa;MACb,kBAAkB;MAClB,mBAAmB;MACnB,eAAe;CACpB;AACD;EACE,gBAAgB;EAChB,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,YAAY;EACZ,cAAc;EACd,mBAAmB;EACnB,mBAAmB;EACnB,SAAS;EACT,OAAO;EACP,eAAe;CAChB;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,OAAO;EACP,4BAA4B;EAC5B,kBAAkB;CACnB;AACD;IACI,WAAW;CACd;AACD;IACI,iBAAiB;IACjB,aAAa;IACb,kBAAkB;CACrB;AACD;IACI,gBAAgB;IAChB,YAAY;IACZ,aAAa;IACb,kBAAkB;CACrB;AACD;IACI,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,WAAW;IACX,UAAU;IACV,gBAAgB;CACnB",file:"index.vue",sourcesContent:["\n.itemBox[data-v-690b71c4] {\n  overflow: hidden;\n  transition: all .3s;\n}\n.itemBox .itemTitle[data-v-690b71c4] {\n    margin: 0;\n    height: 40px;\n    line-height: 40px;\n    padding: 0 15px;\n    position: relative;\n}\n.itemBox .itemTitle i[data-v-690b71c4] {\n      position: absolute;\n      right: 15px;\n      top: 0;\n      width: 40px;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      color: #416eb6;\n}\n.item > p[data-v-690b71c4] {\n  font-size: 13px;\n  margin-bottom: 3px;\n  color: #999;\n}\n.item > span.right[data-v-690b71c4] {\n  width: 70px;\n  height: 126px;\n  line-height: 126px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  color: #416eb6;\n}\n.itemInfo[data-v-690b71c4] {\n  width: 100%;\n  height: 42px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 12px 15px 0px 55px;\n  line-height: 20px;\n}\n.itemInfo.hasCheck[data-v-690b71c4] {\n    width: 92%;\n}\n.itemInfo > div > p[data-v-690b71c4] {\n    margin-bottom: 0;\n    height: 14px;\n    line-height: 14px;\n}\n.itemInfo span[data-v-690b71c4] {\n    font-size: 12px;\n    color: #999;\n    height: 12px;\n    line-height: 12px;\n}\n.itemInfo .status[data-v-690b71c4] {\n    width: 30px;\n    height: 24px;\n    position: absolute;\n    left: 15px;\n    top: 17px;\n    background: red;\n}\n"],sourceRoot:""}])},795:function(t,e,n){var i=n(656);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(226)("28a6c64f",i,!0)},943:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page storage"},[n("div",{staticClass:"mw-page-header"},[n("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),n("span",[t._v("小组报工")]),t._v(" "),n("i",{staticClass:"right"},[t._v("扫描")])]),t._v(" "),n("div",{staticClass:"mw-page-content has-tab"},[n("div",{staticStyle:{height:"60px"}},[n("tabs",{attrs:{"tab-items":t.tabs,"tab-index":t.tabIndex,"on-tab-click":t.onTabClick}})],1),t._v(" "),n("div",{staticStyle:{flex:"1"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],staticClass:"content"},[n("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"}},t._l(t.inceptList,function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.pop_list.length>0,expression:"e.pop_list.length>0"}],staticClass:"itemBox",style:{height:e.check?"40px":126*e.pop_list.length+40+"px"}},[n("p",{staticClass:"itemTitle",on:{click:function(n){t.check(e)}}},[t._v("生产小组："+t._s(e.pg_name)+" "),n("i",{class:e.check?"ion-arrow-down-b":"ion-arrow-up-b"})]),t._v(" "),t._l(e.pop_list,function(e,i){return n("item",{staticStyle:{"padding-top":"46px","padding-bottom":"12px"}},[n("div",{staticClass:"itemInfo"},[n("div",{staticClass:"status"}),t._v(" "),n("div",[n("p",{staticStyle:{height:"18px"}},[t._v(t._s(e.mat_no))]),t._v(" "),n("p",[n("span",{staticStyle:{"margin-right":"5px",display:"inline-block","max-width":"70%"}},[t._v("物料名称 : "+t._s(e.mat_name))])])])]),t._v(" "),n("p",[t._v("计划开始时间 : "+t._s(e.plan_start_time))]),t._v(" "),n("p",[t._v("计划结束时间 : "+t._s(e.plan_end_time))]),t._v(" "),n("p",[t._v("任务工时 : "+t._s(e.plan_work_time)+"     待加工数量:"+t._s(e.proc_qty))]),t._v(" "),n("p",[t._v("生产订单号 : "+t._s(e.po_no))]),t._v(" "),1*e.pop_task_flag==1?n("span",{staticClass:"right"},[t._v("我的任务")]):n("span",{staticClass:"right"},[t._v("部门任务")])])})],2)}))],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex===1"}],staticClass:"content"},[n("scroll",{staticClass:"page-content",staticStyle:{"-webkit-overflow-scrolling":"touch"}},t._l(t.resourceList,function(e,i){return n("div",{staticClass:"itemBox",style:{height:e.check?"40px":69*("1"===e.pg_type?e.resource_info.member_list.length:e.resource_info.device_list.length)+40+"px"}},[n("p",{staticClass:"itemTitle",on:{click:function(n){t.check(e)}}},[t._v("生产小组："+t._s(e.pg_name)+" "),n("i",{class:e.check?"ion-arrow-down-b":"ion-arrow-up-b"})]),t._v(" "),t._l(e.resource_info.member_list,function(i,a){return n("item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.pg_type,expression:"e.pg_type==='1'"}],nativeOn:{click:function(n){t.memberClick(i,e.pg_id,e.pg_type)}}},[n("p",t._l(i.member_sub_list,function(e,i){return n("span",{style:{color:1*e.member_flag==1?"#416eb6":""}},[t._v("\n                      "+t._s(e.member_name)+"\n                      "),n("i",{directives:[{name:"show",rawName:"v-show",value:1*e.member_flag==1,expression:"current.member_flag*1===1"}]},[t._v("(我自己)")])])})),t._v(" "),1*i.member_sub_list[0].member_status==0?n("span",{staticClass:"right",staticStyle:{height:"52px","line-height":"52px",width:"58px",color:"red"}},[t._v("待加工")]):n("span",{staticClass:"right",staticStyle:{height:"52px","line-height":"52px",width:"58px"},on:{click:function(e){t.joinProc(i)}}},[t._v("加工中")])])}),t._v(" "),t._l(e.resource_info.device_list,function(i,a){return n("item",{directives:[{name:"show",rawName:"v-show",value:"0"===e.pg_type&&1*i.device_status!=4,expression:"e.pg_type==='0'&&item.device_status*1!==4"}],nativeOn:{click:function(n){t.devClick(i,e.pg_id,e.pg_type)}}},[n("p",[t._v("设备：\n                  "),n("span",{style:{color:1*i.resource_flag==1?"#416eb6":""}},[t._v("\n                    "+t._s(i.device_name)+" "),n("i",[t._v(" "+t._s(1*i.resource_flag==1?"(我负责的)":"")+t._s(1*i.resource_flag==2?"(我参与的)":""))])])]),t._v(" "),n("p",[t._v("编号："+t._s(i.device_no))]),t._v(" "),1*i.device_status==0?n("span",{staticClass:"right",staticStyle:{height:"68px","line-height":"68px",width:"58px",color:"red"}},[t._v("待加工")]):1*i.device_status==1?n("span",{staticClass:"right",staticStyle:{height:"68px","line-height":"68px",width:"58px"}},[t._v("加工中")]):1*i.device_status==2?n("span",{staticClass:"right",staticStyle:{height:"68px","line-height":"68px",width:"58px"}},[t._v("检修中")]):1*i.device_status==3?n("span",{staticClass:"right",staticStyle:{height:"68px","line-height":"68px",width:"58px"}},[t._v("维修中")]):1*i.device_status==5?n("span",{staticClass:"right",staticStyle:{height:"68px","line-height":"68px",width:"58px"}},[t._v("已报废")]):t._e()])})],2)}))],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=43.31d4032ccf6fbb0f8de6.js.map