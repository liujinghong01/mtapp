webpackJsonp([115],{278:function(t,e,a){a(749);var i=a(0)(a(476),a(896),"data-v-36b69dbc",null);t.exports=i.exports},395:function(t,e,a){"use strict";function i(t){return a.i(_.a)({url:"/api/bom/list",method:"post",data:t})}function n(t){return a.i(_.a)({url:"api/bom_node/list",method:"post",data:t})}function o(t){return a.i(_.a)({url:"/api/bom_node/update",method:"post",data:t})}function s(t){return a.i(_.a)({url:"/api/cascade_type/list",method:"post",data:t})}function r(t){return a.i(_.a)({url:"/api/mat_name/list",method:"post",data:t})}function c(t){return a.i(_.a)({url:"/api/mat_name_spec/list",method:"post",data:t})}function d(t){return a.i(_.a)({url:"/api/cascade_mat/list",method:"post",data:t})}function u(t){return a.i(_.a)({url:"/api/rawnature/list",method:"post",data:t})}function p(t){return a.i(_.a)({url:"/api/rawnature/price",method:"post",data:t})}function l(t){return a.i(_.a)({url:"/api/bom_node/info",method:"post",data:t})}function m(t){return a.i(_.a)({url:"/api/bom_node/delete",method:"post",data:t})}e.k=i,e.i=n,e.h=o,e.a=s,e.b=r,e.c=c,e.d=d,e.e=u,e.g=p,e.f=l,e.j=m;var _=a(10)},476:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(20),n=a.n(i),o=a(395);e.default={name:"electrodeList",components:{SwipeItem:n.a},data:function(){return{tabs:["半成品","标准件","电极"],tabIndex:0,app_flag:"",mat_no:"",bom_id:"",node_id:"",mat_type:"",list:[],swipeX:0}},methods:{touchstart:function(){this.swipeX=event.targetTouches[0].clientX},touchend:function(){if(event.changedTouches[0].clientX+30<this.swipeX){for(var t=event.currentTarget.parentNode.children,e=0;e<t.length;e++)t[e].classList.contains("active")&&t[e].classList.remove("active");event.currentTarget.classList.add("active")}},offSwipe:function(){event.currentTarget.parentNode.classList.remove("active")},getData:function(){var t=this,e={query:{bom_id:this.bom_id,node_id:this.node_id,mat_type:""}};a.i(o.i)(e).then(function(e){t.list=e.bom_node_list}).catch(function(t){$toast.show(t.description)})},bomNodeDelete:function(t,e){var i=this;event.currentTarget.parentNode.classList.remove("active"),$dialog.confirm({theme:"ios",title:"确定要删除吗？",cancelText:"取消",okText:"确定"}).then(function(n){if(n){var s={node_id:t.node_id};a.i(o.j)(s).then(function(t){i.list.splice(e,1),$toast.show("删除成功")}).catch(function(t){$toast.show(t.description)})}})}},activated:function(){this.getData()},mounted:function(){this.bom_id=this.$route.params.bom_id,this.node_id=this.$route.params.node_id,this.mat_type=this.$route.params.mat_type,this.app_flag=this.$route.params.app_flag}}},610:function(t,e,a){e=t.exports=a(225)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"electrodeList.vue",sourceRoot:""}])},749:function(t,e,a){var i=a(610);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(226)("6259da79",i,!0)},896:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"nav",rawName:"v-nav",value:{hideNavbar:!0},expression:"{hideNavbar:true}"}],staticClass:"mw-page page mats"},[a("div",{staticClass:"mw-page-header"},[a("i",{staticClass:"left icon ion-ios-arrow-back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),a("span",{staticStyle:{"font-size":"15px"}},[t._v("电极子物料列表")]),t._v(" "),a("i",{staticClass:"right"})]),t._v(" "),a("div",{staticClass:"mw-page-content"},t._l(t.list,function(e,i){return a("div",{staticClass:"bom-swipe-item",on:{touchstart:function(e){t.touchstart(e)},touchend:function(e){t.touchend(e)}}},[a("div",{staticClass:"swipe-content",on:{click:function(a){t.$router.forward("/mats/bom/childNodeDetail/check/"+e.node_id+"/electrode/"+t.app_flag)}}},[a("div",[a("h3",[t._v("物料编号："),a("span",[t._v(t._s(e.mat_no))])]),t._v(" "),a("h3",[t._v("物料名称："),a("span",[t._v(t._s(e.mat_name))])]),t._v(" "),a("p",[a("span",[t._v("规格尺寸("+t._s(e.spec)+")")])]),t._v(" "),a("p",[a("span",[t._v("材质("+t._s(e.rawnature_name)+")")]),t._v(" "),a("span",[t._v("数量("+t._s(e.total_qty)+")")])])])]),t._v(" "),a("div",{staticClass:"swipe-click",on:{click:function(e){t.offSwipe("点击事件")}}}),t._v(" "),a("div",{staticClass:"swipe-side",on:{click:function(a){t.bomNodeDelete(e,i)}}},[t._v("删除")])])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"step30"!==t.$route.params.app_flag,expression:"$route.params.app_flag!=='step30'"}],staticClass:"mw-page-footer"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"btn",on:{click:function(e){t.$router.forward("/mats/bom/childNodeDetail/new/"+t.node_id+"/electrode/"+t.app_flag)}}},[t._v("添加")])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=115.c82924a3851e1f10ac75.js.map