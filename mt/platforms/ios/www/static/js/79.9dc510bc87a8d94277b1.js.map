{"version":3,"sources":["webpack:///static/js/79.9dc510bc87a8d94277b1.js","webpack:///./src/views/mats/bom/childNodes.vue","webpack:///./src/api/mats/index.js?b5c8****","webpack:///childNodes.vue","webpack:///./src/views/mats/bom/childNodes.vue?dd66","webpack:///./src/views/mats/bom/childNodes.vue?0478","webpack:///./src/views/mats/bom/childNodes.vue?3478"],"names":["webpackJsonp","270","module","exports","__webpack_require__","Component","346","__webpack_exports__","bomList","data","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","bomNodeList","updateNodes","cascadeType","mateName","matNameSpec","cascadeMat","rawnatureList","rawnaturePrice","bomNodeInfo","bomNodeDelete","427","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__components_swipeItem__","__WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default","n","__WEBPACK_IMPORTED_MODULE_1__api_mats__","name","components","SwipeItem","a","tabs","app_flag","tabIndex","mat_no","bom_id","node_id","mat_type","list","swipeX","methods","add","this","$router","forward","onClick","item","touchstart","event","targetTouches","clientX","touchend","changedTouches","elArr","currentTarget","parentNode","children","length","classList","contains","remove","offSwipe","getData","_this","matType","requestData","query","then","res","bom_node_list","catch","error","$toast","show","description","index","_this2","$dialog","confirm","theme","title","cancelText","okText","splice","activated","mounted","$route","type","503","push","version","sources","names","mappings","file","sourceRoot","604","content","locals","711","render","_vm","_h","$createElement","_c","_self","directives","rawName","hideNavbar","expression","staticClass","on","click","$event","go","_v","_l","_s","mat_name","spec","rawnature_name","total_qty","staticRenderFns"],"mappings":"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","file":"static/js/79.9dc510bc87a8d94277b1.js","sourcesContent":["webpackJsonp([79],{\n\n/***/ 270:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(604)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(427),\n  /* template */\n  __webpack_require__(711),\n  /* scopeId */\n  \"data-v-1ec5d8d4\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = bomList;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = bomNodeList;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = updateNodes;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = cascadeType;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = mateName;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = matNameSpec;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = cascadeMat;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = rawnatureList;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = rawnaturePrice;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = bomNodeInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = bomNodeDelete;\n/* unused harmony export commitBom */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(7);\n\n\n\nfunction bomList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: 'api/bom_node/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction updateNodes(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/update',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeType(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_type/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction mateName(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction matNameSpec(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/mat_name_spec/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction cascadeMat(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/cascade_mat/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnatureList(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/list',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction rawnaturePrice(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/rawnature/price',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeInfo(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/info',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction bomNodeDelete(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom_node/delete',\n    method: 'post',\n    data: data\n  });\n}\n\nfunction commitBom(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/bom/app',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ 427:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_swipeItem__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_swipeItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_mats__ = __webpack_require__(346);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'bomchildNodes',\n  components: { SwipeItem: __WEBPACK_IMPORTED_MODULE_0__components_swipeItem___default.a },\n  data: function data() {\n    return {\n      tabs: ['半成品', '标准件', '电极'],\n      app_flag: '',\n      tabIndex: 0,\n      mat_no: '',\n      bom_id: '',\n      node_id: '',\n      mat_type: '',\n      list: [],\n      swipeX: 0\n    };\n  },\n\n  methods: {\n    add: function add() {\n      if (this.mat_type === '电极') {\n        this.$router.forward('/mats/bom/nodeDetail/new/' + this.node_id + '/2/' + this.mat_no);\n      } else {\n        this.$router.forward('/mats/bom/childNodeDetail/new/' + this.node_id + '/materials/' + this.app_flag);\n      }\n    },\n    onClick: function onClick(item) {\n      if (this.mat_type === '电极') {\n        $router.forward('/mats/bom/nodes/electrodeList/' + this.bom_id + '/' + item.node_id + '/' + item.mat_type + '/' + item.mat_no + '/' + this.app_flag);\n      } else {\n        $router.forward('/mats/bom/childNodeDetail/check/' + item.node_id + '/materials/' + this.app_flag);\n      }\n    },\n    touchstart: function touchstart() {\n      this.swipeX = event.targetTouches[0].clientX;\n    },\n    touchend: function touchend() {\n      var X = event.changedTouches[0].clientX + 30;\n      if (X < this.swipeX) {\n        var elArr = event.currentTarget.parentNode.children;\n        for (var i = 0; i < elArr.length; i++) {\n          if (elArr[i].classList.contains(\"active\")) {\n            elArr[i].classList.remove(\"active\");\n          }\n        }\n        event.currentTarget.classList.add('active');\n      }\n    },\n    offSwipe: function offSwipe() {\n      event.currentTarget.parentNode.classList.remove('active');\n    },\n    getData: function getData() {\n      var _this = this;\n\n      var matType = '';\n      if (this.mat_type === '电极') {\n        matType = '电极';\n      }\n      var requestData = {\n        query: {\n          bom_id: this.bom_id,\n          node_id: this.node_id,\n          mat_type: matType\n        }\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_mats__[\"i\" /* bomNodeList */])(requestData).then(function (res) {\n        _this.list = res.bom_node_list;\n      }).catch(function (error) {\n        $toast.show(error.description);\n      });\n    },\n    bomNodeDelete: function bomNodeDelete(item, index) {\n      var _this2 = this;\n\n      event.currentTarget.parentNode.classList.remove('active');\n      $dialog.confirm({\n        theme: 'ios',\n\n        title: '确定要删除吗？',\n\n        cancelText: '取消',\n\n        okText: '确定'\n      }).then(function (res) {\n        if (res) {\n\n          var requestData = { node_id: item.node_id };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_mats__[\"j\" /* bomNodeDelete */])(requestData).then(function (res) {\n            _this2.list.splice(index, 1);\n            $toast.show('删除成功');\n          }).catch(function (error) {\n            $toast.show(error.description);\n          });\n        }\n      });\n    }\n  },\n  activated: function activated() {\n    this.getData();\n  },\n  mounted: function mounted() {\n    this.bom_id = this.$route.query.bom_id;\n    this.node_id = this.$route.query.node_id;\n    this.mat_type = this.$route.query.type;\n    this.app_flag = this.$route.query.app_flag;\n    this.getData();\n  }\n});\n\n/***/ }),\n\n/***/ 503:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(220)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"childNodes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 604:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(503);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(221)(\"dd7c0cd8\", content, true);\n\n/***/ }),\n\n/***/ 711:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, _vm._l((_vm.list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.onClick(item)\n        }\n      }\n    }, [_c('div', [_c('h3', [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (this.app_flag !== 'step30'),\n      expression: \"this.app_flag!=='step30'\"\n    }],\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"添加\")])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/79.9dc510bc87a8d94277b1.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-1ec5d8d4&scoped=true!sass-loader?sourceMap!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./childNodes.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./childNodes.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-1ec5d8d4!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./childNodes.vue\"),\n  /* scopeId */\n  \"data-v-1ec5d8d4\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mats/bom/childNodes.vue\n// module id = 270\n// module chunks = 79","/**\r\n * Created by zxf on 2017/11/27.\r\n */\r\n\r\n//物料相关接口\r\nimport fetch from '@/utils/fetch'\r\n//bom列表\r\nexport function bomList(data) {\r\n  return fetch({\r\n    url: '/api/bom/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 某bom下的一级节点列表\r\n///api/bom_node/list\r\nexport function bomNodeList(data) {\r\n  return fetch({\r\n    url: 'api/bom_node/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//新建或修改Bom节点\r\n// /api/bom_node/update\r\nexport function updateNodes(data) {\r\n  return fetch({\r\n    url: '/api/bom_node/update',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料类别列表\r\n//  /api/cascade_type/list\r\nexport function cascadeType(data) {\r\n  return fetch({\r\n    url: '/api/cascade_type/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料名称列表\r\n// /api/mat_name/list\r\nexport function mateName(data) {\r\n  return fetch({\r\n    url: '/api/mat_name/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料名称级联规格查询\r\n//  /api/mat_name_spec/list\r\nexport function matNameSpec(data) {\r\n  return fetch({\r\n    url: '/api/mat_name_spec/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//物料类型级联名称查询\r\n// /api/cascade_mat/list\r\nexport function cascadeMat(data) {\r\n  return fetch({\r\n    url: '/api/cascade_mat/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//材质列表\r\n//  /api/rawnature/list\r\nexport function rawnatureList(data) {\r\n  return fetch({\r\n    url: '/api/rawnature/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//计划单价计算\r\n// /api/rawnature/price\r\nexport function rawnaturePrice(data) {\r\n  return fetch({\r\n    url: '/api/rawnature/price',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//查询BOM节点详细信息\r\n//  /api/bom_node/info\r\nexport function bomNodeInfo(data) {\r\n  return fetch({\r\n    url: '/api/bom_node/info',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//删除Bom节点\r\n//  /api/bom_node/delete\r\nexport function bomNodeDelete(data) {\r\n  return fetch({\r\n    url: '/api/bom_node/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//提交审批\r\n//  /api/bom/app\r\nexport function commitBom(data) {\r\n  return fetch({\r\n    url: '/api/bom/app',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mats/index.js","<template>\r\n    <div class=\"mw-page page mats\" v-nav=\"{hideNavbar:true}\">\r\n        <div class=\"mw-page-header\">\r\n            <i class=\"left icon ion-ios-arrow-back\" @click=\"$router.go(-1)\"></i>\r\n            <span >物料列表</span>\r\n            <i class=\"right\"></i>\r\n        </div>\r\n        <div class=\"mw-page-content\">\r\n\r\n          <div v-for=\"(item,index) in list\" class=\"bom-swipe-item\"  @touchstart=\"touchstart($event)\"  @touchend=\"touchend($event)\" >\r\n            <div class=\"swipe-content\" @click=\"onClick(item)\">\r\n              <div>\r\n                <h3>物料编号：<span>{{ item.mat_no }}</span></h3>\r\n                <!--<h3>物料名称：<span>{{ 缺少物料名称字段 }}</span></h3>-->\r\n                <h3>物料名称：<span>{{ item.mat_name }}</span></h3>\r\n                <p>\r\n                  <span>规格尺寸({{ item.spec }})</span>\r\n                </p>\r\n                <p>\r\n                  <span>材质({{ item.rawnature_name }})</span>\r\n                  <span>数量({{ item.total_qty }})</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"swipe-click\" @click=\"offSwipe('点击事件')\"></div>\r\n            <div class=\"swipe-side\" @click=\"bomNodeDelete(item,index)\">删除</div>\r\n          </div>\r\n        </div>\r\n        <div v-show=\"this.app_flag!=='step30'\" class=\"mw-page-footer\">\r\n            <div  class=\"btns\">\r\n              <div class=\"btn\" @click=\"add\">添加</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import SwipeItem from \"../../../components/swipeItem\";//bomNodeList\r\n  import { bomNodeList,bomNodeDelete } from '@/api/mats'\r\n    export default{\r\n    name:'bomchildNodes',\r\n      components: {SwipeItem},\r\n      data(){\r\n        return {\r\n          tabs:['半成品','标准件','电极'],\r\n          app_flag:'',\r\n          tabIndex:0,\r\n          mat_no:'',\r\n          bom_id:'',\r\n          node_id:'',\r\n          mat_type:'',\r\n          list:[\r\n//            {\r\n//              \"rawnature_name\":\"请选择\",\r\n//              \"mat_type\":\"毛坯\",\r\n//              \"mat_id\":130,\r\n//              \"total_qty\":1.00000,\r\n//              \"length\":10.00000,\r\n//              \"width\":0.00000,\r\n//              \"mat_no\":\"M2017005-20171205135643-20171205135643\",\r\n//              \"spec\":\"请选择\",\r\n//              \"node_id\":115,\r\n//              \"is_purchase\":\"1\",\r\n//              \"height\":10.00000\r\n//            },\r\n//            {\r\n//            \"rawnature_name\":\"铜\",\r\n//              \"mat_type\":\"毛坯\",\"mat_id\":132,\"total_qty\":1.00000,\"length\":10.00000,\r\n//              \"width\":0.00000,\"mat_no\":\"M2017005-20171205153251-20171205153251\",\r\n//              \"spec\":\"请选择\",\r\n//              \"node_id\":119,\r\n//              \"is_purchase\":\"1\",\r\n//              \"height\":10.00000\r\n//            },\r\n//            {\r\n//            \"rawnature_name\":\"铜\",\"mat_type\":\"毛坯\",\"mat_id\":134,\"total_qty\":1.00000,\"length\":10.00000,\"width\":0.00000,\"mat_no\":\"M2017005-20171205155421-20171205155421\",\"spec\":\"请选择\",\"node_id\":121,\"is_purchase\":\"1\",\"height\":10.00000\r\n//            }\r\n          ],\r\n          swipeX:0,\r\n        }\r\n\r\n      },\r\n      methods: {\r\n        add(){\r\n          if(this.mat_type==='电极'){\r\n            this.$router.forward('/mats/bom/nodeDetail/new/'+this.node_id+'/2/'+this.mat_no)\r\n\r\n          }else{\r\n            this.$router.forward('/mats/bom/childNodeDetail/new/'+this.node_id+'/materials/'+this.app_flag)\r\n          }\r\n        },\r\n        onClick(item){\r\n          if(this.mat_type==='电极'){\r\n            $router.forward('/mats/bom/nodes/electrodeList/'+this.bom_id+'/'+item.node_id+'/'+item.mat_type+'/'+item.mat_no+'/'+this.app_flag)\r\n          }else{\r\n            $router.forward('/mats/bom/childNodeDetail/check/'+item.node_id+'/materials/'+this.app_flag)\r\n          }\r\n        },\r\n        touchstart(){\r\n          this.swipeX=event.targetTouches[0].clientX\r\n        },\r\n        touchend(){\r\n          var X=event.changedTouches[0].clientX+30\r\n          if(X<this.swipeX){\r\n            var elArr=event.currentTarget.parentNode.children\r\n            for(var i=0;i<elArr.length;i++){\r\n              if(elArr[i].classList.contains(\"active\")){\r\n                elArr[i].classList.remove(\"active\")\r\n              }\r\n            }\r\n            event.currentTarget.classList.add('active')\r\n          }\r\n        },\r\n        offSwipe(){\r\n          event.currentTarget.parentNode.classList.remove('active')\r\n        },\r\n        getData(){\r\n          let matType=''\r\n          if(this.mat_type==='电极'){\r\n            matType='电极'\r\n          }\r\n          const requestData={\r\n            query:{\r\n              bom_id:this.bom_id,\r\n              node_id:this.node_id,\r\n              mat_type:matType\r\n            }\r\n          }\r\n          bomNodeList(requestData).then(res=>{\r\n            this.list=res.bom_node_list\r\n          }).catch(error=>{\r\n            $toast.show(error.description)\r\n          })\r\n        },\r\n        bomNodeDelete(item,index){\r\n          event.currentTarget.parentNode.classList.remove('active')\r\n          $dialog.confirm({\r\n            // 设置为ios样式\r\n            theme: 'ios',\r\n            // 标题\r\n            title: '确定要删除吗？',\r\n            // 取消按钮文本\r\n            cancelText: '取消',\r\n            // 确定按钮文本\r\n            okText: '确定'\r\n          }).then(res=>{\r\n            if(res){\r\n\r\n              const requestData={node_id:item.node_id}\r\n              bomNodeDelete(requestData).then(res=>{\r\n                this.list.splice(index,1)\r\n                $toast.show('删除成功')\r\n              }).catch(error=>{\r\n                $toast.show(error.description)\r\n              })\r\n            }\r\n          })\r\n        },\r\n      },\r\n      activated:function(){\r\n        this.getData();\r\n\r\n      },\r\n      mounted(){\r\n        this.bom_id = this.$route.query.bom_id\r\n        this.node_id = this.$route.query.node_id\r\n        this.mat_type = this.$route.query.type\r\n        this.app_flag =this.$route.query.app_flag\r\n        this.getData();\r\n      }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// childNodes.vue?7ab561f4","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"childNodes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-1ec5d8d4&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/childNodes.vue\n// module id = 503\n// module chunks = 79","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-1ec5d8d4&scoped=true!../../../../node_modules/sass-loader/lib/loader.js?sourceMap!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./childNodes.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"dd7c0cd8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-1ec5d8d4&scoped=true!./~/sass-loader/lib/loader.js?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mats/bom/childNodes.vue\n// module id = 604\n// module chunks = 79","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"nav\",\n      rawName: \"v-nav\",\n      value: ({\n        hideNavbar: true\n      }),\n      expression: \"{hideNavbar:true}\"\n    }],\n    staticClass: \"mw-page page mats\"\n  }, [_c('div', {\n    staticClass: \"mw-page-header\"\n  }, [_c('i', {\n    staticClass: \"left icon ion-ios-arrow-back\",\n    on: {\n      \"click\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"物料列表\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"right\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mw-page-content\"\n  }, _vm._l((_vm.list), function(item, index) {\n    return _c('div', {\n      staticClass: \"bom-swipe-item\",\n      on: {\n        \"touchstart\": function($event) {\n          _vm.touchstart($event)\n        },\n        \"touchend\": function($event) {\n          _vm.touchend($event)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"swipe-content\",\n      on: {\n        \"click\": function($event) {\n          _vm.onClick(item)\n        }\n      }\n    }, [_c('div', [_c('h3', [_vm._v(\"物料编号：\"), _c('span', [_vm._v(_vm._s(item.mat_no))])]), _vm._v(\" \"), _c('h3', [_vm._v(\"物料名称：\"), _c('span', [_vm._v(_vm._s(item.mat_name))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"规格尺寸(\" + _vm._s(item.spec) + \")\")])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"材质(\" + _vm._s(item.rawnature_name) + \")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"数量(\" + _vm._s(item.total_qty) + \")\")])])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-click\",\n      on: {\n        \"click\": function($event) {\n          _vm.offSwipe('点击事件')\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"swipe-side\",\n      on: {\n        \"click\": function($event) {\n          _vm.bomNodeDelete(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (this.app_flag !== 'step30'),\n      expression: \"this.app_flag!=='step30'\"\n    }],\n    staticClass: \"mw-page-footer\"\n  }, [_c('div', {\n    staticClass: \"btns\"\n  }, [_c('div', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"添加\")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-1ec5d8d4!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mats/bom/childNodes.vue\n// module id = 711\n// module chunks = 79"],"sourceRoot":""}