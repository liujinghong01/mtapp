<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mt.pc.common.dao.PcInquirySupMapper" >
  <resultMap id="BaseResultMap" type="com.mt.pc.common.model.PcInquirySup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 17 16:04:52 CST 2017.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="sup_company_id" property="supCompanyId" jdbcType="BIGINT" />
    <result column="sup_name" property="supName" jdbcType="VARCHAR" />
    <result column="deal_flag" property="dealFlag" jdbcType="TINYINT" />
    <result column="inquiry_id" property="inquiryId" jdbcType="BIGINT" />
    <result column="company_id" property="companyId" jdbcType="INTEGER" />
    <result column="company_name" property="companyName" jdbcType="VARCHAR" />
    <result column="purch_man" property="purchMan" jdbcType="BIGINT" />
    <result column="purch_man_name" property="purchManName" jdbcType="VARCHAR" />
    <result column="purch_man_phone" property="purchManPhone" jdbcType="VARCHAR" />
    <result column="purch_man_email" property="purchManEmail" jdbcType="VARCHAR" />
    <result column="inquiry_date" property="inquiryDate" jdbcType="TIMESTAMP" />
    <result column="quote_date" property="quoteDate" jdbcType="TIMESTAMP" />
    <result column="quote_end_date" property="quoteEndDate" jdbcType="TIMESTAMP" />
    <result column="delivery_date" property="deliveryDate" jdbcType="TIMESTAMP" />
    <result column="delivery_place" property="deliveryPlace" jdbcType="VARCHAR" />
    <result column="coin" property="coin" jdbcType="VARCHAR" />
    <result column="invoice_type" property="invoiceType" jdbcType="TINYINT" />
    <result column="tax_ratio" property="taxRatio" jdbcType="DECIMAL" />
    <result column="handler_id" property="handlerId" jdbcType="BIGINT" />
    <result column="created_at" property="createdAt" jdbcType="TIMESTAMP" />
    <result column="updated_at" property="updatedAt" jdbcType="TIMESTAMP" />
    <result column="total_price" property="totalPrice" jdbcType="DECIMAL" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />

  </resultMap>


  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 17 16:04:52 CST 2017.
    -->
    delete from pc_inquiry_sup
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.mt.pc.common.model.PcInquirySup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 17 16:04:52 CST 2017.
    -->
    insert into pc_inquiry_sup (id, sup_company_id, sup_name, 
      deal_flag, inquiry_id, company_id, 
      company_name, purch_man, purch_man_name, 
      purch_man_phone, purch_man_email, inquiry_date, 
      quote_date, quote_end_date, delivery_date, 
      delivery_place, coin, invoice_type, 
      tax_ratio, handler_id, created_at, 
      updated_at, total_price, status, 
      remark)
    values (#{id,jdbcType=BIGINT}, #{supCompanyId,jdbcType=BIGINT}, #{supName,jdbcType=VARCHAR}, 
      #{dealFlag,jdbcType=TINYINT}, #{inquiryId,jdbcType=BIGINT}, #{companyId,jdbcType=INTEGER}, 
      #{companyName,jdbcType=VARCHAR}, #{purchMan,jdbcType=BIGINT}, #{purchManName,jdbcType=VARCHAR}, 
      #{purchManPhone,jdbcType=VARCHAR}, #{purchManEmail,jdbcType=VARCHAR}, #{inquiryDate,jdbcType=TIMESTAMP}, 
      #{quoteDate,jdbcType=TIMESTAMP}, #{quoteEndDate,jdbcType=TIMESTAMP}, #{deliveryDate,jdbcType=TIMESTAMP}, 
      #{deliveryPlace,jdbcType=VARCHAR}, #{coin,jdbcType=VARCHAR}, #{invoiceType,jdbcType=TINYINT}, 
      #{taxRatio,jdbcType=DECIMAL}, #{handlerId,jdbcType=BIGINT}, #{createdAt,jdbcType=TIMESTAMP}, 
      #{updatedAt,jdbcType=TIMESTAMP}, #{totalPrice,jdbcType=DECIMAL}, #{status,jdbcType=TINYINT}, 
      #{remark,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.mt.pc.common.model.PcInquirySup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 17 16:04:52 CST 2017.
    -->
    insert into pc_inquiry_sup
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="supCompanyId != null" >
        sup_company_id,
      </if>
      <if test="supName != null" >
        sup_name,
      </if>
      <if test="dealFlag != null" >
        deal_flag,
      </if>
      <if test="inquiryId != null" >
        inquiry_id,
      </if>
      <if test="companyId != null" >
        company_id,
      </if>
      <if test="companyName != null" >
        company_name,
      </if>
      <if test="purchMan != null" >
        purch_man,
      </if>
      <if test="purchManName != null" >
        purch_man_name,
      </if>
      <if test="purchManPhone != null" >
        purch_man_phone,
      </if>
      <if test="purchManEmail != null" >
        purch_man_email,
      </if>
      <if test="inquiryDate != null" >
        inquiry_date,
      </if>
      <if test="quoteDate != null" >
        quote_date,
      </if>
      <if test="quoteEndDate != null" >
        quote_end_date,
      </if>
      <if test="deliveryDate != null" >
        delivery_date,
      </if>
      <if test="deliveryPlace != null" >
        delivery_place,
      </if>
      <if test="coin != null" >
        coin,
      </if>
      <if test="invoiceType != null" >
        invoice_type,
      </if>
      <if test="taxRatio != null" >
        tax_ratio,
      </if>
      <if test="handlerId != null" >
        handler_id,
      </if>
      <if test="createdAt != null" >
        created_at,
      </if>
      <if test="updatedAt != null" >
        updated_at,
      </if>
      <if test="totalPrice != null" >
        total_price,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="remark != null" >
        remark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="supCompanyId != null" >
        #{supCompanyId,jdbcType=BIGINT},
      </if>
      <if test="supName != null" >
        #{supName,jdbcType=VARCHAR},
      </if>
      <if test="dealFlag != null" >
        #{dealFlag,jdbcType=TINYINT},
      </if>
      <if test="inquiryId != null" >
        #{inquiryId,jdbcType=BIGINT},
      </if>
      <if test="companyId != null" >
        #{companyId,jdbcType=INTEGER},
      </if>
      <if test="companyName != null" >
        #{companyName,jdbcType=VARCHAR},
      </if>
      <if test="purchMan != null" >
        #{purchMan,jdbcType=BIGINT},
      </if>
      <if test="purchManName != null" >
        #{purchManName,jdbcType=VARCHAR},
      </if>
      <if test="purchManPhone != null" >
        #{purchManPhone,jdbcType=VARCHAR},
      </if>
      <if test="purchManEmail != null" >
        #{purchManEmail,jdbcType=VARCHAR},
      </if>
      <if test="inquiryDate != null" >
        #{inquiryDate,jdbcType=TIMESTAMP},
      </if>
      <if test="quoteDate != null" >
        #{quoteDate,jdbcType=TIMESTAMP},
      </if>
      <if test="quoteEndDate != null" >
        #{quoteEndDate,jdbcType=TIMESTAMP},
      </if>
      <if test="deliveryDate != null" >
        #{deliveryDate,jdbcType=TIMESTAMP},
      </if>
      <if test="deliveryPlace != null" >
        #{deliveryPlace,jdbcType=VARCHAR},
      </if>
      <if test="coin != null" >
        #{coin,jdbcType=VARCHAR},
      </if>
      <if test="invoiceType != null" >
        #{invoiceType,jdbcType=TINYINT},
      </if>
      <if test="taxRatio != null" >
        #{taxRatio,jdbcType=DECIMAL},
      </if>
      <if test="handlerId != null" >
        #{handlerId,jdbcType=BIGINT},
      </if>
      <if test="createdAt != null" >
        #{createdAt,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedAt != null" >
        #{updatedAt,jdbcType=TIMESTAMP},
      </if>
      <if test="totalPrice != null" >
        #{totalPrice,jdbcType=DECIMAL},
      </if>
      <if test="status != null" >
        #{status,jdbcType=TINYINT},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.mt.pc.common.model.PcInquirySup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 17 16:04:52 CST 2017.
    -->
    update pc_inquiry_sup
    <set >
      <if test="supCompanyId != null" >
        sup_company_id = #{supCompanyId,jdbcType=BIGINT},
      </if>
      <if test="supName != null" >
        sup_name = #{supName,jdbcType=VARCHAR},
      </if>
      <if test="dealFlag != null" >
        deal_flag = #{dealFlag,jdbcType=TINYINT},
      </if>
      <if test="inquiryId != null" >
        inquiry_id = #{inquiryId,jdbcType=BIGINT},
      </if>
      <if test="companyId != null" >
        company_id = #{companyId,jdbcType=INTEGER},
      </if>
      <if test="companyName != null" >
        company_name = #{companyName,jdbcType=VARCHAR},
      </if>
      <if test="purchMan != null" >
        purch_man = #{purchMan,jdbcType=BIGINT},
      </if>
      <if test="purchManName != null" >
        purch_man_name = #{purchManName,jdbcType=VARCHAR},
      </if>
      <if test="purchManPhone != null" >
        purch_man_phone = #{purchManPhone,jdbcType=VARCHAR},
      </if>
      <if test="purchManEmail != null" >
        purch_man_email = #{purchManEmail,jdbcType=VARCHAR},
      </if>
      <if test="inquiryDate != null" >
        inquiry_date = #{inquiryDate,jdbcType=TIMESTAMP},
      </if>
      <if test="quoteDate != null" >
        quote_date = #{quoteDate,jdbcType=TIMESTAMP},
      </if>
      <if test="quoteEndDate != null" >
        quote_end_date = #{quoteEndDate,jdbcType=TIMESTAMP},
      </if>
      <if test="deliveryDate != null" >
        delivery_date = #{deliveryDate,jdbcType=TIMESTAMP},
      </if>
      <if test="deliveryPlace != null" >
        delivery_place = #{deliveryPlace,jdbcType=VARCHAR},
      </if>
      <if test="coin != null" >
        coin = #{coin,jdbcType=VARCHAR},
      </if>
      <if test="invoiceType != null" >
        invoice_type = #{invoiceType,jdbcType=TINYINT},
      </if>
      <if test="taxRatio != null" >
        tax_ratio = #{taxRatio,jdbcType=DECIMAL},
      </if>
      <if test="handlerId != null" >
        handler_id = #{handlerId,jdbcType=BIGINT},
      </if>
      <if test="createdAt != null" >
        created_at = #{createdAt,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedAt != null" >
        updated_at = #{updatedAt,jdbcType=TIMESTAMP},
      </if>
      <if test="totalPrice != null" >
        total_price = #{totalPrice,jdbcType=DECIMAL},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=TINYINT},
      </if>
      <if test="remark != null" >
        remark = #{remark,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.mt.pc.common.model.PcInquirySup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 17 16:04:52 CST 2017.
    -->
    update pc_inquiry_sup
    set sup_company_id = #{supCompanyId,jdbcType=BIGINT},
      sup_name = #{supName,jdbcType=VARCHAR},
      deal_flag = #{dealFlag,jdbcType=TINYINT},
      inquiry_id = #{inquiryId,jdbcType=BIGINT},
      company_id = #{companyId,jdbcType=INTEGER},
      company_name = #{companyName,jdbcType=VARCHAR},
      purch_man = #{purchMan,jdbcType=BIGINT},
      purch_man_name = #{purchManName,jdbcType=VARCHAR},
      purch_man_phone = #{purchManPhone,jdbcType=VARCHAR},
      purch_man_email = #{purchManEmail,jdbcType=VARCHAR},
      inquiry_date = #{inquiryDate,jdbcType=TIMESTAMP},
      quote_date = #{quoteDate,jdbcType=TIMESTAMP},
      quote_end_date = #{quoteEndDate,jdbcType=TIMESTAMP},
      delivery_date = #{deliveryDate,jdbcType=TIMESTAMP},
      delivery_place = #{deliveryPlace,jdbcType=VARCHAR},
      coin = #{coin,jdbcType=VARCHAR},
      invoice_type = #{invoiceType,jdbcType=TINYINT},
      tax_ratio = #{taxRatio,jdbcType=DECIMAL},
      handler_id = #{handlerId,jdbcType=BIGINT},
      created_at = #{createdAt,jdbcType=TIMESTAMP},
      updated_at = #{updatedAt,jdbcType=TIMESTAMP},
      total_price = #{totalPrice,jdbcType=DECIMAL},
      status = #{status,jdbcType=TINYINT},
      remark = #{remark,jdbcType=VARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>

  <!-- wendy添加-->

  <select id="selectFeedBackList" parameterType="map" resultType="map" >
    SELECT sb.deal_flag, py.id AS inquiry_id, py.inquiry_no, sb.id AS feedback_id
    FROM pc_inquiry_sup_sub sp
    INNER JOIN pc_inquiry_sup sb ON sp.inquiry_sup_id = sb.id
    INNER JOIN pc_inquiry py ON sb.inquiry_id = py.id
    <where>
      <if test="mat_desc != null and mat_desc != ''">
        mat_desc = #{mat_desc}
      </if>
      <if test="deal_flag != null and deal_flag != ''">
        And sb.deal_flag  = #{deal_flag}
      </if>
      <if test="company_id != null and company_id != ''">
        And sb.sup_company_id =#{company_id}
      </if>
      And  sp.status =1
    </where>
    Limit #{page},#{page_size}
  </select>


  <select id="totalCount"  parameterType="map" resultType="java.lang.Integer" >
    SELECT COUNT(sb.id)
    FROM pc_inquiry_sup_sub sp
    INNER JOIN pc_inquiry_sup sb ON sp.inquiry_sup_id = sb.id
    INNER JOIN pc_inquiry py ON sb.inquiry_id = py.id
    <where>
      <if test="mat_desc != null and mat_desc != ''">
        mat_desc = #{mat_desc}
      </if>
      <if test="deal_flag != null and deal_flag != ''">
        And sb.deal_flag  = #{deal_flag}
      </if>
      <if test="company_id != null and company_id != ''">
        And sb.sup_company_id =#{company_id}
      </if>
      And  sp.status =1
    </where>
  </select>


  <sql id="Base_Column_List" >
    id, sup_company_id, sup_name, deal_flag, inquiry_id, company_id, company_name, purch_man,
    purch_man_name, purch_man_phone, purch_man_email, inquiry_date, quote_date, quote_end_date,
    delivery_date, delivery_place, coin, invoice_type, tax_ratio, handler_id, created_at,
    updated_at, total_price, status, remark
  </sql>


  <select id="selectInquirySup" resultType="map"  >
    SELECT psb.coin, psb.coin_name, psb.deal_flag
    , DATE_FORMAT(psb.delivery_date, '%Y-%m-%d') AS delivery_date, psb.delivery_place
    , psb.id AS feedback_id, DATE_FORMAT(psb.inquiry_date, '%Y-%m-%d') AS inquiry_date, psb.invoice_type
    , psb.invoice_type_name, psb.purch_man, psb.purch_man_email, psb.purch_man_name, psb.purch_man_phone
    , DATE_FORMAT(psb.quote_date, '%Y-%m-%d') AS quote_date
    , DATE_FORMAT(psb.quote_end_date, '%Y-%m-%d') AS quote_end_date, psb.remark
    , psb.sup_company_id, psb.sup_name, psb.tax_ratio, psb.total_price
    FROM pc_inquiry_sup psb
    <where>
    <if test="inquiry_id !=null and inquiry_id!=''">
      And psb.inquiry_id=#{inquiry_id}
    </if>
    <if  test="company_id !=null and  company_id!=''">
      And psb.sup_company_id=#{company_id}
    </if>
    And psb.status=1
    </where>
  </select>


  <select id="selectSupInfo"  resultType="map">
      SELECT sup_company_id, sup_name
  FROM pc_inquiry_sup
  WHERE inquiry_id = #{inquiry_id}
      AND status = 1
  </select>


  <select id="selectSupInquiryFeedBack" resultType="map"  parameterType="map" >
    SELECT coin, coin_name, deal_flag
    , DATE_FORMAT(delivery_date, '%Y-%m-%d') AS delivery_date, delivery_place
    , id AS feedback_id, DATE_FORMAT(inquiry_date, '%Y-%m-%d') AS inquiry_date, invoice_type
    , invoice_type_name AS purch_man, purch_man_email, purch_man_name, purch_man_phone
    , DATE_FORMAT(quote_date, '%Y-%m-%d') AS quote_date
    , DATE_FORMAT(quote_end_date, '%Y-%m-%d') AS quote_end_date, remark
    , sup_company_id, sup_name, tax_ratio, total_price
    FROM pc_inquiry_sup
    <where>
      <if test="feedback_id != null and feedback_id != ''">
         id=#{feedback_id}
      </if>
      <if test="inquiry_id != null and inquiry_id != ''">
        And inquiry_id=#{inquiry_id}
      </if>
      <if test="company_id != null and company_id != ''">
        And company_id=#{company_id}
      </if>
      order  by  total_price  asc
    </where>
  </select>


  <insert id="addInquirySup" useGeneratedKeys="true" keyProperty="id" keyColumn="id" parameterType="java.util.Map" >
    <selectKey resultType="int" order="AFTER" keyProperty="id">
      SELECT LAST_INSERT_ID() as id
    </selectKey>
    insert into pc_inquiry_sup
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="sup_company_id != null  and sup_company_id!=''" >
        sup_company_id,
      </if>
      <if test="sup_name != null and sup_name!=''" >
        sup_name,
      </if>
      <if test="deal_flag != null and deal_flag!=''" >
        deal_flag,
      </if>
      <if test="inquiry_id != null and inquiry_id!=''" >
        inquiry_id,
      </if>
      <if test="company_id != null and company_id!=''" >
        company_id,
      </if>
      <if test="purch_man != null and purch_man!=''" >
        purch_man,
      </if>
      <if test="purch_man_name != null and purch_man_name!=''" >
        purch_man_name,
      </if>
      <if test="purch_man_phone != null and purch_man_phone!=''" >
        purch_man_phone,
      </if>
      <if test="purch_man_email != null and purch_man_email!=''" >
        purch_man_email,
      </if>
      <if test="inquiry_date != null and inquiry_date!=''" >
        inquiry_date,
      </if>
      <if test="quote_date != null and quote_date!=''" >
        quote_date,
      </if>
      <if test="quote_end_date != null and quote_end_date!=''" >
        quote_end_date,
      </if>
      <if test="delivery_date != null and delivery_date!=''" >
        delivery_date,
      </if>
      <if test="delivery_place != null and delivery_place!=''" >
        delivery_place,
      </if>
      <if test="coin != null and coin!=''" >
        coin,
      </if>
      <if test="coin_name != null and coin_name!=''" >
        coin_name,
      </if>
      <if test="invoice_type != null and invoice_type!=''" >
        invoice_type,
      </if>
      <if test="invoice_type_name != null and invoice_type_name!=''" >
        invoice_type_name,
      </if>
      <if test="tax_ratio != null and tax_ratio!=''" >
        tax_ratio,
      </if>
      <if test="handler_id != null and handler_id!=''" >
        handler_id,
      </if>

      <if test="total_price != null and total_price!=''" >
        total_price,
      </if>
      <if test="remark != null and remark!=''" >
        remark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="sup_company_id != null and sup_company_id!=''" >
        #{sup_company_id,jdbcType=BIGINT},
      </if>
      <if test="sup_name != null and sup_name!=''" >
        #{sup_name,jdbcType=VARCHAR},
      </if>
      <if test="deal_flag != null and deal_flag!=''" >
        #{deal_flag,jdbcType=TINYINT},
      </if>
      <if test="inquiry_id != null and inquiry_id!=''" >
        #{inquiry_id,jdbcType=BIGINT},
      </if>
      <if test="company_id != null and company_id!=''" >
        #{company_id,jdbcType=INTEGER},
      </if>
      <if test="purch_man != null and purch_man!=''" >
        #{purch_man,jdbcType=BIGINT},
      </if>
      <if test="purch_man_name != null and purch_man_name!=''" >
        #{purch_man_name,jdbcType=VARCHAR},
      </if>
      <if test="purch_man_phone != null and purch_man_phone!=''" >
        #{purch_man_phone,jdbcType=VARCHAR},
      </if>
      <if test="purch_man_email != null and purch_man_email!=''" >
        #{purch_man_email,jdbcType=VARCHAR},
      </if>
      <if test="inquiry_date != null and inquiry_date!=''" >
        #{inquiry_date,jdbcType=TIMESTAMP},
      </if>
      <if test="quote_date != null and quote_date!=''" >
        #{quote_date,jdbcType=TIMESTAMP},
      </if>
      <if test="quote_end_date != null and quote_end_date!=''" >
        #{quote_end_date,jdbcType=TIMESTAMP},
      </if>
      <if test="delivery_date != null and delivery_date!=''" >
        #{delivery_date,jdbcType=TIMESTAMP},
      </if>
      <if test="delivery_place != null and delivery_place!=''" >
        #{delivery_place,jdbcType=VARCHAR},
      </if>
      <if test="coin != null and coin!=''" >
        #{coin,jdbcType=VARCHAR},
      </if>
      <if test="coin_name != null and coin_name!=''" >
        #{coin_name,jdbcType=VARCHAR},
      </if>
      <if test="invoice_type != null and invoice_type!=''" >
        #{invoice_type,jdbcType=TINYINT},
      </if>
      <if test="invoice_type_name != null and invoice_type_name!=''" >
        #{invoice_type_name,jdbcType=VARCHAR},
      </if>
      <if test="tax_ratio != null and tax_ratio!=''" >
        #{tax_ratio,jdbcType=DECIMAL},
      </if>
      <if test="handler_id != null and handler_id!=''" >
        #{handler_id,jdbcType=BIGINT},
      </if>
      <if test="total_price != null and total_price!=''" >
        #{total_price,jdbcType=DECIMAL},
      </if>
      <if test="remark != null and remark!=''" >
        #{remark,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>

  <update id="updateInquirySup" parameterType="map">
    update pc_inquiry_sup
    <set >
      <if test="sup_company_id != null and  sup_company_id!=''" >
        sup_company_id = #{sup_company_id,jdbcType=BIGINT},
      </if>
      <if test="sup_name != null  and  sup_name!=''" >
        sup_name = #{sup_name,jdbcType=VARCHAR},
      </if>
      <if test="deal_flag != null  and  deal_flag!=''" >
        deal_flag = #{deal_flag,jdbcType=TINYINT},
      </if>
      <if test="inquiry_id != null  and  inquiry_id!=''" >
        inquiry_id = #{inquiry_id,jdbcType=BIGINT},
      </if>
      <if test="company_id != null  and  company_id!=''" >
        company_id = #{company_id,jdbcType=INTEGER},
      </if>
      <if test="purch_man != null  and  purch_man!=''" >
        purch_man = #{purch_man,jdbcType=BIGINT},
      </if>
      <if test="purch_man_name != null  and  purch_man_name!=''" >
        purch_man_name = #{purch_man_name,jdbcType=VARCHAR},
      </if>
      <if test="purch_man_phone != null  and  purch_man_phone!=''" >
        purch_man_phone = #{purch_man_phone,jdbcType=VARCHAR},
      </if>
      <if test="purch_man_email != null  and  purch_man_email!=''" >
        purch_man_email = #{purch_man_email,jdbcType=VARCHAR},
      </if>
      <if test="inquiry_date != null  and  inquiry_date!=''" >
        inquiry_date = #{inquiry_date,jdbcType=TIMESTAMP},
      </if>
      <if test="quote_date != null  and  quote_date!=''" >
        quote_date = #{quote_date,jdbcType=TIMESTAMP},
      </if>
      <if test="quote_end_date != null  and  sup_company_id!=''" >
        quote_end_date = #{quote_end_date,jdbcType=TIMESTAMP},
      </if>
      <if test="delivery_date != null  and  delivery_date!=''" >
        delivery_date = #{delivery_date,jdbcType=TIMESTAMP},
      </if>
      <if test="delivery_place != null  and  delivery_place!=''" >
        delivery_place = #{delivery_place,jdbcType=VARCHAR},
      </if>
      <if test="coin != null  and  coin!=''" >
        coin = #{coin,jdbcType=VARCHAR},
      </if>
      <if test="coin_name != null  and  coin_name!=''" >
        coin_name = #{coin_name,jdbcType=VARCHAR},
      </if>
      <if test="invoice_type != null  and  invoice_type!=''" >
        invoice_type = #{invoice_type,jdbcType=TINYINT},
      </if>
      <if test="invoice_type_name != null  and  invoice_type_name!=''" >
        invoice_type_name = #{invoice_type_name,jdbcType=VARCHAR},
      </if>
      <if test="tax_ratio != null  and  tax_ratio!=''" >
        tax_ratio = #{tax_ratio,jdbcType=DECIMAL},
      </if>
      <if test="handler_id != null  and  handler_id!=''" >
        handler_id = #{handler_id,jdbcType=BIGINT},
      </if>
      <if test="total_price != null  and  total_price!=''" >
        total_price = #{total_price,jdbcType=DECIMAL},
      </if>
      <if test="updated_at != null  and  updated_at!=''" >
        updated_at = #{updated_at,jdbcType=TIMESTAMP},
      </if>
      <if test="remark != null  and  remark!=''" >
        remark = #{remark,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{feedback_id,jdbcType=BIGINT}
  </update>
</mapper>